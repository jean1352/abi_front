(this["webpackJsonpabi-frontend"]=this["webpackJsonpabi-frontend"]||[]).push([[77],{1404:function(e,t,n){},1699:function(e,t,n){"use strict";n.r(t),n.d(t,"FabricanteConfiguracion",(function(){return w}));var a=n(33),c=n(24),i=n(30),r=n(626),o=(n(500),n(88)),s=n(858),l=n(40),d=n(18),u=n(161),j=n(3),b=n.n(j),m=n(1545),f=n(1514),h=n(1513),p=n(57),O=n(475),x=n(476),g=n(498),v=n(8),_=n(101),y=n(86),N=(n(1404),n(9)),C={id:0,contrasena:"",repetir_contrasena:"",contrasena_actual:""},w=Object(u.a)((function(){var e=Object(y.b)(),t=e.loginStore,n=Object(p.e)(),u=Object(_.A)(),w=Object(j.useState)(!1),k=Object(c.a)(w,2),S=k[0],D=(k[1],Object(j.useState)(!1)),I=Object(c.a)(D,2),A=I[0],R=I[1],E=Object(j.useState)(),P=Object(c.a)(E,2),T=(P[0],P[1],Object(j.useState)(C)),z=Object(c.a)(T,2),L=z[0],F=z[1],M=Object(j.useState)(""),B=Object(c.a)(M,2),U=(B[0],B[1],Object(j.useState)(!1)),q=Object(c.a)(U,2),H=q[0],W=q[1],Y=Object(j.useState)(C),V=Object(c.a)(Y,2),G=V[0],J=V[1],Z=Object(j.useState)(!1),Q=Object(c.a)(Z,2),K=Q[0],X=Q[1],$=Object(j.useState)([]),ee=Object(c.a)($,2),te=(ee[0],ee[1],Object(j.useState)(!1)),ne=Object(c.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(j.useState)(),re=Object(c.a)(ie,2),oe=(re[0],re[1]),se=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),le=0,de=Object(j.useState)(le),ue=Object(c.a)(de,2),je=ue[0],be=(ue[1],Object(_.J)());b.a.useEffect((function(){je===le&&oe([{titulo:"Perfil",ruta:v.o.PERFIL},{titulo:"Configuraci\xf3n"}])}),[je]),b.a.useEffect((function(){"web"!==i.Capacitor.getPlatform()&&o.a.getPermissionSubscriptionState().then((function(e){e.subscriptionStatus.subscribed||t.setNotificacionesActivas(e.subscriptionStatus.subscribed)}))}),[]);var me=function(e,n){if(10===n){o.a.enableSound(e);var a=e?"Notificaciones activadas":"Notificaciones desactivadas",c=e?"activar las notificaciones":"desactivar las notificaciones";e&&"web"!==i.Capacitor.getPlatform()&&o.a.getIds().then((function(n){t.setOneSignal(n.userId,n.pushToken),console.log("@ids",n.userId,n.pushToken),t.environment.api.setDevice(n.userId,n.pushToken,e).then((function(n){console.log("setnotificaciones",n),u(n,a,c),"ok"===n.kind&&t.setNotificacionesActivas(e)}))}))}else{t.setSonidosActivos(e),e?(be("Sonidos activados","success"),r.a.checkFile(r.a.dataDirectory,"no_sound").then((function(e){e&&r.a.removeFile(r.a.dataDirectory,"no_sound")})).catch((function(e){console.log("sonido activo")}))):(be("Sonidos desactivadoss","success"),r.a.checkFile(r.a.dataDirectory,"no_sound").then((function(e){console.log("sonido desactivado")})).catch((function(e){console.log("sonido desactivado"),r.a.createFile(r.a.dataDirectory,"no_sound",!1).then((function(e){console.log(e)}))})))}},fe=function(e,t){var n=Object(a.a)({},L);n[e]=t,F(n)},he=function(c){W(!0),J(C);var i=c?Object(a.a)({},c):Object(a.a)({},L),r=function(){J(C);var e=Object(a.a)({},G),t=!1;return""===L.contrasena_actual&&(e.contrasena_actual="Se requiere la contrase\xf1a actual",t=!0),L.contrasena&&""===L.contrasena.trim()&&(e.contrasena="Se requiere una contrase\xf1a",t=!0),L.contrasena&&L.repetir_contrasena&&L.contrasena!==L.repetir_contrasena&&(e.contrasena="Las contrase\xf1as no coinciden",t=!0),J(e),!t}();i.nro_telefono=Object(_.p)(i.nro_telefono),i.username=t.username,i.id=t.id,r?e.environment.api.guardarCliente(i).then((function(e){u(e,"Datos actualizados correctamente","guardar"),W(!1),"ok"===e.kind?(Object(d.u)((function(){t.setUser(e.user),t.setApiToken(e.user.token)})),n.push(v.o.CONFIGURACION),R(!1)):"bad-data"===e.kind&&J(e.errors)})):W(!1)};return Object(N.jsxs)(O.u,{login_required:!0,fabricante:!0,disableScroll:!0,id:"menu-perfil-fabricante",children:[Object(N.jsx)(x.a,{isOpen:A,close:function(){return R(!1)},titulo:"Cambio de contrase\xf1a",color:"var(--azul-fabricante)",cssClass:"modal-cambiar-contrasena",children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{style:{},children:Object(N.jsx)(O.c,{deshabilitado:!H,titulo:"Contrase\xf1a actual",tipo:"password",campo:"contrasena_actual",valor:L.contrasena_actual?L.contrasena_actual:"",error:G&&G.contrasena_actual,set_dato:fe,columnas:12,columnas_sm:12})}),Object(N.jsx)("div",{style:{},children:Object(N.jsx)(O.c,{deshabilitado:!H,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:L.contrasena?L.contrasena:"",error:G&&G.contrasena,set_dato:fe,columnas:12,columnas_sm:12})}),Object(N.jsx)("div",{style:{},children:Object(N.jsx)(O.c,{deshabilitado:!H,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:L.repetir_contrasena?L.repetir_contrasena:"",error:G&&G.repetir_contrasena,set_dato:fe,columnas:12,columnas_sm:12})}),Object(N.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[Object(N.jsx)("div",{}),Object(N.jsx)("button",{className:"btn btn-primary",title:"Guardar contrase\xf1a",onClick:function(){he()},children:"Guardar"})]})]})}),Object(N.jsx)(g.a,{noContainer:!0,links:[{titulo:"Configuraci\xf3n"}]}),Object(N.jsxs)("div",{className:"container-menu-perfil ml-3 mt-5",children:[Object(N.jsx)("h4",{style:{color:"var(--gris-oscuro-abi)",padding:0},children:"Configuraci\xf3n"}),Object(N.jsxs)("a",{className:"",onClick:function(){return n.push(v.o.API)},children:[Object(N.jsx)("img",{src:"assets/icon/api.png"}),Object(N.jsx)("span",{children:" API"})]}),Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return n.push(v.o.DOCUMENTOS)},children:[Object(N.jsx)("img",{src:"assets/icon/credit-card.png"}),Object(N.jsx)("span",{children:" Documentos"}),S&&Object(N.jsx)(m.a,{size:20,style:{marginLeft:5,color:"var(--azul-fabricante)"}})]}),Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return n.push(v.o.HORARIO_ATENCION)},children:[Object(N.jsx)("img",{src:"assets/icon/Factura.png"}),Object(N.jsx)("span",{children:"Horario de atenci\xf3n"})]}),se&&Object(N.jsxs)("a",{className:"mb-2",onClick:function(){ce(!ae)},children:[Object(N.jsx)("img",{src:"assets/icon/notificacion.png"}),Object(N.jsx)("span",{children:" Notificaciones"}),!ae&&Object(N.jsx)(f.a,{size:18}),ae&&Object(N.jsx)(h.a,{size:18})]}),ae&&Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{}),Object(N.jsx)(l.B,{onIonChange:function(e){return me(!t.notificacionesActivas,10)},className:"toggle-registro-abi",checked:t.notificacionesActivas})]}),se&&Object(N.jsxs)("a",{className:"mb-2",onClick:function(){X(!K)},children:[Object(N.jsx)("img",{src:"assets/icon/sonido.png"}),Object(N.jsx)("span",{children:"Sonido"}),!K&&Object(N.jsx)(f.a,{size:18}),K&&Object(N.jsx)(h.a,{size:18})]}),K&&Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{}),Object(N.jsx)(l.B,{onIonChange:function(e){return me(!t.sonidosActivos,20)},className:"toggle-registro-abi",checked:t.sonidosActivos})]}),se&&Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return s.a.open("application_details")},children:[Object(N.jsx)("img",{src:"assets/icon/documentos.png"}),Object(N.jsx)("span",{children:"Permisos de ABi"})]}),Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return R(!0)},children:[Object(N.jsx)("img",{src:"assets/icon/candado.png"}),Object(N.jsx)("span",{children:"Cambiar contrase\xf1a"})]}),Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return n.push(v.o.CAMBIO_MODO)},children:[Object(N.jsx)("img",{src:"assets/icon/cambiar-cuenta.png"}),Object(N.jsx)("span",{children:"Cambiar cuenta"})]}),Object(N.jsxs)("a",{className:"mb-2",onClick:function(){return n.push(v.m.LOGOUT)},style:{color:"var(--naranja-abi)"},children:[Object(N.jsx)("img",{src:"assets/icon/cerrar-sesion.png"}),Object(N.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]})]})}));t.default=w},475:function(e,t,n){"use strict";n.d(t,"i",(function(){return a.a})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"y",(function(){return N})),n.d(t,"A",(function(){return C.a})),n.d(t,"B",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return Q})),n.d(t,"c",(function(){return $})),n.d(t,"u",(function(){return te.a})),n.d(t,"z",(function(){return ne.a})),n.d(t,"g",(function(){return ae.a})),n.d(t,"o",(function(){return le.a})),n.d(t,"v",(function(){return de.a})),n.d(t,"n",(function(){return ue.a})),n.d(t,"w",(function(){return ve})),n.d(t,"s",(function(){return _e})),n.d(t,"e",(function(){return we})),n.d(t,"m",(function(){return De})),n.d(t,"t",(function(){return Re})),n.d(t,"l",(function(){return ze.a})),n.d(t,"D",(function(){return Be})),n.d(t,"r",(function(){return Ue})),n.d(t,"x",(function(){return qe.a})),n.d(t,"p",(function(){return He.a})),n.d(t,"f",(function(){return $e})),n.d(t,"h",(function(){return et})),n.d(t,"q",(function(){return K.a})),n.d(t,"d",(function(){return lt})),n.d(t,"C",(function(){return ut}));var a=n(496),c=n(3),i=n.n(c),r=n(161),o=n(57),s=n(1524),l=n(9),d=Object(r.a)((function(e){var t=Object(o.e)(),n=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return t.goBack()},children:Object(l.jsx)(s.a,{size:26,style:{color:"#FFF"}})}),a=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}});return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"top",style:{height:55,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n,Object(l.jsx)("a",{onClick:function(){return t.push("/")},children:Object(l.jsx)("img",{src:"assets/abi-logo-white.png",alt:"Logo de ABi",style:{height:30}})}),a]})})})),u=(n(541),n(86)),j=n(8),b=n(30),m=n(477),f=Object(r.a)((function(e){var t=Object(o.e)(),n=Object(u.b)().loginStore,a=e.accion_boton_izquierdo?e.accion_boton_izquierdo:function(){return t.goBack()},c=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return a()},children:Object(l.jsx)(s.a,{size:26,style:{color:"#FFF"}})}),i=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}}),r=e.color||"var(--azul-fabricante)",d=e.titulo||"",f=e.sub_titulo||"";return Object(l.jsx)("div",{style:{height:100,minHeight:100},children:Object(l.jsxs)("div",{className:"registro-cliente-header-main-container",style:{backgroundColor:r},children:[Object(l.jsxs)("div",{className:"row mx-0 px-0",children:[Object(l.jsx)("div",{className:"col-2 text-left px-1 cpointer",children:c}),Object(l.jsx)("div",{className:"col-8 text-center ",children:Object(l.jsx)("a",{className:"logo-abi-fabricante cpointer",onClick:function(){n.isLoggedIn&&30===n.modo_uso_app?"android"===b.Capacitor.getPlatform()||"ios"===b.Capacitor.getPlatform()?t.push(j.n.HOME):t.push(j.p.INICIO):n.isLoggedIn&&20===n.modo_uso_app?t.push(j.o.PEDIDOS_PENDIENTES):t.push(j.m.ROOT)},children:m.a.abi})}),Object(l.jsx)("div",{className:"col-2 text-right px-1 pt-2 cpointer",children:i})]}),Object(l.jsxs)("div",{className:"text-center ",children:[Object(l.jsx)("div",{className:"text-white",children:Object(l.jsx)("strong",{children:d})}),!n.isLoggedIn&&Object(l.jsx)("div",{className:"text-white",onClick:function(){e.accion_boton_centro&&e.accion_boton_centro()},children:Object(l.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"bold"},children:f})})]})]})})})),h=n(33),p=n(26),O=n(24),x=n(40),g=n(577),v=n.n(g),_=n(1021),y=n(101),N=i.a.forwardRef((function(e,t){var n=Object(c.useState)(!1),a=Object(O.a)(n,2),i=a[0],r=a[1],o=Object(c.useState)([]),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(c.useState)(0),b=Object(O.a)(j,2),m=b[0],f=b[1],g=Object(c.useRef)(1),N=Object(c.useState)(10),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)(""),D=Object(O.a)(S,2),I=D[0],A=D[1],R=Object(c.useState)(""),E=Object(O.a)(R,2),P=E[0],T=E[1],z=Object(c.useState)(!1),L=Object(O.a)(z,2),F=L[0],M=L[1],B=Object(c.useState)(0),U=Object(O.a)(B,2),q=U[0],H=U[1],W=Object(y.A)();Object(c.useImperativeHandle)(t,(function(){return{refresh:function(){Y(w,g.current,I)},clearSelected:function(){M(!F)},selectRow:function(e){H(e)}}})),Object(c.useEffect)((function(){Y(w,1,I)}),[]);var Y=function(t,n,a){r(!0),e.obtenerDatos(t,n,a,P).then((function(e){r(!1),"ok"===e.kind?(f(e.data.count),u(e.data.results)):W(e,"","listar")}))},V=function(){g.current=1,Y(w,g.current,I)};return Object(l.jsx)("div",{className:"table-responsive",children:Object(l.jsx)(v.a,Object(h.a)(Object(h.a)({},e),{},{data:d,noHeader:!0,subHeaderComponent:Object(l.jsxs)("div",{className:"input-group",style:{maxWidth:300},children:[Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Escriba el texto a buscar",value:P,onChange:function(e){return T(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&V()}}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:function(){return V()},children:Object(l.jsx)(_.a,{size:14})})})]}),progressPending:i,pagination:!e.disablePagination,paginationServer:!e.disablePagination,paginationTotalRows:e.disablePagination?void 0:m,paginationRowsPerPageOptions:e.disablePagination?void 0:[10,30,50,70,100],onChangeRowsPerPage:e.disablePagination?void 0:function(e,t){k(e),Y(e,t,I)},onChangePage:e.disablePagination?void 0:function(e){g.current=e,Y(w,e,I)},onSort:e.disablePagination?void 0:function(e){var t=(I.endsWith(e.selector)&&!I.startsWith("-")?"-":"")+e.selector;A(t),Y(w,g.current,t)},paginationPerPage:e.disablePagination?void 0:w,sortServer:!0,noDataComponent:Object(l.jsx)("div",{className:"mb-5",children:"No hay registros para mostrar"}),paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina:",rangeSeparatorText:"de",selectAllRowsItemText:"Todos"},progressComponent:Object(l.jsx)("div",{children:Object(l.jsx)(x.z,{color:"dark",name:"crescent"})}),selectableRows:!!e.selectableRows&&e.selectableRows,onSelectedRowsChange:function(t){return e.selectedRows(Object(p.a)(t.selectedRows))},clearSelectedRows:F,selectableRowSelected:function(e){return!!q&&q==e.id}}))})})),C=n(481),w=(n(542),n(1513)),k=n(532),S=function(e){var t=Object(k.a)(),n=Object(O.a)(t,2),a=n[0],c=n[1],i={height:"".concat(e.height,"px")};return Object(l.jsx)("div",{className:"virtual-scroll-child",style:i,ref:a,children:c?e.children:null})},D=function(e){var t=e.rows,n=e.rowHeight,a=e.onLastRow,i=e.className,r=Object(k.a)(),o=Object(O.a)(r,2),s=o[0],d=o[1];Object(c.useEffect)((function(){d&&a&&a()}),[d]);var u=[];e.children&&e.children.length?u=e.children:t&&t.length&&(u=t);return Object(l.jsx)("div",{className:i?"virtual-scroll-container ".concat(i):"virtual-scroll-container",children:u.map((function(e,t){return t===u.length-1?Object(l.jsx)("div",{ref:s,children:Object(l.jsx)(S,{height:n,children:e})},e.key):Object(l.jsx)(S,{height:n,children:e},e.key)}))})},I=Object(r.a)((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),o=Object(O.a)(r,2),s=o[0],d=o[1],u=Object(c.useState)([]),j=Object(O.a)(u,2),b=j[0],m=j[1],f=Object(c.useState)([]),h=Object(O.a)(f,2),g=h[0],v=h[1],_=Object(c.useState)(""),y=Object(O.a)(_,2),N=y[0],C=y[1],k=e.auto_aceptar||!1,S=e.class_boton_aceptar||"btn-outline-primary",I=e.checkbox_style||"",A=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(A=!0);var R=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var n=[];null!==e.listado_elementos&&(n=e.listado_elementos.filter((function(n){return n[e.llave_label_opcion]&&t&&n[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?n:e.listado_elementos)}};return Object(c.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)d(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){d([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&m([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id&&(d(e.listado_elementos_seleccionados.map((function(e){return e.id}))),m(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(d([e.listado_elementos_seleccionados.id]),m([e.listado_elementos_seleccionados[e.llave_label_opcion]]));R("")}),[e.listado_elementos_seleccionados]),Object(c.useEffect)((function(){e.mostrar_modal&&i(!0),e.mostrar_modal_cambio_estado&&!a&&e.mostrar_modal_cambio_estado(a)}),[e.mostrar_modal,a]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:a,onDidDismiss:function(){C(""),R("")},backdropDismiss:!1,children:[Object(l.jsxs)(x.j,{children:[Object(l.jsxs)(x.C,{children:[Object(l.jsx)(x.A,{slot:"start",className:"text-truncate",style:{minWidth:void 0===e.boton_extra_text?350:0},children:e.titulo}),void 0!==e.boton_extra_text&&Object(l.jsx)(x.A,{slot:"end",children:Object(l.jsx)("a",{className:"text-primary",title:"Agregar "+e.boton_extra_text,onClick:function(){i(!1),e.boton_extra_funcion()},children:Object(l.jsx)("small",{children:"Agregar"})})})]}),Object(l.jsx)(x.C,{children:Object(l.jsx)(x.w,{showCancelButton:"focus",placeholder:"Buscar",value:N,onIonChange:function(e){R(e.detail.value),C(e.detail.value)}})})]}),Object(l.jsx)(x.g,{children:g&&g.length>0&&Object(l.jsx)(D,{rowHeight:46,rows:g.map((function(t){return Object(l.jsxs)(x.n,{children:[Object(l.jsx)(x.o,{children:t[e.llave_label_opcion]}),Object(l.jsx)(x.f,{className:I,slot:"end",value:t.id,checked:s.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var n=Object(p.a)(s),a=Object(p.a)(b),c=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=n.indexOf(t);n.includes(t)?(n.splice(r,1),a.splice(r,1)):e.multiple?(n.push(t),a.push(c)):(n=[t],a=[c]),d(n),m(a),k&&(i(!1),e.datos_filtrados(n))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){return i(!a)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+S+" btn-block",onClick:function(){i(!a),e.datos_filtrados(s)},children:"ACEPTAR"})})]})})]}),void 0===e.ocultar_input&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"row",onClick:function(){return A?null:i(!a)},children:[e.titulo_label&&Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("span",{className:"label-selector-modal-registro",children:e.titulo_label})}),Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("input",{disabled:!0,type:"text",className:"form-control registro-selector-modal-input",readOnly:!0,value:b.join(", "),placeholder:e.placeholder}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{disabled:A,className:"btn btn-outline-secondary btn-registro-selector-modal",type:"button",children:Object(l.jsx)(w.a,{size:18,className:"",color:"#4e4e4e"})})})]})})]})})]})})),A=(n(486),n(487),n(1525)),R=n(1540),E=n(58),P=Object(r.a)((function(e){var t,n=Object(u.b)().loginStore,a=e.img_extra_class||"",i=e.extra_class||"",r=e.separador_dinero||!1,o=e.separador_miles||!1,s=Object(c.useState)(!1),d=Object(O.a)(s,2),j=d[0],b=d[1],m=window.screen.height;return!1===e.restriccion?null:(t=30===n.modo_uso_app?"#ff6f33":20===n.modo_uso_app?"#303AB2":"#000000",Object(l.jsxs)("div",{className:"col-"+e.columnas+"  "+i,children:[e.show_image_alert&&e.imagen||e.es_protegido&&e.imagen&&Object(l.jsxs)(x.q,{animated:!0,isOpen:j,cssClass:"modal-imagen-grande",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return b(!1)},children:[Object(l.jsxs)("div",{className:"transportista-header",style:{backgroundColor:t},children:[Object(l.jsx)("span",{className:"text-truncate",style:{maxWidth:330,color:"#fff",paddingLeft:10},children:e.titulo}),Object(l.jsx)(A.a,{className:"ml-auto mr-3",size:30,onClick:function(){return b(!1)},color:"white",style:{float:"right"}})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-auto",children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,style:{maxHeight:.7*m}})})})]}),e.titulo&&Object(l.jsxs)("div",{className:"text-gray mb-2 d-flex align-items-center",children:[Object(l.jsx)("strong",{children:e.titulo})," ",e.show_image_alert&&e.imagen&&Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)(R.a,{size:18,className:"ml-2"})})]}),Object(l.jsxs)("div",{className:"detalle-admin-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.html&&Object(l.jsx)("p",{dangerouslySetInnerHTML:{__html:e.html}}),r&&Object(l.jsx)("p",{className:"text-gray",children:Object(E.o)(e.texto)}),o&&Object(l.jsx)("p",{className:"text-gray",children:Object(E.b)(e.texto)}),void 0!==e.texto&&!o&&!r&&Object(l.jsx)("p",{className:"text-gray",children:e.texto}),e.info_icon&&Object(l.jsx)(l.Fragment,{children:e.info_icon})]}),e.imagen&&!e.show_image_alert&&!e.es_protegido&&Object(l.jsx)("p",{className:a,children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})}),e.imagen&&!e.show_image_alert&&e.es_protegido&&Object(l.jsx)("p",{className:a,children:Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})})]}))})),T=n(534),z=n(530),L=n(584),F=n(585),M=n.n(F),B=n(537),U=n(520),q=n(533),H=n(480),W=n.n(H),Y=(n(586),n(575)),V=n.n(Y),G=n(1541),J=n(1542);Object(T.registerLocale)("es",z.default);var Z=n(162),Q=Object(r.a)((function(e){var t=e.textAreaRows||2,n=e.extra_css||"",a=(e.columnas_sm||e.columnas,Object(c.useState)(!1)),i=Object(O.a)(a,2),r=i[0],o=(i[1],Object(c.useState)(!1)),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(c.useState)(!0),b=Object(O.a)(j,2),m=b[0],f=b[1],p=e.verificar_boton_clase||"btn-outline-primary",x=Object(c.useState)(null),g=Object(O.a)(x,2),v=g[0],_=g[1],N=Object(c.useState)(null),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useRef)(null),D=Object(c.useRef)(null),I=Object(y.D)(v,500),A=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase();if(!1===e.restriccion)return null;var R=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(R=!0);var E=function(t,n,a){e.set_dato(t,n,a)},P=function(t){e.set_dato_blur(t)},T=function(t){t?(k(t.value),E(e.campo,t.value)):E(e.campo,null),e.select_onchange&&e.select_onchange(t)};return Object(c.useEffect)((function(){u(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(c.useEffect)((function(){f(!0===e.verificar_firebase_habilitado)}),[e.verificar_firebase_habilitado]),Object(c.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&k(e.valor.value),_("")}),[e.valor]),Object(c.useEffect)((function(){e.opciones_select&&S.current&&e.opciones_select(I).then((function(e){S.current(e)}))}),[I]),void 0!==e.horizontal&&e.horizontal?Object(l.jsx)("div",{className:"col-12 col-lg-6 col-xl-"+e.columnas+" "+n,children:Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo})}),Object(l.jsxs)("div",{className:"col-6",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:Z(e.valor).format("0,0"),onBlur:function(t){var n=Z(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>n&&(n=e.numero_minimo,E(e.campo,n))},onChange:function(t){var n=Z(t.target.value).value();E(e.campo,n)}}),"texto"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return E(e.campo,t.target.value)},placeholder:e.placeholder}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99/99/9999",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99:99",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono"===e.tipo&&Object(l.jsx)(M.a,{disabled:R,country:"py",localization:L,value:e.valor?e.valor.toString():"",placeholder:"595 981 123 456",onChange:function(t){return E(e.campo,t)}}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){E(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){E(e.campo,!e.valor)},children:"Aprobado"})]})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})}):Object(l.jsxs)("div",{className:"col-12 col-lg-"+e.columnas+" "+n,children:[Object(l.jsxs)("div",{className:"form-group",children:[e.titulo&&Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo}),"numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:""!==e.valor?Z(e.valor).format("0,0"):"",onBlur:function(t){var n=Z(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>n&&(n=e.numero_minimo,E(e.campo,n))},onChange:function(t){var n=Z(t.target.value).value();E(e.campo,n)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:e.valor,onBlur:function(t){E(e.campo,Z(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){E(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return E(e.campo,t.target.value)},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&P(e.campo)},placeholder:e.placeholder}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{disabled:R,className:"form-control",rows:t,id:e.campo,onChange:function(t){return E(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",placeholder:e.placeholder}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){return E(e.campo,t.editor.getData())},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]]},readOnly:R}),"ckeditor-full"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){return E(e.campo,t.editor.getData())},readOnly:R}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99/99/9999",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99:99",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono-simple"===e.tipo&&Object(l.jsx)(V.a,{className:"form-control",placeholder:e.titulo,disabled:R,options:{phone:!0,phoneRegionCode:"PY"},value:e.valor,onChange:function(t){E(e.campo,t.target.rawValue)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-8",children:Object(l.jsx)(W.a,{disabled:R,className:"form-control",mask:"0\\999-999-999",onChange:function(t){E(e.campo,t.target.value)},value:e.valor})}),!d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center "+p+" py-1"+(m?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){m&&e.verificar_firebase_func()},children:Object(l.jsx)("span",{children:"Verificar"})})}),d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+p+" py-1",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})}),(r||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger ml-3 mt-2 pr-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(U.a,{isDisabled:R,value:e.opciones_select.filter((function(t){return t.value==e.valor}))[0],onChange:T,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(q.a,{ref:D,value:e.valor&&e.valor.value?e.valor.value:"",onChange:T,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){_(e),S.current=t},defaultOptions:e.opciones_select(null),placeholder:w||A,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&P(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){E(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){E(e.campo,!e.valor)},children:e.titulo})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})})),K=(n(545),n(476));Object(T.registerLocale)("es",z.default);var X=n(162),$=Object(r.a)((function(e){var t=Object(u.b)(),n=t.loginStore,a=t.registroStore,i=e.textAreaRows||2,r=e.extra_css||"",o=e.set_dato_registro_store||!1,s=e.verificar_boton_clase||"btn-outline-primary",d=e.columnas_sm||e.columnas,j=Object(c.useState)(!1),b=Object(O.a)(j,2),m=b[0],f=b[1],p=Object(c.useState)(!1),x=Object(O.a)(p,2),g=x[0],v=x[1],_=Object(c.useState)(!1),N=Object(O.a)(_,2),C=N[0],w=N[1],k=Object(c.useState)(null),S=Object(O.a)(k,2),D=S[0],I=S[1],A=Object(c.useState)(null),R=Object(O.a)(A,2),E=R[0],P=R[1],T=Object(c.useRef)(null),z=Object(c.useRef)(null),L=Object(y.D)(D,500),F=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),M={control:function(e){return Object(h.a)(Object(h.a)({},e),{},{border:0,borderBottom:"1px solid #afafaf",color:"#929292",fontWeight:"bolder"})},singleValue:function(e){return Object(h.a)(Object(h.a)({},e),{},{color:"#929292"})},valueContainer:function(e){return Object(h.a)(Object(h.a)({},e),{},{paddingLeft:0})}};if(!1===e.restriccion)return null;var H=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(H=!0);var Y=function(t,n,a){e.set_dato(t,n,a)},V=function(t){e.set_dato_blur(t)},G=function(t,c){e.prepare_dato_registro_store&&(c=e.prepare_dato_registro_store(c)),n.isLoggedIn||a.setDatoRegistroStore(t,c)},J=function(t){t?(P(t.value),Y(e.campo,t.value),o&&G(e.campo,t.value)):(Y(e.campo,null),o&&G(e.campo,null)),e.select_onchange&&e.select_onchange(t)};return Object(c.useEffect)((function(){v(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(c.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&P(e.valor.value),I("")}),[e.valor]),Object(c.useEffect)((function(){e.opciones_select&&T.current&&e.opciones_select(L).then((function(e){T.current(e)}))}),[L]),Object(l.jsxs)("div",{className:"col-"+e.columnas+" col-lg-"+d+" "+r,children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:e.color?e.color:"var(--naranja-abi)",isOpen:C,close:function(){return w(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)("div",{className:"form-group",children:[e.titulo_externo&&Object(l.jsxs)("span",{className:"titulo-externo-item-field",children:[" ",e.titulo_externo]}),Object(l.jsxs)("div",{style:e.info_internal_icon||e.infoBody?{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #afafaf"}:{},className:e.info_internal_icon||e.infoBody?"icono_interno form-control-container":"form-control-container",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:""!==e.valor?X(e.valor).format("0,0"):"",onBlur:function(t){var n=X(t.target.value).value();if(void 0!==e.numero_minimo&&e.numero_minimo>n&&(n=e.numero_minimo,Y(e.campo,n)),o){var a=X(t.target.value).value();G(e.campo,a)}},onChange:function(t){var n=X(t.target.value).value();Y(e.campo,n)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:e.valor,onBlur:function(t){Y(e.campo,X(t.target.value.replace(".",",")).format("0.00")),o&&G(e.campo,X(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){Y(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:e.tipo,className:"form-control registro",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){Y(e.campo,t.target.value)},onBlur:function(t){void 0!==e.campo_blur&&e.campo_blur&&V(e.campo),o&&G(e.campo,t.target.value)}}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{placeholder:e.titulo,disabled:H,className:"form-control registro",rows:i,id:e.campo,onChange:function(t){return Y(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",onBlur:function(t){o&&G(e.campo,t.target.value)}}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){Y(e.campo,t.editor.getData()),o&&G(e.campo,t.target.value)},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]],placeholder:""}}),"ckeditor-full"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){Y(e.campo,t.editor.getData()),o&&G(e.campo,t.target.value)}}),"fecha"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99/99/9999",onChange:function(t){return Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"hora"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99:99",onChange:function(t){return Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"telefono-simple"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H||g,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),!g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center ml-2 "+s+" py-1"+(e.verificar_firebase_habilitado?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){e.verificar_firebase_habilitado?(f(!1),e.verificar_firebase_func()):f(!0)},children:Object(l.jsx)("span",{children:"Verificar"})})}),g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+s+" py-1 ml-2",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})})]}),(m||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger mt-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(U.a,{isDisabled:H,value:e.opciones_select.filter((function(t){return t.value===e.valor}))[0],onChange:J,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&null!==D&&Object(l.jsx)("div",{className:"asyncselect",children:Object(l.jsx)(q.a,{ref:z,styles:M,value:e.valor&&e.valor.value?e.valor.value:"",onChange:J,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){I(e),T.current=t},defaultOptions:e.opciones_select(null),placeholder:E||F,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#929292",neutral50:"#929292"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&V(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:H,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){Y(e.campo,!e.valor),o&&G(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){Y(e.campo,!e.valor)},children:e.titulo})]}),e.info_internal_icon&&Object(l.jsx)(l.Fragment,{children:e.info_internal_icon}),!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)("a",{onClick:function(){return w(!0)},children:Object(l.jsx)("img",{style:{height:"30px",width:"30px"},src:"assets/icon/info.png"})})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text}),e.error&&Object(l.jsx)("div",{className:"text-danger",children:e.error})]})]})})),ee=$,te=n(509),ne=n(478),ae=(n(491),n(511)),ce=(n(521),n(519),n(485),n(506),n(507),n(508),n(526),n(522),n(592)),ie=n(1544),re=n(1515),oe=n(1543),se=n(1545),le=(Object(r.a)((function(e){var t=e.duracion||5e3,n=e.titulo||"",a=e.tipo||"warning",c=e.texto||"Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos",i="#ffffff",r="#000000",o="#000000";switch(a){case"success":""===n&&(n="Exito"),i="#dfffef",r="#005837",o="#1DBF73";break;case"warning":""===n&&(n="Atenci\xf3n"),i="#fdffe5",r="#935604",o="#ff9100";break;case"danger":""===n&&(n="Atenci\xf3n"),i="#ffebe5",r="#c50000",o="#c50000";break;case"info":i="#ffffff",r="#54577b",o="#2633d0"}return Object(l.jsxs)(ce.a,{style:{position:"absolute",top:10,right:10,backgroundColor:i,zIndex:99999},onClose:function(){return e.setVisible(!1)},show:e.visible,delay:t,autohide:!0,children:[Object(l.jsx)(ce.a.Header,{children:Object(l.jsx)("strong",{className:"mr-auto",children:n})}),Object(l.jsx)(ce.a.Body,{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2 m-0 p-0 d-flex",children:["success"===a&&Object(l.jsx)(ie.a,{className:"mx-auto my-auto",color:o,size:25}),"warning"===a&&Object(l.jsx)(re.a,{className:"mx-auto my-auto",color:o,size:25}),"danger"===a&&Object(l.jsx)(oe.a,{className:"mx-auto my-auto",color:o,size:25}),"info"===a&&Object(l.jsx)(se.a,{className:"mx-auto my-auto",color:o,size:25})]}),Object(l.jsx)("div",{className:a?"col-10 pl-0":"col-10",children:Object(l.jsx)("span",{style:{color:r},children:c})})]})})]})})),n(501)),de=(n(555),Object(r.a)((function(e){return Object(l.jsxs)("div",{className:"header-body",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)(A.a,{size:30,onClick:e.direccion,color:"white"})}),Object(l.jsx)("div",{className:"col-8 px-0",children:Object(l.jsx)("span",{className:"titulo-header-app",children:e.titulo})}),e.boton_derecha&&Object(l.jsx)("div",{className:"col-2",children:e.boton_derecha})]})})),n(518)),ue=(n(228),n(497),n(124)),je=n(1733),be=n(570),me=(Object(r.a)((function(e){var t=Object(o.e)(),n=Object(u.b)(),a=n.loginStore,i=n.carritoStore,r=e.movil?120:200,s=e.movil?150:220,d=(e.movil,e.extra_css,Object(c.useState)(!1)),b=Object(O.a)(d,2),m=b[0],f=b[1],p=Object(c.useState)(""),g=Object(O.a)(p,2),v=g[0],_=g[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)(null),D=Object(O.a)(S,2),I=D[0],A=D[1],R=Object(c.useState)(1),P=Object(O.a)(R,2),T=P[0],z=P[1],L=Object(y.L)(),F=e.item,M=F.imagenes.length>0?F.imagenes[0].imagen:"assets/abi-logo-producto.png",B=function(e){if(e.no_apto_menores){var t=L();if(10!==t.case)return _(t.title),k(t.message),A(t.action),f(!0),!1}var c;i.productos.find((function(t){return t.id===e.id}))?i.sumarProducto(e):(c=Object(h.a)(Object(h.a)({},e),{},{cantidad:1,fabricante:e.fabricante.nombre,imagenes:e.imagenes.length>0?e.imagenes[0].imagen:"",categoria:e.categoria.nombre}),i.addProducto(c)),a.isLoggedIn&&n.environment.api.agregarEliminarProductoCarrito(e.id,null).then((function(e){e.kind}))},U=function(e){t.push(j.m.PRODUCTO_DETAIL(e.id,Object(y.m)(e.nombre)))};return Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)(x.a,{isOpen:m,onDidDismiss:function(){return f(!1)},header:"Acceso restringido",message:w,buttons:I?[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:v,handler:I}]:[{text:"Cancelar",role:"cancel",cssClass:"secondary"}]}),Object(l.jsxs)("div",{className:"container-tarjeta-producto",children:[Object(l.jsx)("div",{style:{display:"flex",minHeight:s,justifyContent:"center",alignItems:"center"},onClick:function(){return U(F)},children:Object(l.jsx)("img",{className:"my-2",src:M,alt:"item",style:{height:"auto",width:r}})}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(l.jsx)("div",{children:Object(l.jsx)(je.a,{name:"read-only",size:"small",value:F.fabricante.rating,readOnly:!0})}),Object(l.jsx)("span",{className:"sub-titulo-producto-inicio",style:{whiteSpace:"pre-wrap",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis"},onClick:function(){return U(F)},children:F.nombre}),Object(l.jsx)("p",{onClick:function(){return U(F)},className:"sub-titulo-producto-inicio-precio",children:Object(E.o)(F.precio_mayorista)})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingLeft:5,paddingRight:5},children:[Object(l.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-start"},children:Object(l.jsx)("div",{onClick:function(){return B(F)},children:Object(l.jsx)("img",{src:"assets/icon/corazon.png",className:"icono-tarjeta-producto"})})}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(l.jsx)("div",{onClick:function(){return z(T+1)},children:Object(l.jsx)(be.b,{size:30,color:"var(--gris-claro-abi)"})}),Object(l.jsx)("span",{style:{marginLeft:10,marginRight:10},children:T}),Object(l.jsx)("div",{onClick:function(){return z(T+1)},children:Object(l.jsx)(be.a,{size:30,color:"var(--gris-claro-abi)",className:"icono-add"})})]}),Object(l.jsx)("div",{onClick:function(){return B(F)},style:{flex:1,display:"flex",justifyContent:"flex-end"},children:Object(l.jsx)("img",{src:"assets/icon/carrito-gray.png",className:"icono-tarjeta-producto"})})]}),Object(l.jsx)("br",{})]})]})})),n(0)),fe=n.n(me),he=n(2),pe=(n(514),n(226)),Oe=n(145),xe=n(510),ge=n.n(xe),ve=Object(r.a)((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),o=Object(O.a)(r,2),s=o[0],d=o[1],u=Object(c.useState)(""),j=Object(O.a)(u,2),m=j[0],f=j[1],h=Object(c.useState)(!1),p=Object(O.a)(h,2),g=p[0],v=p[1],_=e.camera_direction?e.camera_direction:0,y=(/Mobi/.test(navigator.userAgent),e.color||"#303AB2"),N=e.class_boton_aceptar||"btn-outline-primary";"web"===b.Capacitor.getPlatform()&&(_=1);var C=function(){var e=Object(he.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:_});case 3:t=e.sent,f(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var t=Object(he.a)(fe.a.mark((function t(){var n,a,c,r;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==b.Capacitor.getPlatform()){t.next=9;break}return t.next=4,Oe.a.getPhoto({resultType:Oe.c.Uri,source:Oe.d.Prompt,direction:0===_?Oe.b.Rear:Oe.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return n=t.sent,a=n.webPath||"",f(a),!1===e.open_modal&&(i(!1),d(a),e.on_select(a)),t.abrupt("return");case 9:return t.next=11,pe.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 11:(c=t.sent)&&(r="ios"===b.Capacitor.getPlatform()?"":"file://",c.startsWith(r)||(c=r+c)),f(c||""),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),k=function(){!1!==e.open_modal||"web"!==b.Capacitor.getPlatform()?(f(s),i(!0)):w()},S=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsx)("div",{className:"helptext-div col-12",children:e.helptext}),Object(l.jsx)("div",{className:"helptext-img-div mt-2 col-12",children:e.img_path&&Object(l.jsx)("img",{src:m?b.Capacitor.convertFileSrc(m):e.img_path,className:m?"helptext-img-div-img":"helptext-img-div-img-smaller",width:150})}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:["web"!==b.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(l.jsx)("button",{className:"btn "+N+" col-12",onClick:C,children:"SACAR FOTO"}),Object(l.jsx)("button",{className:"btn "+N+" col-12 mt-2",onClick:w,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:y,isOpen:g,close:function(){return v(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:a,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:S}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){i(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+N+" btn-block",onClick:function(){i(!1),m&&(d(m),e.on_select(m,e.userdata))},disabled:""===m,children:"ACEPTAR"})})]})})]}),e.perfil&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center pt-2",children:Object(l.jsx)("div",{style:{borderColor:y},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.disable?function(){}:k,children:Object(l.jsx)("img",{alt:"Imagen de perfil",style:{width:"100%",height:"100%",objectFit:"cover"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),e.titulo_label&&Object(l.jsx)("div",{className:"input-group mb-3",children:Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(l.jsx)("img",{onClick:e.disable?function(){}:k,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:e.disable?function(){}:k,style:{color:y},children:e.titulo_label}),e.titulo_boton?Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(l.jsx)("img",{onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.perfil&&!!e.children&&Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.children}),!e.perfil&&!e.children&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.titulo_label}),m&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),!m&&Object(l.jsx)("img",{className:"info-image",onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]})})),_e=(n(556),Object(r.a)((function(e){var t=Object(u.b)().registroStore,n=Object(c.useState)(""),a=Object(O.a)(n,2),i=a[0],r=a[1],o=e.color||"#303AB2",d=e.class_boton_aceptar||"btn-outline-primary",j=Object(c.useState)(20),b=Object(O.a)(j,2),m=b[0],h=b[1],p=Object(c.useState)(0),g=Object(O.a)(p,2),v=g[0],_=g[1],y=Object(c.useRef)(0),N=Object(c.useRef)(null);Object(c.useEffect)((function(){e.animate&&(N.current=setInterval((function(){_(y.current+1),y.current=y.current+1,y.current>6&&clearInterval(N.current)}),100))}),[e.animate]),Object(c.useEffect)((function(){if(m>0){var e=setTimeout((function(){return h(m-1)}),1e3);return function(){return clearTimeout(e)}}}),[m]);return Object(l.jsxs)(x.q,{isOpen:!!e.visible,id:"modal-carrito",swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-codigo-firebase",children:[Object(l.jsx)(f,{color:o,botonIzquierdo:Object(l.jsx)("span",{onClick:function(){return e.callback(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:"Verifique su n\xfamero"}),Object(l.jsx)("div",{className:"text-center titulo",children:Object(l.jsxs)("span",{children:["Se ha enviado el c\xf3digo de verificaci\xf3n al n\xfamero ",Object(E.l)(t.nro_telefono)]})}),Object(l.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[v<1&&Object(l.jsxs)("div",{className:"pin-container",children:[Object(l.jsx)("input",{type:"number",pattern:"\\d*",className:"pin-input",maxLength:6,value:i,onChange:function(e){var t=e.target.value;r(t?t.substring(0,6):"")}}),Object(l.jsxs)("div",{className:"lineas",children:[Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"})]})]}),v>=1&&Object(l.jsx)("div",{className:"input-dot",children:"\u2022"}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:55},children:v>=2?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:100},children:v>=3?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:145},children:v>=4?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:190},children:v>=5?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:235},children:v>=6?"\u2022":""})]}),Object(l.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly"},children:[!m&&Object(l.jsxs)("div",{style:{textAlign:"center"},children:[Object(l.jsx)("div",{className:"sub-titulo-login-abi mt-3",children:"\xbfNo recibiste el c\xf3digo?"}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",children:Object(l.jsxs)("div",{className:"py-3 cpointer",onClick:function(){return e.close()},style:{color:o},children:["Solicit\xe1 un ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:" nuevo c\xf3digo"})]})})]}),Object(l.jsx)("p",{className:"cpointer text-center",onClick:function(){e.callback("-1")},children:"Omitir este paso"}),Object(l.jsx)("h5",{style:{textAlign:"center"},children:Object(l.jsx)("a",{style:{fontWeight:"bold",width:"fit-content",color:o},href:"https://wa.me/595981840840",children:"Contactanos"})})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-3"}),Object(l.jsx)(et,{className:"py-4 px-5 ",children:Object(l.jsx)("button",{style:o?{backgroundColor:o,color:"#FFF"}:{},className:d+" boton-continuar",onClick:function(){return e.callback(i)},children:"Continuar"})})]})}))),ye=(n(557),n(527)),Ne=n.n(ye),Ce=(n(144).BASE_URL,Ne()({iconFilled:{color:"var(--naranja-abi)"},iconHover:{color:"var(--naranja-abi)"}})(je.a)),we=Object(r.a)((function(e){var t=Object(u.b)(),n=Object(c.useState)(!1),a=Object(O.a)(n,2),i=a[0],r=a[1],o=Object(c.useState)(""),s=Object(O.a)(o,2),d=s[0],j=s[1],b=Object(c.useState)(""),m=Object(O.a)(b,2),f=m[0],h=m[1],p=Object(c.useState)(3),g=Object(O.a)(p,2),v=g[0],_=g[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)(!1),D=Object(O.a)(S,2),I=D[0],A=D[1],R=Object(y.A)();Object(c.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:I?"":"modal-calificacion-transportista",onDidPresent:function(){A(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:i,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var n=t.pedidoCalificar;n&&t.environment.api.calificar(n.id_pedido,n.tipo_calificacion,n.id_calificar,v,w).then((function(e){R(e,"Calificaci\xf3n enviada exitosamente!","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"calificaicion-header d-flex justify-content-between p-2 btn",style:{backgroundColor:e.color},children:[Object(l.jsxs)("span",{className:"text-truncate",style:{maxWidth:300,color:"#fff",fontWeight:"bolder"},children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al driver"]}),Object(l.jsx)(oe.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",style:{flex:1},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsxs)("span",{className:"nombre-cliente",children:["\xbfC\xf3mo fue tu experiencia con ",t.pedidoCalificar.nombre,"?"]})}),Object(l.jsx)(Ce,{className:"mx-auto mt-2",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{style:{textAlign:"center",color:"var(--gris-oscuro)"},children:"Comentarios"}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"",style:{backgroundColor:"#fff",width:"80%",border:"3px solid var(--gris-claro)",borderRadius:4},onChange:function(e){k(e.target.value)}})]}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("div",{className:"boton-calificar w-100",onClick:function(){return function(){var e="",n=t.pedidoCalificar;e=n&&20===n.tipo_calificacion?"la experiencia":n&&10===n.tipo_calificacion?"al cliente":"al driver",r(!0),h("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"Valorar"})})})]})]})})})),ke=(n(558),n(528),n(1068)),Se=n(529),De=Object(r.a)((function(e){var t=Object(u.b)(),n=t.transportistaStore,a=Object(c.useState)(!0),i=Object(O.a)(a,2),r=(i[0],i[1],Object(c.useState)(!1)),s=Object(O.a)(r,2),d=s[0],b=s[1],m=Object(c.useState)(),f=Object(O.a)(m,2),h=f[0],p=f[1],g=Object(c.useState)(),v=Object(O.a)(g,2),_=v[0],y=v[1],N=Object(c.useState)(!1),C=Object(O.a)(N,2),k=C[0],S=C[1],D=Object(c.useState)([]),I=Object(O.a)(D,2),A=I[0],R=I[1],E=Object(c.useState)(!1),P=Object(O.a)(E,2),T=P[0],z=P[1],L=Object(o.e)();Object(c.useEffect)((function(){y(n.itinerarioActivo)}),[n.itinerarioActivo]),Object(c.useEffect)((function(){p(n.hojaRutaActiva)}),[n.hojaRutaActiva]);return Object(l.jsxs)("div",{className:d?"footer-home-transportista open":"footer-home-transportista closed",children:[_&&Object(l.jsxs)(x.q,{isOpen:k,onDidDismiss:function(){return S(!1)},swipeToClose:!0,backdropDismiss:!0,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:_.tipo===j.u.ENTREGA?"Entrega":"Retiro"})})}),Object(l.jsxs)(x.g,{children:[Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Ciudad: "}),_.direccion_itinerario&&_.direccion_itinerario.ciudad_nombre]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle principal: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_principal]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle secundaria: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_secundaria]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"N\xfamero: "}),_.direccion_itinerario&&_.direccion_itinerario.numero]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Referencia: "}),_.direccion_itinerario&&_.direccion_itinerario.referencia]})})]}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",onClick:function(){return S(!1)},children:"Cerrar"})})})})]}),e.loading?Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(l.jsx)(x.z,{name:"crescent",className:"loadingSpinner"})}):d||_?d?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex flex-column justify-content-start",style:{width:"100%"},children:[Object(l.jsx)("div",{className:"row",style:{width:"100%"},children:Object(l.jsxs)("div",{className:"col-12 buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw",width:"100%"},onClick:function(){return b(!1)},children:[Object(l.jsx)("div",{children:Object(l.jsx)(w.a,{size:32})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})}),T&&Object(l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"100%"},children:Object(l.jsx)(x.z,{})}),!T&&!!A&&(null===A||void 0===A?void 0:A.length)>0&&Object(l.jsx)(x.g,{children:A.map((function(e){var t,n,a,c;return Object(l.jsxs)("div",{className:"oportunidades-list-item col-12 pt-2",children:[Object(l.jsxs)("div",{className:"datos-empresa",style:{lineHeight:"0.8rem"},children:[Object(l.jsxs)("div",{className:"mb-1",style:{fontWeight:"bold",fontSize:"0.8rem"},children:[e.inicio.fabricante,(null===(t=e.inicio.direccion_itinerario)||void 0===t?void 0:t.nombre)&&", ",null===(n=e.inicio.direccion_itinerario)||void 0===n?void 0:n.nombre]}),Object(l.jsxs)("p",{children:[null===(a=e.inicio.direccion_itinerario)||void 0===a?void 0:a.calle_principal," N\u0970"," ",null===(c=e.inicio.direccion_itinerario)||void 0===c?void 0:c.numero]}),Object(l.jsxs)("div",{className:"datos-punto-itinerario",children:[Object(l.jsx)("img",{src:"assets/icon/oportunidades.png"}),Object(l.jsx)("strong",{children:"Punto de retiro: "}),Object(l.jsxs)("span",{children:[e.inicio.tiempo_en_transito+e.inicio.tiempo_parada_calculado," min -"," ",e.inicio.distancia," km"]}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:"assets/icon/arrival_flag.png"}),Object(l.jsx)("strong",{children:"Punto de entrega: "}),Object(l.jsxs)("span",{children:[e.fin.tiempo_en_transito+e.fin.tiempo_parada_calculado," min - ",e.fin.distancia," ","km"]})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{onClick:function(){var t=new URLSearchParams(window.location.search);t.set("oportunidad",String(e.id)),L.push(j.n.HOME+"?"+t.toString()),b(!1)},children:Object(l.jsx)(Se.b,{})})})]},"oportunidad-"+e.id)}))}),!T&&!!A&&0===(null===A||void 0===A?void 0:A.length)&&Object(l.jsx)("div",{className:"d-flex justify-content-center align-content-center",children:Object(l.jsx)("p",{className:"text-center",children:"Todav\xeda no se encuentran oportunidades."})})]})}):Object(l.jsx)("div",{children:h&&_&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container flex-fill",children:Object(l.jsxs)("div",{className:"row align-items-start",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista",style:{backgroundColor:"var(--danger)"},onClick:function(){return e.onAbandonarItinerarioCliked(_)},children:"Abandonar"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista ",style:{backgroundColor:"var(--success)"},onClick:function(){return e.onEjecutarItinerarioClicked(_)},children:"Llegu\xe9"})})]})})})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"col buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw"},onClick:function(){b(!0),z(!0),t.environment.api.oportunidades().then((function(e){"ok"===e.kind&&(z(!1),R(e.data))}))},children:[Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{size:40})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})})]})})),Ie=(n(517),n(560),n(1546)),Ae=[1,2,3,4,5,6,7,8,9],Re=Object(r.a)((function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),a=n[0],i=n[1],r=function(t){null==t?i(a.substr(0,a.length-1)):a.length<e.maxlen&&i(a+t)};return e.visible?Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:"modal-numpad",onDidDismiss:function(){return e.onVolver()},children:[Object(l.jsxs)("div",{className:"oportunidades-header",style:e.color?{backgroundColor:e.color}:{backgroundColor:"#303ab2"},children:[Object(l.jsx)(A.a,{size:30,onClick:function(){e.onVolver(),i("")},color:"white"}),Object(l.jsx)("span",{style:{fontSize:18},children:e.titulo})]}),Object(l.jsx)(x.g,{children:Object(l.jsxs)("div",{className:"numpad-container",children:[Object(l.jsx)("div",{className:"col-12 numpad-maindiv",children:Object(l.jsx)("span",{children:a})}),Ae.map((function(e){return Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(e)},children:Object(l.jsx)("span",{children:e})},"numpad-".concat(e))})),Object(l.jsx)("div",{className:"col-4 numpad-key"}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(0)},children:Object(l.jsx)("span",{children:"0"})}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(null)},children:Object(l.jsx)("span",{children:Object(l.jsx)(Ie.a,{})})})]})}),Object(l.jsx)("div",{className:"mb-2 mx-2 p-2",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",style:e.color?{borderColor:e.color,color:e.color}:{},onClick:function(){e.onAceptar(a),i("")},children:"Aceptar"})})})})]}):null})),Ee=(n(561),n(144).BASE_URL),Pe=Ne()({iconFilled:{color:"#303AB2"},iconHover:{color:"#303AB2"}})(je.a),Te={1:"Muy malo",2:"Malo",3:"Bueno",4:"Muy bueno",5:"Excelente!"},ze=(Object(r.a)((function(e){var t=Object(u.b)(),n=Object(c.useState)(!1),a=Object(O.a)(n,2),i=a[0],r=a[1],o=Object(c.useState)(""),s=Object(O.a)(o,2),d=s[0],j=s[1],b=Object(c.useState)(""),m=Object(O.a)(b,2),f=m[0],h=m[1],p=Object(c.useState)(3),g=Object(O.a)(p,2),v=g[0],_=g[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)(!1),D=Object(O.a)(S,2),I=D[0],R=D[1],E=Object(y.A)();Object(c.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:I?"":"modal-calificacion",onDidPresent:function(){R(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:i,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var n=t.pedidoCalificar;n&&t.environment.api.calificar(n.id_pedido,n.tipo_calificacion,n.id_calificar,v,w).then((function(e){E(e,"Calificado correctamente","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"transportista-header",children:[Object(l.jsx)(A.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"}),Object(l.jsxs)("span",{children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al transportista"]})]}),Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("div",{className:"imagen-perfil-container mx-auto d-flex mb-4 ml-0",children:t.pedidoCalificar.imagen?Object(l.jsx)("img",{alt:"imagen de perfil",src:Ee+t.pedidoCalificar.imagen}):Object(l.jsxs)("span",{children:[" ",Object(l.jsx)("br",{})," "]})}),Object(l.jsx)("span",{className:"nombre-cliente",children:t.pedidoCalificar.nombre})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",children:[Object(l.jsx)(Pe,{className:"mx-auto mt-5",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}}),Object(l.jsx)("div",{className:"mt-3",children:null!==v&&Object(l.jsx)("h3",{className:"text-center",children:Te[v]})}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"mx-4 mt-2",onChange:function(e){k(e.target.value)}}),Object(l.jsx)("div",{className:"boton-calificar my-5 mx-5",onClick:function(){return function(){var e="",n=t.pedidoCalificar;e=n&&20===n.tipo_calificacion?"la experiencia":n&&10===n.tipo_calificacion?"al cliente":"al transportista",r(!0),h("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"CALIFICAR"})]})]})})})),n(516)),Le=(n(562),n(591)),Fe=n.n(Le),Me=n(479),Be=Object(r.a)((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(c.useState)(null),m=Object(O.a)(j,2),f=m[0],h=m[1],p=Object(c.useState)(!1),g=Object(O.a)(p,2),v=g[0],_=g[1],N=Object(c.useRef)(null),C=e.color||"#303AB2",w=e.class_boton_aceptar||"btn-outline-primary",k=Object(y.J)();i.a.useEffect((function(){e.preview&&h(e.preview)}),[]);var S=function(){var e=Object(he.a)(fe.a.mark((function e(){var t,n,a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),"web"!==b.Capacitor.getPlatform()){e.next=4;break}return N.current.click(),e.abrupt("return");case 4:return e.next=6,pe.a.getPicture({sourceType:2,destinationType:1,mediaType:pe.a.MediaType.VIDEO});case 6:if(!(t=e.sent)){e.next=14;break}return n="ios"===b.Capacitor.getPlatform()?"":"file://",t.startsWith(n)||(t=n+t),e.next=12,Me.a.readFile({path:t});case 12:a=e.sent,t="data:video/mp4;base64,".concat(a.data);case 14:h(t),r(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){u(!0)},I=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsxs)("div",{className:"helptext-div px-2",children:[Object(l.jsx)("p",{children:"Todos los videos que ser\xe1n publicadas en ABi, deben cumplir los siguientes est\xe1ndares:"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 col-lg-4 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/mp4.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:"Archivos MP4/ H.264"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold",textAlign:"center"},children:"FORMATO"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4 mt-2 mt-lg-0 text-center",children:[Object(l.jsxs)("div",{style:{textAlign:"center",fontSize:14},children:["Aspecto: 640 x 360 px",Object(l.jsx)("br",{}),"(ancho x alto)"]}),Object(l.jsx)("div",{className:"mt-2",children:"Proporci\xf3n 16:9"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"TAMA\xd1O"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4  mt-2 mt-lg-0 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/sync-file.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-1",children:"M\xe1x. 10MB"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"PESO"})]}),Object(l.jsxs)("div",{className:"col-12 mt-4",children:["Duraci\xf3n m\xednima: 3 seg",Object(l.jsx)("br",{}),"Duraci\xf3n m\xe1xima: 1 min",Object(l.jsx)("br",{}),"Relaci\xf3n o aspecto del video: 16:9",Object(l.jsx)("br",{}),"Formato: MP4/H.264",Object(l.jsx)("br",{}),"Subt\xedtulo de video: opcional, texto centrado, evitar ocupar los m\xe1rgenes del material.",Object(l.jsx)("br",{}),"Sonido de video: voz en off, m\xfasicas con permisos de copyright."]})]})]}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(l.jsx)("input",{type:"file",accept:"video/mp4",ref:N,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];if(t.size>10485760)k("El video no puede pesar m\xe1s de 10 megabytes");else{var n=new FileReader;n.onload=function(e){h(e.target.result),r(!1)},n.readAsDataURL(t)}}},style:{display:"none"}}),Object(l.jsx)("button",{className:"btn "+w+" col-12 mt-2",onClick:S,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)(K.a,{color:C,isOpen:v,close:function(){return _(!1)},titulo:e.infoTitulo,cssClass:"requisitos-foto-perfil",children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:d,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:I}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){u(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+w+" btn-block",onClick:function(){u(!1),e.on_select(f)},disabled:""===f||a,children:"ACEPTAR"})})]})})]})]}),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsx)("div",{style:{borderColor:C,width:640,height:360,maxWidth:"100%"},className:e.extra_css_class,children:Object(l.jsx)("video",{controls:!0,style:{width:640,height:360,maxWidth:"100%"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:f||""})})}),Object(l.jsxs)("div",{className:"input-group mb-3 justify-content-center",style:{flexDirection:"column"},children:[!e.disabled&&Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!f&&Object(l.jsx)(Fe.a,{onClick:D,style:{fontSize:22,color:"#67757c"}}),f&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:D,style:{color:C},children:e.titulo_label}),e.titulo_boton&&Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton})]}),f&&Object(l.jsx)("div",{className:"cpointer text-center",onClick:function(){e.on_select(null),h(null)},children:Object(l.jsx)("strong",{children:"Eliminar"})})]})]})]})})),Ue=(n(563),Object(r.a)((function(e){var t=Object(y.J)(),n=Object(c.useState)(e.url),a=Object(O.a)(n,2),r=a[0],o=a[1],d=Object(c.useState)(!1),u=Object(O.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(350),h=Object(O.a)(m,2),p=h[0],g=h[1],v=Object(c.useState)(!1),_=Object(O.a)(v,2),N=_[0],C=_[1];i.a.useEffect((function(){o(e.url)}),[e.url]),i.a.useEffect((function(){b(e.visible)}),[e.visible]);var w=function(n){n.data.message&&-1!==["add_new_card_fail","add_new_card_success"].indexOf(n.data.message)&&("add_new_card_fail"===n.data.message?alert(n.data.details):(t("Tarjeta agregada exitosamente","success"),e.successCallback()),b(!1),o(null)),g(n.data.iframeHeight+1)};return i.a.useEffect((function(){return window.addEventListener("message",(function(e){w(e)})),function(){window.removeEventListener("message",(function(e){w(e)}))}}),[]),j?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:j,id:"modal-agregar-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){b(!1),o(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:"Registrar tarjeta"}),Object(l.jsxs)("div",{className:"texto-info",children:["Introduc\xed todos los datos de tu tarjeta, \xa1dale guardar y empez\xe1 a hacer tus compras!",Object(l.jsx)("img",{alt:"Recomendaciones",onClick:function(){return C(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(l.jsx)("div",{style:{padding:20},children:!!r&&Object(l.jsx)("iframe",{src:r,height:"100%",width:"100%",style:{border:0,height:p}})}),Object(l.jsx)("div",{children:"\xa0"})]}),Object(l.jsx)(x.q,{isOpen:N,id:"info-tarjeta",cssClass:"modal-info-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Datos de las tarjetas"})}),Object(l.jsx)("div",{onClick:function(){return C(!1)},children:Object(l.jsx)(oe.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("img",{alt:"Informaci\xf3n",src:"assets/info-datos-tarjeta.png",style:{padding:"24px"}})})]})})]}):null}))),qe=n(482),He=n(484),We=(n(483),n(564),n(1)),Ye=n(87),Ve=n.n(Ye),Ge=n(1547),Je=n(505),Ze=n(229),Qe=(n(565),i.a.forwardRef((function(e,t){var n=Object(u.b)(),a=n.carritoStore,r=Object(c.useState)(null),o=Object(O.a)(r,2),d=o[0],j=o[1],b=Object(c.useState)(!1),m=Object(O.a)(b,2),h=m[0],p=m[1],g=Object(c.useState)(350),v=Object(O.a)(g,2),_=v[0],y=v[1],N=3===a.medioPago?"Tigo Money":"Tarjeta de d\xe9bito o cr\xe9dito ocasional",C=Object(c.useRef)(null),w=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return{iniciarPago:function(e,t){w.current=e,j(t),p(!0)}}}));var k=function(t){w.current&&n.environment.api.verificarTransaccion(w.current,t).then((function(t){"ok"===t.kind&&(3===a.medioPago?"success"===t.data.status?(clearInterval(C.current),p(!1),e.successCallback()):"fail"===t.data.status||"reverted"===t.data.status?(clearInterval(C.current),alert("Lo sentimos, ocurri\xf3 un error al procesar el pago"),p(!1)):"cancel"===t.data.status&&(clearInterval(C.current),p(!1)):t.data.transaccion_error_description?(clearInterval(C.current),alert(t.data.transaccion_error_description),p(!1)):"00"===t.data.transaccion_response_code&&(clearInterval(C.current),p(!1),e.successCallback()))}))},S=function(t){t.data.message&&-1!==["payment_fail","payment_success"].indexOf(t.data.message)&&("payment_success"===t.data.message?e.successCallback():t.data.details?(alert(t.data.details),p(!1)):k("bancard")),t.data.iframeHeight&&y(t.data.iframeHeight+1)};return i.a.useEffect((function(){return window.addEventListener("message",S),function(){window.removeEventListener("message",S)}}),[]),i.a.useEffect((function(){return 3===a.medioPago&&(C.current=setInterval((function(){return k("tigo")}),3e3)),function(){C.current&&clearInterval(C.current)}}),[]),h?Object(l.jsxs)(x.q,{isOpen:h,id:"modal-singlebuy",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){p(!1),j(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:N}),Object(l.jsx)("div",{style:{padding:20},children:!!d&&Object(l.jsx)("iframe",{src:d,height:"100%",width:"100%",style:{border:0,height:_}})}),Object(l.jsx)("div",{children:"\xa0"})]}):null}))),Ke=(n(566),Object(r.a)((function(e){var t=Object(u.b)(),n=Object(c.useState)({}),a=Object(O.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(!1),d=Object(O.a)(s,2),j=d[0],b=(d[1],Object(y.A)()),m=Object(c.useState)(!1),f=Object(O.a)(m,2),p=f[0],g=f[1];i.a.useEffect((function(){g(e.visible)}),[e.visible]);var v=Object(c.useState)({id:null,razon_social:"",ruc:"",default:!1}),_=Object(O.a)(v,2),N=_[0],C=_[1],w=function(e,t){var n=Object(h.a)({},N);n[e]=t,C(n)};return p?Object(l.jsx)(x.q,{isOpen:p,cssClass:"modal-datos-facturacion-short",onDidDismiss:function(){return g(!1)},children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"A\xf1adir datos de facturaci\xf3n"})}),Object(l.jsx)("div",{onClick:function(){return g(!1)},children:Object(l.jsx)(oe.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(l.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",paddingTop:20},children:[Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"RUC o C\xe9dula de identidad",tipo:"texto",campo:"ruc",valor:N.ruc?N.ruc:"",error:r&&r.ruc,set_dato:w,campo_blur:!0,set_dato_blur:function(){var e=N.ruc.indexOf("-")>0?{ruc:N.ruc}:{documento:N.ruc};t.environment.api.consultarRuc(e).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&C(Object.assign({},N,{id:N.id,ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social,default:N.default}))}})).catch((function(){}))},columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:N.razon_social?N.razon_social:"",error:r&&r.razon_social,set_dato:w,columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{className:"button-anadir-editar-perfil-modal-container",children:Object(l.jsx)("button",{className:"button-anadir-editar-perfil-modal",title:"Agregar guardar datos de facturaci\xf3n",onClick:function(){var n;n=N,o({}),t.environment.api.guardarDatoFacturacionUsuario(n).then((function(t){b(t,"Datos de facturaci\xf3n guardardos correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),C({id:null,razon_social:"",ruc:"",default:!1}),g(!1)):"bad-data"===t.kind&&o(t.errors)}))},children:"Guardar"})})]})]})}):null}))),Xe=n(162),$e=Object(r.a)((function(e){var t=e.index,n=e.setIndexCallback,a=Object(u.b)(),i=a.loginStore,r=a.carritoStore,s=a.tarjetaStore,d=Object(c.useState)(!1),b=Object(O.a)(d,2),m=b[0],f=b[1],p=Object(c.useState)(!0),g=Object(O.a)(p,2),v=g[0],_=g[1],N=Object(c.useState)(!1),w=Object(O.a)(N,2),k=w[0],S=w[1],D=Object(y.E)(),I=Object(c.useState)(),A=Object(O.a)(I,2),R=A[0],P=A[1],T=Object(c.useState)(),z=Object(O.a)(T,2),L=z[0],F=z[1],M=Object(c.useState)(!1),B=Object(O.a)(M,2),U=B[0],q=B[1],H=Object(y.J)(),Y=Object(y.A)(),V=Object(c.useState)("-"),G=Object(O.a)(V,2),J=G[0],Z=G[1],Q=Object(c.useState)(null),X=Object(O.a)(Q,2),$=(X[0],X[1]),ee=Object(c.useState)(Object(y.o)(i.nro_telefono)),te=Object(O.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)(!1),ie=Object(O.a)(ce,2),re=ie[0],oe=ie[1],se=Object(c.useState)(!0),le=Object(O.a)(se,2),de=le[0],ue=(le[1],Object(c.useState)(!1)),je=Object(O.a)(ue,2),be=je[0],me=je[1],fe=Object(c.useState)(null),he=Object(O.a)(fe,2),pe=he[0],Oe=he[1],xe=Object(c.useState)(),ge=Object(O.a)(xe,2),ve=ge[0],_e=ge[1],ye=Object(c.useState)(),Ne=Object(O.a)(ye,2),Ce=Ne[0],we=Ne[1],ke=Object(c.useState)(r.envio_sin_hora),Se=Object(O.a)(ke,2),De=Se[0],Ie=Se[1],Ae=Object(c.useState)(null),Re=Object(O.a)(Ae,2),Ee=Re[0],Pe=Re[1],Te=Object(c.useState)(null),ze=Object(O.a)(Te,2),Le=ze[0],Fe=ze[1],Me=Object(o.e)(),Be=Ve()(),qe=Object(c.useState)(null),Ye=Object(O.a)(qe,2),$e=Ye[0],et=Ye[1],tt=Object(c.useState)(!1),nt=Object(O.a)(tt,2),at=nt[0],ct=nt[1],it=Object(c.useState)(!1),rt=Object(O.a)(it,2),ot=rt[0],st=rt[1],lt=Object(c.useRef)(null),dt=Object(c.useState)(!1),ut=Object(O.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(c.useState)(""),ft=Object(O.a)(mt,2),ht=ft[0],pt=ft[1],Ot=Object(c.useState)(""),xt=Object(O.a)(Ot,2),gt=xt[0],vt=xt[1],_t=Object(c.useState)(""),yt=Object(O.a)(_t,2),Nt=yt[0],Ct=yt[1],wt=Object(c.useState)(""),kt=Object(O.a)(wt,2),St=kt[0],Dt=kt[1];Object(c.useEffect)((function(){It(),r.total>0&&At()}),[i.id]),Object(c.useEffect)((function(){It(),S(!0),oe(window.innerWidth<=500);var e=i.datos_facturacion.find((function(e){return e.default}));e&&F({id:e.id,default:e.default,razon_social:e.razon_social,ruc:e.ruc})}),[]),Object(c.useEffect)((function(){De?(r.setEnvioSinHora(),r.setCompraMejorada(!1)):(r.setEnvioConHora(r.entregaDesde?r.entregaDesde:"",r.entregaHasta?r.entregaHasta:""),r.setCompraMejorada(!1))}),[De]),Object(c.useEffect)((function(){r.total>0&&At()}),[r.total]),Object(c.useEffect)((function(){Oe(r.medioPago),r.medioPago===Ze.b.tarjeta_registrada&&_e(s.tarjetas.find((function(e){return e.card_id===r.tarjeta})))}),[r.medioPago,r.tarjeta]),Object(c.useEffect)((function(){var e=D();P(e)}),[]),Object(c.useEffect)((function(){(null===ve||void 0===ve?void 0:ve.card_brand)&&we(Object(y.r)(null===ve||void 0===ve?void 0:ve.card_brand))}),[ve]);var It=function(){a.environment.api.fechaEstimada().then((function(e){if("ok"===e.kind){var t=Ve()(),n=Ve.a.duration(t.diff(Ve()(e.data.express.fecha))).humanize();$(e.data),Z(n)}else $(null),Z("-")}))},At=function(){a.environment.api.costoEnvio(r.total).then((function(e){"ok"===e.kind?(console.log(r.total+e.data.costo_envio),Pe(e.data.costo_envio),Fe(e.data.envio_gratuito_apartir),_(!1)):H("No se pudo obtener detalles del env\xedo","warning")}))},Rt=function(){_(!0);var e=r.compra_mejorada,t=!r.envio_sin_hora,n=r.envio_sin_hora?"":Ve()(r.entregaDesde).format("HH:mm"),a=r.envio_sin_hora?"":Ve()(r.entregaHasta).format("HH:mm"),c=r.envio_sin_hora?Ve()().format("YYYY-MM-DD HH:mm:ss"):Ve()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),o=i.environment.api,s=Xe(r.total).value(),l=L?L.id:null;o.singleBuy(R,r.medioPago,r.productos,s,e,t,n,a,de,Object(y.p)(ne),c,l).then((function(e){_(!1),"ok"===e.kind?r.medioPago===Ze.b.billetera_personal?e.exitoso?(H("Pago registrado con \xe9xito!","success"),r.reset(),Me.replace(j.m.PEDIDOS)):H(e.mensaje_transaccion,"error"):lt.current.iniciarPago(e.transaccion_id,e.url):"bad-data"===e.kind?e.errors.non_field_errors&&H(e.errors.non_field_errors[0],"warning"):H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}))},Et=function(){a.environment.api.getCliente(i.id).then((function(e){if("ok"===e.kind){var t=Object(h.a)({},e.cliente);i.setDirecciones(t.direcciones),i.setDatosFacturacion(t.datos_facturacion)}else H("Ocurri\xf3 un error al actualizar las direcciones","error")}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Qe,{ref:lt,successCallback:function(){H("Pago registrado con \xe9xito!","success"),r.reset(),Me.replace(j.m.PEDIDOS)}}),Object(l.jsx)(K.a,{close:function(){bt(!1)},isOpen:jt,color:"var(--naranja-abi)",titulo:"Fecha de compra programada",cssClass:"modal-compra-programada",children:Object(l.jsxs)("div",{className:"mt-4",children:[Object(l.jsx)("span",{children:"Fecha:"}),Object(l.jsx)(x.m,{type:"date",value:ht,onIonChange:function(e){return pt(e.detail.value)},min:Be.format("YYYY-MM-DD"),className:"form-control"}),Object(l.jsx)("span",{children:"Desde las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return vt(e.target.value)},value:gt}),Object(l.jsx)("span",{children:"Hasta las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Ct(e.target.value)},value:Nt}),Object(l.jsx)("div",{className:"metodos-pago-container",children:Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!function(){var e=new RegExp("^([01]?[0-9]|2[0-3]):[0-5][0-9]$"),t=function(t){return e.test(t)};if(ht)if(t(gt)&&t(Nt)){var n=Ve()(ht).format("DD/MM/YYYY");pt(n.toString());var a=Ve()(ht).format("D \\d\\e MMMM");a="".concat(a," de ").concat(gt," a ").concat(Nt," hs"),r.setEntregaDesde(ht+" "+gt),r.setEntregaHasta(ht+" "+Nt),Dt(a),bt(!1)}else H("Ingrese una hora v\xe1lida","warning");else H("Ingrese una fecha","warning")}()},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"Guardar"})})})})]})}),at&&Object(l.jsx)(He.a,{visible:!0,successCallback:function(){Et()}}),k&&i.direcciones.length>0&&Object(l.jsx)(C.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:i.direcciones,listado_elementos_seleccionados:R&&0!==R.id?R.id:[],datos_filtrados:function(e){!function(e){var t=i.direcciones.find((function(t){return t.id===e}));t&&P(Object(We.d)(t))}(e[0])},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:m,mostrar_modal_cambio_estado:function(e){f(e)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){ct(!1),setTimeout((function(){return ct(!0)}),100)}}),$e&&Object(l.jsx)(Ue,{visible:!0,url:$e,successCallback:function(){et(null),_(!0),i.environment.api.obtenerTarjetas().then((function(e){_(!1),"ok"===e.kind?s.setTarjetas(e.tarjetas):Y(e,"","obtener las tarjetas")}))}}),ot&&Object(l.jsx)(Ke,{visible:!0,successCallback:function(){Et()}}),Object(l.jsx)(K.a,{close:function(){return q(!1)},isOpen:U,color:"var(--naranja-abi)",titulo:"Datos de facturaci\xf3n",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsx)(x.g,{style:{flexGrow:3},children:i.datos_facturacion.map((function(e,t){return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return F(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:(null===L||void 0===L?void 0:L.id)===e.id})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{style:(null===L||void 0===L?void 0:L.id)===e.id?{color:"var(--verde-claro)"}:{},children:e.razon_social})}),Object(l.jsx)("p",{className:"help",children:e.ruc})]})]},t)}))}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){st(!1),setTimeout((function(){return st(!0)}),100)},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir datos de facturaci\xf3n"})})})]})}),Object(l.jsx)(K.a,{close:function(){return me(!1)},isOpen:be,color:"var(--naranja-abi)",titulo:"M\xe9todo de Pago",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsxs)(x.g,{style:{flexGrow:3},children:[s.tarjetas.map((function(e,t){var n=e.card_brand?Object(y.r)(e.card_brand):null;return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&function(e){r.setTarjeta(e.card_id)}(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.tarjeta===e.card_id})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("strong",{style:r.tarjeta===e.card_id?{color:"var(--verde-claro)"}:{},children:["Tarjeta ",t+1," "]}),n&&Object(l.jsx)("img",{src:n,height:18})]}),Object(l.jsx)("p",{className:"help",children:e.card_masked_number})]})]},t)})),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.tarjeta_no_registrada)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.tarjeta_no_registrada})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.tarjeta_no_registrada?{color:"var(--verde-claro)"}:{},children:"Tarjeta de d\xe9bito o cr\xe9dito ocasional"}),Object(l.jsx)("p",{className:"help",children:"De esta forma se ingresa los datos de la tarjeta todas las veces al momento de pagar."})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"",onClick:function(){return!v&&r.setMedioPago(Ze.b.zimple)},children:Object(l.jsx)("div",{className:"checkbox",children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.zimple})})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.zimple?{color:"var(--verde-claro)"}:{},children:"Billetera Zimple Bancard"}),Object(l.jsxs)("p",{className:"help",children:["Billetera: ",i.nro_telefono]})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.tigo_money)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.tigo_money})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.tigo_money?{color:"var(--verde-claro)"}:{},children:"Tigo Money"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control  registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ae(e.target.value)},value:ne})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.billetera_personal)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.billetera_personal})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.billetera_personal?{color:"var(--verde-claro)"}:{},children:"Billetera Personal"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ae(e.target.value)},value:ne})]})]}),a.isDebug&&Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.test)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.test})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.test?{color:"var(--verde-claro)"}:{},children:"Test"}),Object(l.jsx)("p",{className:"help",children:"Medio de pago para pruebas."})]})]})]}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!v&&(et(null),_(!0),i.environment.api.crearTarjeta().then((function(e){if(_(!1),"ok"===e.kind){var t=e.url,n=t.split("/")[2].split(":")[1],a=t.split("process_id=")[1];et("https://vpos.infonet.com.py:".concat(n,"/checkout/register_card/new?process_id=").concat(a))}else H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")})))},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir met\xf3do de pago"})})})]})}),"metodo-envio"===t&&Object(l.jsxs)("div",{className:"datos-carrito-container",children:[!re&&Object(l.jsxs)("div",{className:"d-flex",style:{gap:10},children:[Object(l.jsx)("a",{onClick:function(){return Me.goBack()},children:Object(l.jsx)(Ge.a,{size:re?15:20})}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Seguir Comprando"})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:" Tipo de compra"}),Object(l.jsx)("div",{className:"container-tipo-delivery cpointer py-1",onClick:function(){Ie(!0)},children:Object(l.jsxs)("div",{className:De?"seleccionado-checkout":"no-seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[De&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),!De&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Express"})})]})}),Object(l.jsxs)("div",{className:"container-tipo-delivery cpointer py-1",style:{flexDirection:"column"},onClick:function(){bt(!0),Ie(!1)},children:[Object(l.jsxs)("div",{className:De?"no-seleccionado-checkout":"seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[!De&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),De&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Programada"})})]}),!De&&Object(l.jsx)("div",{className:"set-horatio-entrega-container",style:{width:"90%",display:"block",fontSize:14,textAlign:"center",paddingTop:8,borderRadius:8},children:!r.envio_sin_hora&&Object(l.jsx)("div",{children:St})})]})]}),v&&Object(l.jsx)("div",{className:"detalle-envio-checkout-container",children:Object(l.jsx)(x.z,{name:"crescent",color:"primary"})}),!v&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Subtotal"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:Object(E.o)(r.total)}),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Delivery gratis con compras a partir de ",Object(E.o)(Le)," ",Object(l.jsx)("br",{})," V\xe1lido para Asunci\xf3n y Gran Asunci\xf3n."]})]}),Le&&r.total<Le&&Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:["Faltan ",Object(E.o)(Le-r.total)," para que tu delivery sea gratuito."]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Tiempo estimado de entrega"}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:De?J:"-"})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",children:Object(l.jsx)("button",{className:"btn btn-info px-5 py-2 my-2",type:"button",onClick:function(){if(!i.isLoggedIn){H("Inicie sesi\xf3n para finalizar su compra");var e=new URLSearchParams(window.location.search);return e.set("login","1"),e.set("checkout","1"),void Me.push(window.location.pathname+"?"+e.toString())}i.perfil_completo?r.envio_sin_hora||r.entregaDesde&&r.entregaHasta||!de?n("tarjeta-direcion"):H("Debe seleccionar el horario de entrega del pedido","warning"):Me.replace("".concat(j.m.CLIENTE,"?checkout=1"))},children:"Finalizar compra"})})]}),"tarjeta-direcion"===t&&Object(l.jsxs)("div",{className:"container-checkout-carrito",style:{display:"flex"},children:[Object(l.jsxs)("div",{className:" container-tarjeta-direccion-checkout datos-carrito-container ",style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Direcci\xf3n de entrega"}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[!!R&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:R.icono&&j.d[R.icono]?j.d[R.icono]:"assets/icon/ubicacion-gray.png",className:"icono-direccion-checkout"}),!!R.nombre&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:[R.nombre," "]}),Object(l.jsx)("br",{})]})]}),Object(l.jsxs)("div",{children:[R.calle_principal," ",R.numero]})]}),Object(l.jsx)("div",{className:"cpointer",onClick:function(){f(!0)},style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},children:"Cambiar"})]}),!(i.direcciones.length>0)&&Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsx)("div",{className:"icono-direccion-tarjeta-container"}),Object(l.jsx)("div",{className:"pl-lg-4 icono-direccion-tarjeta-container",children:Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){ct(!1),setTimeout((function(){return ct(!0)}),100)},children:"Agregar direcci\xf3n"})})]})]})]}),i.datos_facturacion.length>0&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Datos de facturaci\xf3n"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:L?L.razon_social:i.defaultDatoFacturacion?i.defaultDatoFacturacion.razon_social:""}),Object(l.jsxs)("div",{children:[L?L.ruc:i.defaultDatoFacturacion?i.defaultDatoFacturacion.ruc:""," "]})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){q(!0)},children:L?"Cambiar":"Elegir"})]})})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" M\xe9todo de pago"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[pe===Ze.b.tarjeta_no_registrada&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:"Tarjeta Ocasional"})})]}),pe===Ze.b.test&&Object(l.jsxs)("div",{className:"direccion-checkout-carrito",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Test "}),Object(l.jsx)("br",{})]}),pe===Ze.b.zimple&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Zimple "}),Object(l.jsx)("br",{})]}),pe===Ze.b.billetera_personal&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Billetera Personal"}),Object(l.jsx)("br",{})]}),pe===Ze.b.tigo_money&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Tigo Money"}),Object(l.jsx)("br",{})]}),pe===Ze.b.tarjeta_registrada&&ve&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:["Tarjeta ",Ce?Object(l.jsx)("img",{src:Ce,height:18}):null]}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:ve.card_masked_number})]})}),Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){me(!0)},children:"Cambiar"})]})})})]})]}),Object(l.jsxs)("div",{className:"datos-carrito-container p-4 costos-checkout-container",children:[Object(l.jsxs)("div",{style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:" Mi pedido"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontSize:"0.875rem"},onClick:function(){return n("metodo-envio")},children:"Ver detalles"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:Object(E.o)(r.total)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:" Env\xedo"})}),Object(l.jsx)("div",{children:Ee?Object(l.jsx)("strong",{children:Object(E.o)(Ee)}):Object(l.jsx)("strong",{children:Object(E.o)(0)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:" Total"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"0.875rem"},children:"Incluye IVA"})]}),Object(l.jsx)("div",{children:Ee?Object(l.jsx)("strong",{children:Object(E.o)(r.total+Ee)}):Object(l.jsx)("strong",{children:Object(E.o)(r.total)})})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",style:{flex:2},children:Object(l.jsx)("button",{onClick:function(){!function(){if(!r.envio_sin_hora&&(!r.entregaDesde||!r.entregaHasta)&&de)return H("Debe seleccionar el horario de entrega del pedido","warning"),!1;var e=r.compra_mejorada,t=!r.envio_sin_hora,n=t?Ve()(r.entregaDesde).format("HH:mm"):null,a=t?Ve()(r.entregaHasta).format("HH:mm"):null,c=r.envio_sin_hora?null:Ve()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),o=L?L.id:null;if(0===(null===R||void 0===R?void 0:R.id)&&de)return H("Debe seleccionar una direcci\xf3n de entrega para realizar la compra","warning"),!1;if(r.medioPago===Ze.b.tarjeta_no_registrada||r.medioPago===Ze.b.zimple||r.medioPago===Ze.b.tigo_money||r.medioPago===Ze.b.billetera_personal)Rt();else if(r.tarjeta||r.medioPago===Ze.b.test){_(!0);var s=Xe(r.total).value();i.environment.api.crearPedido(R,r.medioPago,r.productos,r.tarjeta,s,e,t,n,a,de,c,o).then((function(e){if(_(!1),"ok"===e.kind)r.reset(),H("Pago realizado satisfactoriamente","success"),Me.push(j.m.PEDIDOS);else if("bad-data"===e.kind){if(e.errors.non_field_errors)return H(e.errors.non_field_errors[0],"warning"),!1;H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}}))}}()},disabled:v,className:"btn btn-info px-5 py-2 mt-2",type:"button",children:"Confirmar Compra"})})]})]})]})})),et=(n(492),n(494),function(e){var t=e.movil?e.movil:Object(y.s)();return Object(l.jsx)("div",{style:e.style?e.style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:t?"var(--gris-claro)":"#fff",marginBottom:"env(safe-area-inset-bottom)",flexDirection:"column"},className:"footer-formulario py-3 px-3 "+e.className,children:e.children})}),tt=(n(489),n(490),n(515),n(488),n(495),n(1732)),nt=n(1521),at=n(1741),ct=n(412),it=n(413),rt=n(142),ot=(n(287),n(523)),st=(n(567),function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),a=n[0],r=n[1];return i.a.useEffect((function(){if(""!==a&&""!==e.fecha){var t=Ve()("".concat(e.fecha," ").concat(a),ot.a.DATEHOURMINUTE).format(ot.a.ISO);e.setFecha(t)}else""===a&&e.setFecha("")}),[e.fecha,a]),Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[e.orden.fabricante,Object(l.jsx)("br",{}),Object(l.jsx)("small",{children:Ve()(e.orden.fecha_retiro).format(ot.a.DATEHOURMINUTE)})]}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:a,error:"",set_dato:function(e,t){return r(t)},columnas:6,columnas_sm:6})})})]},"orden-"+e.orden.id)}),lt=Object(r.a)((function(e){var t=Object(u.b)(),n=Object(c.useState)(),a=Object(O.a)(n,2),r=a[0],s=a[1],d=Object(c.useState)(),b=Object(O.a)(d,2),m=b[0],f=b[1],h=Object(c.useState)(""),g=Object(O.a)(h,2),v=g[0],_=g[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)({lng:-57.63591,lat:-25.30066}),D=Object(O.a)(S,2),I=D[0],A=D[1],R=Object(c.useState)(!1),E=Object(O.a)(R,2),P=E[0],T=E[1],z=Object(c.useState)([[-57.63591,-25.30066]]),L=Object(O.a)(z,2),F=L[0],M=L[1],B=Object(c.useState)(),U=Object(O.a)(B,2),q=U[0],H=U[1],W=Object(y.J)(),Y=Object(y.A)(),V=Object(o.e)();i.a.useEffect((function(){var t,n=e.pedido;if(n&&n.ordenes_venta&&(null===(t=n.ordenes_venta)||void 0===t?void 0:t.length)>0){var a=n.direccion.ubicacion.split(",");H({lat:Number(a[0]),lng:Number(a[1])});var c=Object(p.a)(n.ordenes_venta);c.sort((function(e,t){var n=new Date(e.fecha_confirmado),a=new Date(t.fecha_confirmado);return n.getTime()<a.getTime()?-1:1})),s(c)}}),[e.pedido]),i.a.useEffect((function(){if(r&&r.length>0){var e=r.map((function(e){return{orden_id:e.id,fecha:""}}));f(e)}}),[r]),i.a.useEffect((function(){var e=setTimeout((function(){T(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),i.a.useEffect((function(){if(r&&e.pedido&&q&&m){var t=[],n=Object(p.a)(m),a=!1;n.sort((function(e,t){""!==e.fecha&&""!==t.fecha||(a=!0);var n=new Date(e.fecha),c=new Date(t.fecha);return n.getTime()<c.getTime()?-1:1})),n.forEach((function(e){var n=r.find((function(t){return t.id===e.orden_id}));n&&t.push(n)}));var c=t.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));c.push([q.lat,q.lng]),M(""===v||a?null:c)}}),[m]),i.a.useEffect((function(){if(r&&e.pedido&&q){var t=r.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));t.push([q.lat,q.lng]),M(""===v?null:t);var n={lat:t.reduce((function(e,t){return e+t[0]}),0)/t.length,lng:t.reduce((function(e,t){return e+t[1]}),0)/t.length};A(n)}}),[r,q]);var G=Object(y.C)((function(e){})),J=Object(O.a)(G,2),Z=(J[0],J[1]);return Object(l.jsxs)(x.q,{isOpen:e.visible,onDidDismiss:e.setVisible,swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ruteo-pedido",children:[Z,Object(l.jsxs)("div",{className:"content-container",children:[Object(l.jsxs)("div",{className:"container d-flex flex-column pt-3",children:[Object(l.jsx)("h3",{children:"Itinerario"}),Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)("strong",{children:"Fecha"})}),Object(l.jsx)($,{deshabilitado:!0,titulo:"dd/mm/aaaa",tipo:"fecha",campo:"fecha_retiro",valor:v,error:"",set_dato:function(e,t){return _(t)},columnas:6,columnas_sm:6})]}),Object(l.jsx)(x.g,{style:{flex:1},children:r&&r.length>0&&Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Paradas"}),Object(l.jsx)("th",{})]})}),Object(l.jsxs)("tbody",{children:[!!m&&m.length>0&&r.map((function(e,t){return Object(l.jsx)(st,{orden:e,setFecha:function(e){var n=Object(p.a)(m);n[t].fecha=e,f(n)},fecha:v},e.id)})),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Cliente"}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:w,error:"",set_dato:function(e,t){return k(t)},columnas:6,columnas_sm:6})})})]})]})]})})})})})}),Object(l.jsxs)("div",{className:"row justify-content-center",children:[Object(l.jsx)(tt.a,{className:"btn btn-light ml-3 mb-3",onClick:e.setVisible,children:"Cancelar"}),Object(l.jsx)(tt.a,{className:"btn btn-primary ml-3 mb-3",onClick:function(){var n=Ve()("".concat(v," ").concat(w),ot.a.DATEHOURMINUTE),a=!1;if(null===m||void 0===m||m.forEach((function(e){n.isBefore(e.fecha)&&(a=!0,W("La hora de entrega debe ser posterior a las dem\xe1s."))})),!a&&r&&m){var c={pedido_id:e.pedido.id,fecha_entrega:n.format(ot.a.ISO),itinerarios_retiro:Object(p.a)(m)};t.environment.api.ruteoManualStaff(c).then((function(t){Y(t,"Pedido ruteado correctamente","rutear"),"ok"===t.kind?(e.setVisible(!1),V.push(j.m.ADMIN_PEDIDO_DETAIL(e.pedido.id)+"?r=true")):"bad-data"===t.kind&&W("Fecha/hora err\xf3nea.")}))}},children:"Guardar"})]})]}),Object(l.jsx)("div",{children:P&&Object(l.jsxs)(nt.a,{zoom:13,center:I,style:{height:"100%",width:"100%"},attributionControl:!1,children:[Object(l.jsx)(at.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!!F&&Object(l.jsx)(ct.a,{positions:F}),!!r&&(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return Object(l.jsx)(it.a,{position:e.punto_retiro.ubicacion.split(","),icon:y.b.fabricante,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsx)("span",{className:"",children:e.fabricante})}),Object(l.jsxs)("div",{className:"itinerario-columna2",children:[Object(l.jsx)("span",{children:e.punto_retiro.nombre}),Object(l.jsxs)("span",{children:[e.punto_retiro.calle_principal," c/ ",e.punto_retiro.calle_secundaria]})]})]})})},e.id)})),!!q&&!!e.pedido&&Object(l.jsx)(it.a,{position:q,icon:y.b.usuario,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsxs)("span",{className:"",children:[e.pedido.usuario.first_name," ",e.pedido.usuario.last_name]})}),Object(l.jsx)("div",{className:"itinerario-columna2",children:Object(l.jsxs)("span",{children:[e.pedido.direccion.calle_principal," c/ ",e.pedido.direccion.calle_secundaria]})})]})})})]})})]})]})})),dt=(n(568),n(197)),ut=Object(r.a)((function(e){return Object(l.jsxs)(x.q,{isOpen:!0,id:"modal-upgrade-required",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)("img",{src:"assets/abi-v.svg",alt:"ABi",height:"80px"}),Object(l.jsx)("div",{className:"mt-3 text-bold",children:"Actualizaci\xf3n requerida"}),Object(l.jsx)("div",{className:"mt-3 text-center",children:"Para poder seguir utilizando ABi es necesario que actualice su app a la \xfaltima versi\xf3n."}),Object(l.jsxs)("div",{className:"mt-3",children:["Versi\xf3n instalada: ",dt.RELEASE.split("@")[1]]})]})}))},476:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(546);var a=n(40),c=(n(3),n(1543)),i=n(161),r=n(9),o=Object(i.a)((function(e){var t=e.cssClass?e.cssClass:"";return Object(r.jsxs)(a.q,{isOpen:e.isOpen,onDidDismiss:function(){return e.close()},cssClass:"modal-info "+t,children:[Object(r.jsxs)("div",{className:"header-modal-info",style:{backgroundColor:e.color?e.color:"var(--naranja-abi)"},children:[Object(r.jsx)("div",{children:Object(r.jsx)("span",{children:e.titulo})}),Object(r.jsx)("div",{onClick:function(){return e.close()},children:Object(r.jsx)(c.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"fit-content",width:"100%",backgroundColor:"#fff",borderBottomLeftRadius:"0.3rem",borderBottomRightRadius:"0.3rem"},children:Object(r.jsx)("div",{className:"modal-info-childen-container",children:e.children})})]})}))},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(33),c=n(0),i=n.n(c),r=n(2),o=n(24),s=n(123),l=n(40),d=n(576),u=n.n(d),j=n(161),b=n(3),m=n(1515),f=n(1521),h=n(1522),p=n(1020),O=n(1741),x=n(1523),g=n(413),v=n(101),_=n(86),y=n(9),N=Object(j.a)((function(e){var t=Object(_.b)(),n=Object(b.useState)(!1),c=Object(o.a)(n,2),d=c[0],j=c[1],N=Object(b.useState)(!1),C=Object(o.a)(N,2),w=C[0],k=C[1],S=Object(b.useState)(e.lat),D=Object(o.a)(S,2),I=D[0],A=D[1],R=Object(b.useState)(e.lng),E=Object(o.a)(R,2),P=E[0],T=E[1],z=Object(b.useState)(e.zoom||14),L=Object(o.a)(z,2),F=L[0],M=L[1],B=Object(b.useState)(e.center),U=Object(o.a)(B,2),q=U[0],H=U[1],W=Object(b.useState)(!1),Y=Object(o.a)(W,2),V=Y[0],G=Y[1],J=e.bloquear_cambio_ubicacion||!1,Z=e.bloquear_interaccion||!1,Q=e.style||{width:"100%",height:e.full_screen?"100%":300},K=e.color||"#303AB2",X=Object(v.J)(),$=Object(b.useRef)(null),ee=function(){var n=Object(r.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:!e.bloquear_interaccion||t.hasLocationPermission||e.noSolicitarPermiso||G(!0),setTimeout((function(){return k(!0)}),500);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(b.useEffect)((function(){ee()}),[]);var te=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),s.a.getCurrentPosition({enableHighAccuracy:!0,timeout:3e4,maximumAge:6e4}).then((function(e){j(!1);var n=e.coords.latitude,a=e.coords.longitude,c=$.current;c&&c.flyTo([n,a],c.getZoom()),A(n),T(a),t.setPosicion(n,a)})).catch((function(e){console.log("getCurrentPosition err",e),String(e).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada."),j(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){e.lat&&e.lng&&e.lat!==I&&e.lng!==P&&(A(e.lat),T(e.lng))}),[e.lat,e.lng]),Object(b.useEffect)((function(){if(e.center){H(e.center);var t=$.current;t&&t.flyTo(e.center,t.getZoom())}}),[e.center]),Object(b.useEffect)((function(){if(I&&P){var t=$.current;t&&M(t.getZoom()),H({lng:P,lat:I}),e.ubicacion&&e.ubicacion(I,P)}}),[P]),Object(b.useEffect)((function(){e.zoom&&e.zoom!=F&&(M(e.zoom),H({lng:P,lat:I}))}),[e.zoom]);var ne=function(){var e=Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.locationService.askPermissionAndOrTurnOnGPS();case 2:n=e.sent,t.setHasLocationPermission(n),G(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{style:Object(a.a)(Object(a.a)({},Q),{},{position:"relative"}),onClick:function(){!V&&e.onClick&&e.onClick()},children:[V&&Object(y.jsxs)("div",{className:"mensaje-permiso",children:[Object(y.jsx)("div",{children:Object(y.jsx)(m.a,{size:36,color:"#FFD700",style:{pointerEvents:"none"}})}),"Para una mejor experiencia necesitamos acceder a tu ubicaci\xf3n",Object(y.jsxs)("div",{className:"mensaje-botones",children:[Object(y.jsx)("button",{className:"btn btn-light ml-2",onClick:function(){return G(!1)},children:"Denegar"}),Object(y.jsx)("button",{className:"btn btn-primary ml-2",onClick:ne,children:"Aceptar"})]})]}),!Z&&!J&&Object(y.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,backgroundColor:K,borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:te,title:"Centrar posici\xf3n",children:Object(y.jsx)(u.a,{style:{fontSize:20,color:"white"}})}),d&&Object(y.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,opacity:.8,backgroundColor:"#777777",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:Object(y.jsx)(l.z,{name:"crescent",color:"primary"})}),w&&Object(y.jsxs)(f.a,{attributionControl:!1,center:q,zoom:F,style:Q,dragging:!Z,scrollWheelZoom:!Z,zoomControl:!Z,doubleClickZoom:!Z,closePopupOnClick:!Z,trackResize:!Z,touchZoom:!Z,children:[Object(y.jsx)(h.a,{children:function(e){return $.current=e,Object(p.b)({click:function(t){if(!J&&!Z){var n=t.latlng;A(n.lat),T(n.lng),M(e.getZoom())}},moveend:function(){if(!J&&!Z){var t=e.getCenter();A(t.lat),T(t.lng),M(e.getZoom())}}}),null}}),(!!e.disableMultiLayer||e.bloquear_interaccion)&&Object(y.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!e.disableMultiLayer&&!e.bloquear_interaccion&&Object(y.jsxs)(x.a,{children:[Object(y.jsx)(x.a.BaseLayer,{checked:!0,name:"Calles",children:Object(y.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(y.jsx)(x.a.BaseLayer,{name:"Calles GMaps",children:Object(y.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(y.jsx)(x.a.BaseLayer,{name:"Satelital",children:Object(y.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(y.jsx)(x.a.BaseLayer,{name:"Satelital con info",children:Object(y.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})})]}),I&&P&&Object(y.jsx)(g.a,{position:{lat:I,lng:P},draggable:!J&&!Z,eventHandlers:{dragend:function(e){if(!J&&!Z){var t=e.target.getLatLng();A(t.lat),T(t.lng)}}},icon:v.c.pin})]})]})}))},481:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(26),c=n(24),i=n(3),r=n(161),o=n(40),s=n(9),l=Object(r.a)((function(e){var t=Object(i.useState)(!1),n=Object(c.a)(t,2),r=n[0],l=n[1],d=Object(i.useState)([]),u=Object(c.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),f=Object(c.a)(m,2),h=f[0],p=f[1],O=Object(i.useState)([]),x=Object(c.a)(O,2),g=x[0],v=x[1],_=Object(i.useState)(""),y=Object(c.a)(_,2),N=y[0],C=y[1],w=e.auto_aceptar||!1,k=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(k=!0);var S=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var n=[];null!==e.listado_elementos&&(n=e.listado_elementos.filter((function(n){return n[e.llave_label_opcion]&&t&&n[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?n:e.listado_elementos)}};return Object(i.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)b(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){b([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&p([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id?(b(e.listado_elementos_seleccionados.map((function(e){return e.id}))),p(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):(b([]),p([])):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(b([e.listado_elementos_seleccionados.id]),p([e.listado_elementos_seleccionados[e.llave_label_opcion]]));S("")}),[e.listado_elementos_seleccionados]),Object(i.useEffect)((function(){e.mostrar_modal&&l(!0),e.mostrar_modal_cambio_estado&&!r&&e.mostrar_modal_cambio_estado(r)}),[e.mostrar_modal,r]),Object(s.jsxs)("div",{className:"selector-modal",children:[Object(s.jsxs)(o.q,{isOpen:r,onDidDismiss:function(){C(""),S("")},backdropDismiss:!1,children:[Object(s.jsxs)(o.j,{children:[Object(s.jsxs)(o.C,{children:[Object(s.jsx)(o.A,{slot:"start",children:e.titulo}),void 0!==e.boton_extra_text&&Object(s.jsx)(o.A,{slot:"end",children:Object(s.jsx)("div",{className:"text-primary cpointer",title:"Agregar "+e.boton_extra_text,onClick:function(){e.boton_extra_funcion()},children:Object(s.jsx)("small",{children:"Agregar"})})})]}),Object(s.jsx)(o.C,{children:Object(s.jsx)(o.w,{showCancelButton:"focus",placeholder:"Buscar",value:N,onIonChange:function(e){S(e.detail.value),C(e.detail.value)}})})]}),Object(s.jsx)(o.g,{children:Object(s.jsx)(o.p,{children:g&&g.length>0&&g.map((function(t){return Object(s.jsxs)(o.n,{children:[Object(s.jsx)(o.o,{children:t[e.llave_label_opcion]}),Object(s.jsx)(o.f,{slot:"end",value:t.id,checked:j.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var n=Object(a.a)(j),c=Object(a.a)(h),i=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=n.indexOf(t);n.includes(t)?(n.splice(r,1),c.splice(r,1)):e.multiple?(n.push(t),c.push(i)):(n=[t],c=[i]),b(n),p(c),w&&(l(!1),e.datos_filtrados(n))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(s.jsx)(o.i,{children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return l(!1)},children:"Cancelar"}),Object(s.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},onClick:function(){l(!r),e.datos_filtrados(j)},children:"Aceptar"})]})})]}),void 0===e.ocultar_input&&Object(s.jsx)("label",{className:"font-weight-bold text-gray",children:e.titulo_label}),void 0===e.ocultar_input&&Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:h.join(", ")}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{disabled:k,className:"btn btn-outline-secondary",type:"button",onClick:function(){return k?null:l(!r)},children:"Seleccionar"})})]})]})}));t.b=l},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),c=n.n(a),i=n(2),r=n(24),o=n(3),s=n(161),l=n(40),d=(n(514),n(30)),u=n(226),j=n(145),b=n(510),m=n.n(b),f=n(476),h=n(9),p=function(e){var t=e.itemImage,n=t.preview?t.preview:null,a=Object(o.useState)(null),s=Object(r.a)(a,2),l=s[0],b=s[1],m=e.camera_direction?e.camera_direction:0,f=(e.color,e.class_boton_aceptar||"btn-outline-primary");"web"===d.Capacitor.getPlatform()&&(m=1),Object(o.useEffect)((function(){l&&e.on_select(l,t.userDataLabel)}),[l]);var p=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:m});case 3:t=e.sent,b(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(i.a)(c.a.mark((function t(){var n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==d.Capacitor.getPlatform()){t.next=7;break}return t.next=4,j.a.getPhoto({resultType:j.c.Uri,source:j.d.Prompt,direction:0===m?j.b.Rear:j.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return n=t.sent,b(n.webPath||""),t.abrupt("return");case 7:return t.next=9,u.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 9:(a=t.sent)&&(i="ios"===d.Capacitor.getPlatform()?"":"file://",a.startsWith(i)||(a=i+a)),b(a||""),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(h.jsx)("h4",{style:{textAlign:"center",color:"var(--gris-oscuro)",fontWeight:"bolder"},children:t.titulo}),Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[!n&&!!l&&Object(h.jsx)("img",{className:"preview-imagen-item",src:d.Capacitor.convertFileSrc(l)}),n&&Object(h.jsx)("img",{className:"preview-imagen-item",src:l?d.Capacitor.convertFileSrc(l):n})]}),Object(h.jsxs)("div",{style:{display:"flex",gap:20},children:["web"!==d.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(h.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12  mt-2",onClick:p,children:"Sacar foto"}),Object(h.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12 mt-2",onClick:O,children:"Seleccionar desde la galer\xeda"})]})]})})},O=Object(s.a)((function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(o.useState)(""),s=Object(r.a)(i,2),u=s[0],j=(s[1],Object(o.useState)()),b=Object(r.a)(j,2),O=b[0],x=b[1],g=Object(o.useState)(!1),v=Object(r.a)(g,2),_=v[0],y=v[1],N=(e.camera_direction&&e.camera_direction,e.color||"#303AB2"),C=e.class_boton_aceptar||"btn-outline-primary";d.Capacitor.getPlatform();var w=function(){x(u),c(!0)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(h.jsx)(f.a,{color:N,isOpen:_,close:function(){return y(!1)},titulo:e.infoTitulo,cssClass:e.modalInfoCssClass?e.modalInfoCssClass:"requisitos-foto-perfil",children:Object(h.jsx)("p",{children:e.infoBody})}),Object(h.jsxs)(l.q,{isOpen:a,backdropDismiss:!1,children:[Object(h.jsx)(l.j,{children:Object(h.jsx)(l.C,{children:Object(h.jsx)(l.A,{children:e.titulo_modal})})}),Object(h.jsxs)(l.g,{children:[e.imageItems.map((function(t,n){return Object(h.jsx)(p,{itemImage:t,class_boton_aceptar:C,on_select:e.on_select},n)})),e.extra_component?e.extra_component:null]}),Object(h.jsx)("div",{style:{padding:10},children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){c(!1)},children:"CANCELAR"})}),Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn "+C+" btn-block",onClick:function(){e.on_accept&&e.on_accept(),c(!1)},children:Object(h.jsx)("span",{children:"ACEPTAR"})})})]})})]})]}),!e.custom_boton&&!!e.perfil&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(h.jsx)("div",{style:{borderColor:N},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.bloqueado?function(){}:w,children:Object(h.jsx)("img",{alt:"",className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),Object(h.jsx)("div",{className:"input-group mb-3",children:Object(h.jsxs)("div",{className:"boton-photo-loader-registro btn btn-outline-orange btn-font-sm d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(h.jsx)("img",{onClick:e.bloqueado?function(){}:w,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(h.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),Object(h.jsx)("span",{className:"mx-2",onClick:e.bloqueado?function(){}:w,style:{color:N},children:e.titulo_label}),e.titulo_boton?Object(h.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(h.jsx)("img",{onClick:function(){return y(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.custom_boton&&!e.perfil&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(h.jsx)("div",{className:"boton-photo-loader-registro-no-perfil btn btn-outline-orange btn-font-sm mr-2",onClick:e.bloqueado?function(){}:w,children:e.titulo_label}),O&&Object(h.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),!O&&Object(h.jsx)("img",{className:"info-image",onClick:function(){return y(!0)},alt:"",src:"assets/icon/info.png"})]})}),!!e.custom_boton&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{onClick:e.bloqueado?function(){}:w,children:e.custom_boton})})]})}));t.b=O},483:function(e,t,n){"use strict";var a=n(33),c=n(24),i=n(161),r=n(3),o=n(101),s=n(86),l=n(484),d=n(481),u=n(9),j=Object(i.a)((function(e){var t=Object(s.b)(),n=t.loginStore,i=Object(r.useState)(null),j=Object(c.a)(i,2),b=j[0],m=j[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),p=h[0],O=h[1],x=Object(o.J)();Object(r.useEffect)((function(){m(n.direcciones.find((function(e){return e.default})))}),[]);var g=function(){n.direcciones.forEach((function(e){t.environment.api.guardarDireccion(e).then((function(e){"ok"===e.kind||"bad-data"===e.kind&&console.log(e.errors)}))}))};return Object(u.jsxs)(u.Fragment,{children:[p&&Object(u.jsx)(l.a,{visible:!0,successCallback:function(){t.environment.api.getCliente(n.id).then((function(e){if("ok"===e.kind){var t=Object(a.a)({},e.cliente);n.setDirecciones(t.direcciones),n.setDatosFacturacion(t.datos_facturacion)}else x("Ocurri\xf3 un error al actualizar las direcciones","error")}))}}),Object(u.jsx)(d.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:n.direcciones,listado_elementos_seleccionados:b||[],datos_filtrados:function(t){n.direcciones.forEach((function(e){(t[0]===e.id||e.default)&&e.toggleDefault()})),g(),function(e){var t=n.direcciones.filter((function(t){return t.id===e}))[0];m(t)}(t[0]),e.setDireccionPredeterminada("a")},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:e.visible,mostrar_modal_cambio_estado:function(t){return e.onDismiss(t)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){O(!1),setTimeout((function(){return O(!0)}),100)}})]})}));t.a=j},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(33),c=n(0),i=n.n(c),r=n(2),o=n(24),s=(n(540),n(40)),l=n(3),d=n.n(l),u=n(161),j=n(96),b=n.n(j),m=n(86),f=n(475),h=n(101),p=n(123),O=n(504),x=n(1524),g=n(9);b.a.Icon.Default.imagePath="images/";var v=Object(u.a)((function(e){var t=Object(m.b)(),n=t.loginStore,c=Object(l.useState)(!1),u=Object(o.a)(c,2),j=u[0],b=u[1],v=Object(l.useState)(!0),_=Object(o.a)(v,2),y=_[0],N=_[1],C=Object(l.useState)({}),w=Object(o.a)(C,2),k=w[0],S=w[1],D=Object(l.useState)({}),I=Object(o.a)(D,2),A=I[0],R=I[1],E=Object(l.useState)(!1),P=Object(o.a)(E,2),T=P[0],z=P[1],L=Object(h.A)(),F=Object(h.J)(),M=Object(l.useRef)(),B=Object(l.useState)({lng:-57.63591,lat:-25.30066}),U=Object(o.a)(B,2),q=U[0],H=U[1],W=Object(l.useState)(null),Y=Object(o.a)(W,2),V=Y[0],G=Y[1],J=Object(l.useState)(null),Z=Object(o.a)(J,2),Q=Z[0],K=Z[1],X=Object(l.useState)(null),$=Object(o.a)(X,2),ee=$[0],te=$[1];d.a.useEffect((function(){z(e.visible)}),[e.visible]),d.a.useEffect((function(){if(!e.direccion)return R({}),void ce();ae(e.direccion.id)}),[e.direccion]);var ne=function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ie(),e.direccion||N(!1),setTimeout((function(){b(!0)}),700);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){ne()}),[]);var ae=function(e){N(!0),t.environment.api.getDireccion(e).then((function(e){if("ok"===e.kind){var t=Object(a.a)({},e.data);if(t.calle_principal={label:t.calle_principal,value:t.calle_principal},t.calle_secundaria={label:t.calle_secundaria,value:t.calle_secundaria},R(t),e.data.ubicacion){var n=e.data.ubicacion.split(",");G(parseFloat(n[0])),K(parseFloat(n[1])),H({lat:parseFloat(n[0]),lng:parseFloat(n[1])})}}else F("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error");N(!1)}))};Object(l.useEffect)((function(){t.hasLocationPermission&&ce().catch((function(e){console.log(e),String(e).includes("location disabled")&&F("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]);var ce=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,te([t.coords.latitude,t.coords.longitude]),G(t.coords.latitude),K(t.coords.longitude),H({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){t.ciudades.length||(N(!0),t.actualizarDatosInicio(!1).then((function(){N(!1)})))},re=function(e,t){var n=Object(a.a)({},A);n[e]=t,R(n)};Object(l.useEffect)((function(){(j||!e.direccion)&&V&&Q&&t.environment.api.infoCalle(V,Q).then((function(e){if("ok"===e.kind){if(e.response.info){var n=e.response.info,c=Object(a.a)({},A);n.calle&&(c.calle_principal={value:n.calle,label:n.calle}),n.ciudad_obj&&(c.ciudad=t.ciudades.find((function(e){return e.id===n.ciudad_obj.id}))),n.secondary&&(c.calle_secundaria={value:n.secondary,label:n.secondary}),R(c)}}else console.log("error infoCalle",e)}))}),[V,Q]);var oe=function(e,t){re(e,t)};return T?Object(g.jsxs)(s.q,{isOpen:T,id:"modal-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(g.jsx)(f.k,{color:"var(--naranja-abi)",botonIzquierdo:Object(g.jsx)("span",{onClick:function(){z(!1)},children:Object(g.jsx)(x.a,{size:30,color:"#ffffff"})}),titulo:"".concat(A.id?"Editar":"Crear"," direcci\xf3n")}),!j&&Object(g.jsx)("div",{style:{display:"flex",flexGrow:1,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(s.z,{})}),j&&Object(g.jsxs)("div",{style:{padding:20,overflowY:"auto"},children:[Object(g.jsx)(O.a,{ref:M,lat:V,lng:Q,onAccept:function(e,t){G(e),K(t),H([e,t])}}),Object(g.jsx)("p",{children:"Ingrese la direcci\xf3n de su casa o destino deseado para la entrega de los pedidos realizados en la plataforma."}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)(f.b,{deshabilitado:!y,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:A?A.nombre:"",error:k&&k.nombre,set_dato:oe,columnas:12,columnas_sm:6}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)("div",{className:"row my-2",children:[Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)("label",{className:"font-weight-bold text-primary",children:"Seleccione la ubicaci\xf3n"})}),j&&Object(g.jsx)("div",{className:"col-12",style:{height:300,width:"100%",cursor:"pointer"},children:Object(g.jsx)(f.z,{lat:V,lng:Q,zoom:V?16:14,center:q,bloquear_interaccion:!0,onClick:function(){setTimeout((function(){M.current.open()}),300)}})})]})}),Object(g.jsx)(f.b,{deshabilitado:!y,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:A?A.calle_principal:"",error:k&&k.calle_principal,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(h.z)(t,re,R,A,"calle_principal",e)},opciones_select:function(e){return Object(h.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!y,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:A?A.calle_secundaria:"",error:k&&k.calle_secundaria,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(h.z)(t,re,R,A,"calle_secundaria",e)},opciones_select:function(e){return Object(h.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!y,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:A?A.numero:"",error:k&&k.numero,set_dato:oe,columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!y,titulo:"Referencia",tipo:"textarea",campo:"referencia",valor:A?A.referencia:"",error:k&&k.referencia,set_dato:oe,columnas:12})]}),Object(g.jsx)(f.A,{titulo:"Ciudad",titulo_label:"Seleccion\xe1 la ciudad",listado_elementos:t.ciudades,listado_elementos_seleccionados:A.ciudad,datos_filtrados:function(e){re("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre"}),k.ciudad&&Object(g.jsx)("div",{className:"text-danger",children:k.ciudad}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"font-weight-bold text-gray",children:"Eleg\xed un icono distintivo"}),Object(g.jsxs)("div",{className:"campo-registro-abi",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(g.jsx)("div",{onClick:function(){return re("icono","casa")},className:"casa"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","empresa")},className:"empresa"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===A.icono?"filter-invert-imagen":""})}),Object(g.jsx)("div",{onClick:function(){return re("icono","maletin")},className:"maletin"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","corazon")},className:"corazon"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","alfiler")},className:"alfiler"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===A.icono?"filter-invert-imagen":"",height:32})})]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"checkbox",id:"chk-default",checked:A.default}),Object(g.jsx)("label",{onClick:function(e){re("default",!A.default)},children:"Direcci\xf3n por defecto"})]})]}),Object(g.jsx)(s.i,{children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return z(!1)},children:"Cancelar"}),Object(g.jsxs)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},disabled:y,onClick:function(){N(!0),S({});var c=V+","+Q,i=A.calle_principal,r=A.calle_secundaria,o=Object(a.a)(Object(a.a)({},A),{},{ubicacion:c,calle_principal:i?i.value:"",calle_secundaria:r?r.value:""});o.ciudad&&"object"===typeof o.ciudad&&(o.ciudad=o.ciudad.id),o.usuario=n.id,t.environment.api.guardarDireccion(o).then((function(t){L(t,"Direcci\xf3n guardada correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),z(!1)):"bad-data"===t.kind&&S(t.errors),N(!1)}))},children:[y&&Object(g.jsx)(s.z,{name:"crescent"}),!y&&Object(g.jsx)("span",{children:"Guardar"})]})]})})]}):null}))},485:function(e,t,n){},486:function(e,t,n){"use strict";var a=n(24),c=n(3),i=n(195),r=n(1527),o=n(161),s=n(86),l=n(57),d=n(40),u=n(8),j=n(101),b=n(9),m=Object(o.a)((function(){var e=Object(s.b)(),t=(e.adminStore,e.loginStore),n=Object(l.e)(),o=Object(c.useState)(!1),m=Object(a.a)(o,2),f=m[0],h=m[1],p=Object(j.J)(),O=Object(j.B)();return Object(b.jsxs)("header",{className:"topbar",style:{zIndex:500},children:[Object(b.jsx)(d.a,{isOpen:f,onDidDismiss:function(){return h(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return p("Sesi\xf3n finalizada","dark"),O(),void(document.location.href="/")}}]}),Object(b.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md navbar-light",children:[Object(b.jsx)("div",{className:"navbar-header",children:Object(b.jsxs)("a",{href:u.m.ADMIN,className:"navbar-brand",onClick:function(e){e.preventDefault(),document.location.pathname==u.m.ADMIN&&document.location.reload(),t.administrador?n.push(u.m.ADMIN):20===t.modo_uso_app?n.push(u.o.PERFIL):10===t.modo_uso_app?n.push(u.m.CLIENTE):n.push(u.p.INICIO)},children:[Object(b.jsxs)("b",{children:[Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"30px"}),Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"light-logo",height:"30px"})]}),Object(b.jsx)("span",{className:"logo-text",children:Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"50px"})})]})}),Object(b.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(b.jsx)("ul",{className:"navbar-nav mr-auto float-left"}),Object(b.jsxs)("ul",{className:"navbar-nav my-lg-0",children:[30!==t.modo_uso_app&&Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){t.fabricante?n.push({pathname:"/admin/staff/detail",origen:"header"}):n.push("/admin")},children:Object(b.jsx)("div",{className:"profile-pic-container",children:Object(b.jsx)(i.a,{className:"profile-pic"})})}),Object(b.jsx)("div",{className:"dropdown-menu mailbox dropdown-menu-right animated bounceInDown",children:Object(b.jsx)("ul",{className:"dropdown-user list-style-none",children:Object(b.jsx)("li",{className:"user-list",children:Object(b.jsxs)("a",{className:"px-3 py-2",href:"#",children:[Object(b.jsx)(i.a,{className:"profile-pic",style:{width:18}}),Object(b.jsx)("i",{"data-feather":"user",className:"feather-icon"}),t.username]})})})})]}),Object(b.jsx)("li",{className:"nav-item dropdown",children:Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return h(!0)},style:{cursor:"pointer"},children:Object(b.jsx)("div",{children:Object(b.jsx)(r.a,{className:"profile-pic"})})})})]})]})]})]})}));t.a=m},487:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(2),r=n(33),o=n(24),s=n(3),l=n(1529),d=n(1530),u=n(1531),j=n(1532),b=n(1533),m=n(1534),f=n(1033),h=n(1535),p=n(1536),O=n(1537),x=n(1527),g=n(195),v=n(1538),_=n(1539),y=n(161),N=n(86),C=n(57),w=n(40),k=n(8),S=n(124),D=n(101),I=n(30),A=n(502),R=n(9),E=Object(y.a)((function(){var e,t=Object(N.b)(),n=t.loginStore,a=t.adminStore,y=t.transportistaStore,E=Object(s.useState)(!1),P=Object(o.a)(E,2),T=P[0],z=P[1],L=Object(C.e)(),F=L.location.pathname,M=Object(s.useState)(!1),B=Object(o.a)(M,2),U=B[0],q=B[1],H=Object(s.useState)(F),W=Object(o.a)(H,2),Y=W[0],V=W[1],G=(Object(D.A)(),Object(D.B)()),J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.some.call(t,(function(e){return-1!==F.indexOf(e)}))},Z=function(e){return J(e)?"active":""},Q=function(){return J("admin/configuracion","admin/staff","admin/tipo-vehiculo",k.m.ADMIN_RUBRO,k.m.ADMIN_CATEGORIA,k.m.ADMIN_PREGUNTAS_FRECUENTES)},K=function(){return J("admin/pedido","admin/orden_venta","admin/hoja_ruta",k.m.ADMIN_BALANCE)},X=function(){return J(k.m.ADMIN_RENDICION,k.m.ADMIN_PAGO_PROVEEDOR,k.m.ADMIN_PAGO_CLIENTE,k.m.ADMIN_FACTURA_PROVEEDOR,k.m.ADMIN_FACTURA_CLIENTE)},$=function(){return J("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},ee=function(){return J("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},te=function(){return J("admin/precio","admin/inventario","admin/producto/moderado")},ne=function(){return J(k.m.ADMIN_API_CONFIG,k.m.ADMIN_API_VIEW,k.m.ADMIN_API_DOC,k.m.ADMIN_API_LOG)},ae={administracion:Q(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ne()},ce=Object(s.useState)(ae),ie=Object(o.a)(ce,2),re=ie[0],oe=ie[1],se=function(e){e.preventDefault();var t=Object(r.a)({},re),n=e.target.dataset.menu;return t[n]=!t[n],oe(t),!1};return Object(s.useEffect)((function(){"full"===a.sidebarType?oe({administracion:Q(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ne()}):oe({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[Y]),Object(w.N)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(L.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(R.jsxs)("aside",{className:"left-sidebar","data-sidebarbg":"skin5",children:[Object(R.jsx)(A.b,{pedido:null===(e=y.hojaRutaActiva)||void 0===e?void 0:e.pedido,setVisible:function(){return q(!1)},visible:U}),Object(R.jsxs)("div",{className:"scroll-sidebar",children:[Object(R.jsx)(w.a,{isOpen:T,onDidDismiss:function(){return z(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(D.h)(t,L,10)}}]}),Object(R.jsxs)("nav",{className:"sidebar-nav",children:[30!==n.modo_uso_app&&Object(R.jsxs)("ul",{id:"sidebarnav",children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){L.push("/admin"),"/admin"==F&&window.location.reload()},"aria-expanded":"false",children:[Object(R.jsx)(l.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"Inicio"})]})}),Object(R.jsxs)("li",{className:re.movimientos?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"movimientos",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(d.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"movimientos",onClick:se,children:"Movimientos"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.movimientos?"in":""),children:[n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/pedido",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pedidos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/orden_venta",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Ordenes de Venta"})})}),!n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_BALANCE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Balance"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/hoja_ruta",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Hojas de ruta"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_TORRE_DE_CONTROL,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Torre de Control"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_BUSQUEDA,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"No encontrados"})})})]})]}),n.administrador&&Object(R.jsxs)("li",{className:re.facturacion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"facturacion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(u.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"facturacion",onClick:se,children:"Facturaci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.facturacion?"in":""),children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FACTURA_CLIENTE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Facturas cliente"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FACTURA_PROVEEDOR,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Facturas proveedor"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PAGO_CLIENTE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pagos cliente"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PAGO_PROVEEDOR,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pagos proveedor"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_RENDICION,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Rendici\xf3n"})})})]})]}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:Z(k.m.ADMIN_REPORTES),onClick:function(){return L.push(k.m.ADMIN_REPORTES)},"aria-expanded":"false",children:[Object(R.jsx)(j.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"Reportes"})]})}),Object(R.jsxs)("li",{className:re.moderacion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"moderacion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(b.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"moderacion",onClick:se,children:"Moderaci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.moderacion?"in":""),children:[n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)("a",{className:Z("admin/proveedor/pendiente/"),onClick:function(){oe({administracion:!1,movimientos:!1,moderacion:!0,maestros:!1,facturacion:!1,productos:!1,api:!1}),L.push("/admin/proveedor/pendiente/")},"aria-expanded":"false",children:Object(R.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/transportista/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/vehiculo/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/producto/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Productos"})})})]})]}),n.administrador&&Object(R.jsxs)("li",{className:re.maestros?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"maestros",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(m.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"maestros",onClick:se,children:"Maestros"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.maestros?"in":""),children:[n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/cliente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Clientes"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FABRICANTES("moderado"),urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/transportista/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/vehiculo/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})})]})]}),Object(R.jsxs)("li",{className:re.productos?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"productos",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(f.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"productos",onClick:se,children:"Cat\xe1logo"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.productos?"in":""),children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/producto/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Productos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/precio",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Precios"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/inventario",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Inventario"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_COMENTARIO_PRODUCTO,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Comentarios de productos"})})})]})]}),Object(R.jsxs)("li",{className:re.administracion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"administracion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(h.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"administracion",onClick:se,children:"Configuraci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.administracion?"in":""),children:[n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/staff",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Usuarios"})})}),!n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FABRICANTE_DETAIL("pendiente",n.fabricante_id),urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Mi perfil"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item active",children:Object(R.jsx)(S.b,{href:"/admin/configuracion",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Par\xe1metros"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/tipo-vehiculo",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Tipos de veh\xedculo"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_RUBRO,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Rubros"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_CATEGORIA,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Categor\xedas"})})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PREGUNTAS_FRECUENTES,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Preguntas frecuentes"})})})]})]}),Object(R.jsxs)("li",{className:re.api?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"api",onClick:se,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(p.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"api",onClick:se,children:"API"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.api?"in":""),children:[n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_CONFIG,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Configuraci\xf3n"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_DOC,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Documentaci\xf3n"})})}),!n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_VIEW,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Mi Acceso"})})})]})]}),!n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:"",onClick:function(){return z(!0)},"aria-expanded":"false",children:[Object(R.jsx)(O.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),n.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:"",onClick:function(){return L.push(k.m.ROOT)},"aria-expanded":"false",children:[Object(R.jsx)(O.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==I.Capacitor.getPlatform()?L.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(R.jsx)(x.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]}),30===n.modo_uso_app&&Object(R.jsxs)("ul",{id:"sidebarnav",children:[t.isDebug&&Object(R.jsx)("li",{className:"sidebar-item mt-3",children:Object(R.jsxs)("div",{onClick:function(){t.environment.api.getHojaRutaActiva().then((function(e){if("ok"===e.kind&&e.data){var t=e.data;y.setHojaRutaActiva(t),t&&t.next&&y.setItinerarioActivo(t.next)}}))},children:[Object(R.jsx)(g.a,{}),Object(R.jsx)("span",{onClick:function(){return q(!0)},className:"ml-3",children:"Hoja de ruta activa"})]})}),Object(R.jsx)("li",{className:"sidebar-item mt-3",children:Object(R.jsxs)(S.b,{href:k.p.INICIO,urlConditionalClassName:"active",children:[Object(R.jsx)(g.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Mi perfil"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)(S.b,{href:k.p.BALANCE,urlConditionalClassName:"active",children:[Object(R.jsx)(v.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Balance"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)(S.b,{href:k.p.VEHICULOS,urlConditionalClassName:"active",children:[Object(R.jsx)(_.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Veh\xedculos"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){z(!0)},children:[Object(R.jsx)(O.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"La tienda"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==I.Capacitor.getPlatform()?L.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(R.jsx)(x.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]})]})]})]})}));t.a=E},488:function(e,t,n){"use strict";var a=n(26),c=n(24),i=n(40),r=n(161),o=n(3),s=n(1068),l=n(1513),d=n(1021),u=n(1543),j=n(573),b=n(57),m=n(477),f=n(86),h=(n(547),n(502)),p=n(512),O=n(9),x=(n(144).WSS_BASE_URL,Object(r.a)((function(e){var t=Object(f.b)(),n=Object(o.useState)(),r=Object(c.a)(n,2),x=r[0],g=r[1],v=Object(o.useState)(),_=Object(c.a)(v,2),y=_[0],N=_[1],C=Object(o.useState)(null),w=Object(c.a)(C,2),k=w[0],S=w[1],D=Object(o.useState)(),I=Object(c.a)(D,2),A=I[0],R=I[1],E=Object(o.useState)(""),P=Object(c.a)(E,2),T=P[0],z=P[1],L=Object(o.useState)(!1),F=Object(c.a)(L,2),M=F[0],B=F[1],U=Object(o.useState)(!1),q=Object(c.a)(U,2),H=q[0],W=q[1],Y=Object(o.useState)(!1),V=Object(c.a)(Y,2),G=V[0],J=V[1],Z=Object(o.useState)(!1),Q=Object(c.a)(Z,2),K=Q[0],X=Q[1],$=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ee=Object(b.f)().search,te=Object(b.e)(),ne=Object(o.useState)(!1),ae=Object(c.a)(ne,2),ce=ae[0],ie=ae[1];Object(o.useEffect)((function(){M&&(N([]),re())}),[M]),Object(o.useEffect)((function(){var e=new URLSearchParams(ee),t="1"===e.get("chat"),n=Number(e.get("pedido"));t&&n?(S(n),re()):n||S(null)}),[ee]),Object(o.useEffect)((function(){k&&y&&(g(y.find((function(e){return e.id===k}))),$?X(!0):(W(!0),J(!0),X(!1)))}),[y,k]),Object(o.useEffect)((function(){if(T&&y&&y.length>0){var e=Object(a.a)(y),t=T.toLowerCase();R(e.filter((function(e){return e.transportista.usuario.last_name.toLowerCase().includes(t)||e.transportista.usuario.first_name.toLowerCase().includes(t)||String(e.id).includes(t)})))}else""===T&&R(y)}),[T,y]),Object(o.useEffect)((function(){if(H){if(x){var e=new URLSearchParams(ee);e.set("chat","1"),e.set("pedido",String(x.id)),te.push(window.location.pathname+"?"+e)}}else{var t=new URLSearchParams(ee);t.delete("chat"),t.delete("pedido"),te.push(window.location.pathname+"?"+t)}}),[H,x]);var re=function(){ie(!0),t.environment.api.pedidosChat().then((function(e){"ok"===e.kind&&N(e.data),ie(!1)}))};return Object(O.jsxs)(O.Fragment,{children:[$&&!!x&&Object(O.jsx)(h.b,{visible:K,setVisible:function(){X(!1)},pedido:x}),!$&&Object(O.jsxs)("div",{id:"chat-interno-container",className:"col-12 col-lg-3 col-xl-2",children:[Object(O.jsxs)("div",{className:"listado-container",children:[Object(O.jsxs)("div",{className:"d-flex titulo cpointer px-1 py-3",onClick:function(){return B(!M)},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1},children:[Object(O.jsx)(j.a,{size:20,style:{transform:"rotateY(180deg)",marginRight:"0.2rem"}}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("h4",{children:"Chat interno"}),t.mensajes>0&&Object(O.jsx)("div",{className:" ml-1 txt-dot",children:Object(O.jsx)("span",{className:"dot"})})]})]}),Object(O.jsxs)("div",{children:[!M&&Object(O.jsx)(s.a,{}),M&&Object(O.jsx)(l.a,{})]})]}),M&&Object(O.jsx)(i.g,{className:"lista",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"input-group align-items-center",children:[Object(O.jsx)("input",{type:"search",className:"form-control",placeholder:"\xbfA qui\xe9n est\xe1s buscando?",value:T,onChange:function(e){z(e.target.value)}}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("div",{className:"search-container",children:Object(O.jsx)(d.a,{size:20})})})]}),Object(O.jsxs)("a",{className:"chat-link px-2 py-2",href:"https://wa.me/595981840840",target:"_blank",children:[Object(O.jsx)("div",{className:"icono",children:m.a.atencion_cliente}),Object(O.jsx)("div",{className:"nombre ",children:Object(O.jsx)("span",{style:{color:"var(--naranja-abi)"},children:"Staff ABi"})})]}),ce&&Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:Object(O.jsx)(i.z,{})}),!ce&&!!A&&(null===A||void 0===A?void 0:A.length)>0&&A.map((function(e){var t=e.transportista;return Object(O.jsx)(O.Fragment,{children:!!e.transportista&&Object(O.jsxs)("a",{className:"chat-link px-1 py-2",onClick:function(){g(null),setTimeout((function(){g(e),J(!0),B(!1)}),10),W(!0)},children:[Object(O.jsx)("div",{className:"img-perfil-container",children:Object(O.jsx)("img",{src:t.usuario.imagen_perfil})}),Object(O.jsxs)("div",{style:{lineHeight:"0.91rem"},children:[Object(O.jsxs)("div",{className:"nombre",children:[t.usuario.first_name," ",t.usuario.last_name]}),Object(O.jsxs)("small",{style:{lineHeight:"0.91rem"},children:["id#",e.id]})]})]},e.id)})}))]})})]}),H&&Object(O.jsxs)("div",{className:"chat-interno-seleccionado",style:{position:"absolute",left:"20rem"},children:[Object(O.jsxs)("div",{className:"d-flex titulo px-2 py-3",onClick:function(){return J(!G)},children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-start",style:{flex:1},children:Object(O.jsx)("div",{children:x&&Object(O.jsxs)("h4",{children:[x.transportista.usuario.first_name," ",x.transportista.usuario.last_name]})})}),Object(O.jsxs)("div",{children:[!G&&Object(O.jsx)(s.a,{}),G&&Object(O.jsx)(l.a,{})]}),Object(O.jsx)("a",{onClick:function(){return W(!1)},children:Object(O.jsx)(u.a,{})})]}),G&&Object(O.jsx)("div",{className:"chat-component-container d-flex flex-column",children:x&&Object(O.jsx)(p.a,{containerStyle:{flex:1},pedido:x,ocultarHeader:!0})})]})]})]})})));t.a=x},489:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(2),r=n(24),o=(n(569),n(40)),s=n(531),l=n.n(s),d=n(161),u=n(87),j=n.n(u),b=n(3),m=n.n(b),f=n(1021),h=n(1524),p=n(57),O=n(475),x=n(8),g=n(101),v=n(477),_=n(86),y=n(9),N=Object(d.a)((function(e){var t=Object(_.b)(),n=t.loginStore,a=Object(b.useState)(!1),s=Object(r.a)(a,2),d=s[0],u=s[1],N=Object(b.useState)("hide"),C=Object(r.a)(N,2),w=C[0],k=C[1],S=Object(p.e)(),D=/Mobi/.test(navigator.userAgent),I=Object(g.J)(),A=Object(b.useState)(""),R=Object(r.a)(A,2),E=R[0],P=R[1];m.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&P(e.get("s")||"")}),[]);var T=function(){u(!1),n.administrador?S.push(x.m.ADMIN):20===n.modo_uso_app?S.push(x.o.PERFIL):10===n.modo_uso_app?S.push(x.m.CLIENTE):S.push(x.p.INICIO)},z=function(e){13===e.keyCode&&L(e.target.value.trim())},L=function(e){S.push("".concat(x.o.CATALOGO).concat(e?"?s="+encodeURIComponent(e):""))},F=function(){var e=Object(i.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.api.simple_get("/notificacion/");case 2:"ok"===(n=e.sent).kind?k(n.data.results):I("No se pudo obtener las notificaciones","error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{style:{height:D?136:"auto"},children:[!D&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"header header-fabricante",style:{zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(y.jsx)("div",{className:"",style:{display:"flex",justifyContent:"center",backgroundColor:"var(--azul-fabricante)"},children:Object(y.jsxs)("div",{className:"container-lg top-cliente",children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(y.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(n.isLoggedIn&&n.transportista)S.push(x.p.INICIO);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),S.push(window.location.pathname+"?"+e.toString())}},children:[Object(y.jsx)("span",{className:"icn-driver mr-2",children:v.a.driver}),Object(y.jsx)("span",{className:"texto-header",children:"Driver"})]}),Object(y.jsxs)("div",{className:"boton-header-cliente",onClick:function(){n?Object(g.h)(t,S,10):S.push(x.m.ROOT)},children:[Object(y.jsx)("span",{className:"icn-proveedor",children:v.a.tienda}),Object(y.jsx)("span",{className:"texto-header",children:"Tienda ABi"})]})]}),Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(y.jsx)("a",{className:"boton-header-cliente",children:Object(y.jsxs)("div",{id:"icon-notificacion",style:{height:30,width:30,position:"relative"},children:[Object(y.jsxs)("span",{className:"icn-notificacion",onClick:function(){var e="hide"!==w?"hide":null;k(e),"hide"!==e&&F()},children:[v.a.notificacion,t.notificaciones>0&&Object(y.jsx)("span",{className:"cantidad",children:t.notificaciones})]}),"hide"!==w&&Object(y.jsxs)("div",{className:"notificaciones-container",children:[Object(y.jsx)("div",{className:"titulo",children:"Notificaciones"}),Object(y.jsxs)("div",{className:"lista-notificaciones",children:[null===w&&Object(y.jsx)("div",{className:"loader-container",children:Object(y.jsx)(o.z,{name:"crescent",className:"loadingSpinner"})}),null!==w&&w.map((function(e){return Object(y.jsxs)("div",{className:"notificacion-container",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:[Object(y.jsx)("img",{className:"img",src:"assets/icon/perfil.png"}),Object(y.jsxs)("div",{className:"titulo-fecha",children:[Object(y.jsx)("div",{className:"titulo-notificacion",children:e.titulo}),Object(y.jsx)("div",{className:"fecha",children:j()(e.fecha).fromNow()})]})]})}))]}),Object(y.jsx)("div",{className:"btn-ver-mas",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:"Ver m\xe1s notificaciones"})]})]})}),n.isLoggedIn&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("a",{onClick:T,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(y.jsxs)("div",{className:"nombre-usuario-header",children:[n.first_name," ",n.last_name]}),Object(y.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",n.id]})]}),Object(y.jsx)("a",{className:"centrado-flex",onClick:T,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(y.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:n.imagen_perfil?n.imagen_perfil:"assets/icon/person-line.png",width:n.imagen_perfil?50:30,height:n.imagen_perfil?50:30,style:n.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!n.isLoggedIn&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(y.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(y.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(y.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("registro","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(y.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(y.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(y.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(y.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(y.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(y.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(y.jsx)("a",{title:"Ir al inicio",href:x.o.PEDIDOS,onClick:function(e){e.preventDefault(),S.push(x.o.PEDIDOS)},children:Object(y.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(y.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(y.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(y.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:E,onChange:function(e){P(e.target.value)},onKeyDown:z}),Object(y.jsx)("div",{className:"input-group-append",children:Object(y.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return L(E)},children:Object(y.jsx)(f.a,{size:20})})})]})}),Object(y.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:Object(y.jsx)("span",{className:"cpointer",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(y.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"70px"})})})]})})]})}),D&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"header header-fabricante w-100",style:{position:"fixed",zIndex:999},children:[Object(y.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(y.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:Object(y.jsx)("div",{onClick:function(){return u(!0)},className:"centrado-flex",children:Object(y.jsx)(l.a,{style:{fontSize:30}})})}),Object(y.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(y.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return S.push(x.m.ROOT)},children:v.a.abi})}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(y.jsx)("span",{className:"cpointer boton-header-cliente",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(y.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"35px"})}),Object(y.jsx)("span",{className:"cpointer boton-header-cliente",style:{height:30,width:30,position:"relative"},onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:Object(y.jsxs)("span",{className:"icn-notificacion",children:[v.a.notificacion,t.notificaciones>0&&Object(y.jsx)("span",{className:"cantidad",children:t.notificaciones})]})})]})]}),Object(y.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(y.jsx)("div",{onClick:function(){return S.goBack()},children:Object(y.jsx)(h.a,{})}),Object(y.jsxs)("div",{className:"input-group",children:[Object(y.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:E,style:{},onChange:function(e){P(e.target.value)},onClick:function(){P("")},onKeyDown:z}),Object(y.jsx)("div",{className:"input-group-append",children:Object(y.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return L(E)},children:Object(y.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(y.jsx)(O.l,{visible:d,set_visible:function(e){u(e)},fabricante:n.fabricante?n.fabricante:null})]})]})}));t.a=N},490:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(2),r=(n(33),n(24)),o=(n(548),n(40)),s=n(161),l=n(3),d=n(57),u=n(8),j=n(101),b=n(477),m=n(86),f=n(9),h=Object(s.a)((function(){var e=Object(m.b)(),t=(e.loginStore,e.adminStore),n=(e.transportistaStore,Object(l.useState)(!1)),a=Object(r.a)(n,2),s=a[0],h=a[1],p=Object(d.e)(),O=p.location.pathname,x=Object(l.useState)(O),g=Object(r.a)(x,2),v=g[0],_=g[1],y=Object(j.s)(),N=(Object(j.A)(),Object(d.g)(),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.some.call(t,(function(e){return-1!==O.indexOf(e)}))}),C=function(){return N("admin/configuracion","admin/staff","admin/tipo-vehiculo",u.m.ADMIN_RUBRO,u.m.ADMIN_CATEGORIA,u.m.ADMIN_PREGUNTAS_FRECUENTES)},w=function(){return N("admin/pedido","admin/orden_venta","admin/hoja_ruta",u.m.ADMIN_BALANCE)},k=function(){return N(u.m.ADMIN_RENDICION,u.m.ADMIN_PAGO_PROVEEDOR,u.m.ADMIN_PAGO_CLIENTE,u.m.ADMIN_FACTURA_PROVEEDOR,u.m.ADMIN_FACTURA_CLIENTE)},S=function(){return N("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},D=function(){return N("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},I=function(){return N("admin/precio","admin/inventario","admin/producto/moderado")},A=function(){return N(u.m.ADMIN_API_CONFIG,u.m.ADMIN_API_VIEW,u.m.ADMIN_API_DOC,u.m.ADMIN_API_LOG)},R={administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:D(),productos:I(),api:A()},E=Object(l.useState)(R),P=Object(r.a)(E,2),T=(P[0],P[1]);return Object(l.useEffect)((function(){"full"===t.sidebarType?T({administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:D(),productos:I(),api:A()}):T({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[v]),Object(o.N)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(p.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(f.jsx)(f.Fragment,{children:!y&&Object(f.jsx)("div",{id:"sidebar-fabricante",className:"col-12 col-md-3 col-lg-3 col-xl-2 mb-3",children:Object(f.jsxs)("div",{className:"scroll-sidebar",children:[Object(f.jsx)(o.a,{isOpen:s,onDidDismiss:function(){return h(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(j.h)(e,p,10)}}]}),Object(f.jsxs)("nav",{className:"sidebar-nav",children:[Object(f.jsx)("a",{className:N("proveedor/pedidos/pendiente")?"resaltado":"",onClick:function(){return p.replace(u.o.PEDIDOS_PENDIENTES)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Pendientes",e.pendientes>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsx)("a",{className:N("proveedor/pedidos/retiro")?"resaltado-naranja":"",onClick:function(){return p.replace(u.o.PEDIDOS_RETIRO)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Retiro",e.retiro>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsxs)("a",{className:N("proveedor/pedidos/todo")?"resaltado":"",onClick:function(){return p.replace(u.o.PEDIDOS)},children:[Object(f.jsx)("img",{src:"assets/icon/todo.png"}),Object(f.jsx)("div",{children:"Todos"})]}),Object(f.jsxs)("a",{className:N(u.o.CATALOGO,u.o.PRODUCTO_CREATE)?"resaltado":"",onClick:function(){return p.replace(u.o.CATALOGO)},children:[b.a.caja,Object(f.jsx)("div",{children:"Cat\xe1logo"})]}),Object(f.jsxs)("a",{className:N("proveedor/balance")?"resaltado":"",onClick:function(){return p.replace(u.o.BALANCE)},children:[b.a.facturacion,Object(f.jsx)("div",{children:"Balance"})]}),Object(f.jsxs)("a",{className:N(u.o.VENTAS)?"resaltado":"",onClick:function(){return p.replace(u.o.VENTAS)},children:[b.a.movimientos,Object(f.jsx)("div",{children:"Ventas"})]}),Object(f.jsxs)("a",{className:N("/proveedor/configuracion","/proveedor/configuracion/api","/proveedor/configuracion/documentos","/proveedor/configuracion/horario")?"resaltado":"",onClick:function(){return p.replace(u.o.CONFIGURACION)},children:[Object(f.jsx)("img",{src:"assets/icon/permisos.png"}),Object(f.jsx)("div",{children:"Configuraci\xf3n"})]})]})]})})})}));t.a=h},491:function(e,t,n){"use strict";var a=n(24),c=n(3),i=n(40),r=n(195),o=n(1539),s=n(161),l=n(86),d=n(524),u=n.n(d),j=n(535),b=n.n(j),m=n(587),f=n.n(m),h=n(588),p=n.n(h),O=n(505),x=n(57),g=n(101),v=n(8),_=n(197),y=(n(525),n(9)),N=n(198),C=Object(s.a)((function(e){var t=Object(l.b)(),n=t.loginStore,s=Object(c.useState)(!1),d=Object(a.a)(s,2),j=d[0],m=d[1],h=Object(c.useState)(""),C=Object(a.a)(h,2),w=C[0],k=C[1],S=Object(c.useState)(""),D=Object(a.a)(S,2),I=D[0],A=D[1],R=Object(c.useState)(""),E=Object(a.a)(R,2),P=E[0],T=E[1],z=Object(c.useState)(!1),L=Object(a.a)(z,2),F=L[0],M=L[1],B=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),U={width:20,height:20,marginLeft:10},q=Object(x.e)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.q,{isOpen:j,cssClass:"modal-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return m(!1)},children:Object(y.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(y.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(y.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(y.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[!n.imagen_perfil&&Object(y.jsx)(r.a,{size:25}),n.imagen_perfil&&Object(y.jsx)("img",{style:{borderRadius:"50%",width:50,height:50},alt:"Imagen de perfil",className:"imagen-perfil",src:n.imagen_perfil,onError:function(e){return e.target.style.display="none"}}),Object(y.jsxs)("strong",{style:{lineHeight:1,marginTop:5,marginLeft:10},children:["HOLA ",n.isLoggedIn&&n.first_name,"!"]})]}),n.isLoggedIn&&Object(y.jsx)("small",{className:"d-flex pt-2 text-white",style:{marginLeft:10},children:"Cliente"}),Object(y.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(y.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(y.jsx)("a",{onClick:function(){q.push(v.m.ROOT),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(y.jsx)("div",{className:"col-12 mt-3 px-0",children:n.isLoggedIn?Object(y.jsx)("a",{onClick:function(){m(!1),n.administrador?q.push(v.m.ADMIN):20===n.modo_uso_app?q.push(v.o.PERFIL):10===n.modo_uso_app?n.perfil_completo||n.administrador||q.push(v.m.CLIENTE):q.push(v.p.INICIO)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:n.administrador?"Panel":n.perfil_completo?"Mi perfil":"COMPLETAR PERFIL"}):null}),n.isLoggedIn&&Object(y.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(y.jsx)("a",{onClick:function(){q.push("/pedido"),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Pedidos"})}),n.isLoggedIn&&Object(y.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(y.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Comprar de nuevo"}),Object(y.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(y.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(y.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Perfil"}),Object(y.jsxs)("div",{className:"row my-3 d-flex justify-content-center",children:[Object(y.jsxs)("div",{className:"col-6 text-center icono",onClick:function(){n.fabricante?(k("Cambiar a modo fabricante"),A("Confirma que desea cambiar a modo fabricante?"),T("cambiar-fabricante"),M(!0)):(m(!1),q.push(v.m.REGISTRO_FABRICANTE))},children:[Object(y.jsx)(i.k,{icon:v.w,color:"light",className:"d-block mx-auto",style:{fontSize:28}}),Object(y.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Proveedor"})]}),Object(y.jsxs)("div",{className:"col-6 text-center",onClick:function(){if(n.transportista)M(!0),k("Cambiar a modo driver"),A("Confirma que desea cambiar a modo driver?"),T("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),q.push(window.location.pathname+"?"+e.toString())}},children:[Object(y.jsx)(o.a,{size:26,className:"d-block mx-auto",style:{color:"#ffffff"}}),Object(y.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Driver"})]})]}),Object(y.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]})]})})}),Object(y.jsx)(i.a,{isOpen:F,onDidDismiss:function(){return M(!1)},header:""!==w?w:"Cerrar sesi\xf3n",message:""!==I?I:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-fabricante"===P?Object(g.h)(t,q,20):"cambiar-transportista"===P&&Object(g.h)(t,q,30)}}]}),!B&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{id:"footer",style:{backgroundColor:"#efefef"},children:[Object(y.jsx)("div",{className:"scroll-to-top",onClick:function(){e.content&&e.content.current.scrollToTop(100),e.container.current.scrollTop=0},style:{backgroundColor:"#efefef",color:"var(--gris-oscuro-abi)"},children:Object(y.jsxs)("div",{className:"d-flex flex-column  align-items-center pb-3 pt-3",children:[Object(y.jsx)(O.d,{}),Object(y.jsx)("span",{className:"ml-2",children:"Ir al inicio de la p\xe1gina"})]})}),Object(y.jsx)("div",{className:"d-flex justify-content-center",children:Object(y.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(y.jsx)("div",{className:"footer p-0",children:Object(y.jsx)("div",{className:"top",children:Object(y.jsx)("div",{className:"container pt-4",children:Object(y.jsxs)("div",{className:"row pt-2",children:[Object(y.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(y.jsx)("p",{children:Object(y.jsxs)("a",{href:"#",children:[Object(y.jsx)("span",{children:"Qui\xe9nes somos"}),Object(y.jsx)("img",{alt:"Qui\xe9nes somos",style:U,src:"assets/abi-logo-gray.png"})]})}),Object(y.jsx)("p",{children:Object(y.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(y.jsx)("span",{children:"Condiciones de uso"}),Object(y.jsx)("img",{alt:"Condiciones de uso",style:U,src:"assets/icon/documento.png"})]})}),Object(y.jsx)("p",{children:Object(y.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(y.jsx)("span",{children:"Pol\xedticas de privacidad"}),Object(y.jsx)("img",{alt:"Pol\xedticas de privacidad",style:U,src:"assets/icon/documento.png"})]})}),Object(y.jsx)("p",{children:Object(y.jsxs)("a",{href:v.m.PREGUNTAS_FRECUENTES,children:[Object(y.jsx)("span",{children:"Preguntas frecuentes"}),Object(y.jsx)("img",{alt:"Preguntas frecuentes",style:U,src:"assets/icon/info.png"})]})}),Object(y.jsx)("p",{children:Object(y.jsxs)("a",{href:"https://wa.me/595981840840",target:"_blank",children:[Object(y.jsx)("span",{children:"Contactanos"}),Object(y.jsx)("img",{alt:"Contactanos",style:U,src:"assets/icon/atencion-cliente.png"})]})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("span",{children:"Comentarios y Sugerencias"})})})]}),Object(y.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(y.jsx)("p",{children:Object(y.jsx)("a",{onClick:function(){if(n.isLoggedIn&&n.transportista)M(!0),k("Cambiar a modo driver"),A("Confirma que desea cambiar a modo driver?"),T("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),q.push(window.location.pathname+"?"+e.toString())}},children:"Drivers"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{onClick:function(){if(n.isLoggedIn&&n.fabricante)k("Cambiar a modo fabricante"),A("Confirma que desea cambiar a modo fabricante?"),T("cambiar-fabricante"),M(!0);else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrop","1"),q.push(window.location.pathname+"?"+e.toString())}},children:"Proveedores"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"#",children:"Marcas adheridas"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"#",children:"\xc1reas de cobertura"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"#",children:"Informaci\xf3n \xdatil"})}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:"mailto:directorio@abi.com.py?subject=Quiero trabajar en ABi",children:"Trabaj\xe1 con nosotros"})})]}),Object(y.jsxs)("div",{className:"col-lg-4 col-xl-6 col-12 text-lg-right",children:[Object(y.jsx)("p",{children:Object(y.jsxs)("a",{target:"_blank",href:"https://wa.me/595981840840",children:[Object(y.jsx)(u.a,{style:{marginRight:5,marginBottom:3,fontSize:40}}),"(0981) 840-840"]})}),Object(y.jsxs)("p",{children:[Object(y.jsx)("a",{href:"https://www.facebook.com/ABiparaguay",target:"_blank",children:Object(y.jsx)(b.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(y.jsx)("a",{href:"https://twitter.com",target:"_blank",children:Object(y.jsx)(f.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(y.jsx)("a",{href:"https://instagram.com/abiparaguay/",target:"_blank",children:Object(y.jsx)(p.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})})]})]})]})})})}),Object(y.jsxs)("div",{className:"footer p-0",children:[Object(y.jsx)("div",{className:"d-flex justify-content-center",style:{backgroundColor:"#efefef"},children:Object(y.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(y.jsx)("div",{className:"top pb-4 pb-lg-4",children:Object(y.jsx)("div",{className:"container ",children:Object(y.jsx)("div",{className:"row pt-3 justify-content-center",children:Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("p",{className:"mb-0",children:["ABi. \xa9 ",N().format("YYYY")," TODOS LOS DERECHOS RESERVADOS"]}),Object(y.jsxs)("div",{id:"release-container",children:["v",_.RELEASE.split("@")[1]]})]})})})})]})]})})]})}));t.a=C},492:function(e,t,n){"use strict";var a=n(33),c=n(0),i=n.n(c),r=n(2),o=n(24),s=(n(549),n(40)),l=n(3),d=n(536),u=n.n(d),j=n(161),b=n(86),m=n(18),f=n(225),h=(n(286),n(123)),p=n(479),O=n(30),x=n(1514),g=n(1524),v=n(1543),_=n(500),y=n(535),N=n.n(y),C=n(503),w=n(475),k=n(101),S=n(593),D=n(230),I=n(574),A=n(8),R=n(493),E=n(57),P=n(87),T=n.n(P),z=n(9),L={first_name:"",last_name:"",fecha_nacimiento:"",nro_documento:"",email:"",nro_telefono:"",razon_social:"",ruc:"",contrasena:"",imagen_perfil:"",repetir_contrasena:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,email_oferta:!0,notificacion_oferta:!0},F={password:"",username:""},M={imagen_perfil:""},B=Object(j.a)((function(e){var t=Object(b.b)(),n=Object(E.e)(),c=t.loginStore,d=t.registroStore,j=t.adminStore,y=t.carritoStore,P=Object(l.useState)(!1),B=Object(o.a)(P,2),U=B[0],q=B[1],H=Object(l.useState)(L),W=Object(o.a)(H,2),Y=W[0],V=W[1],G=Object(l.useState)(L),J=Object(o.a)(G,2),Z=J[0],Q=J[1],K=Object(k.A)(),X=Object(k.J)(),$=(Object(k.B)(),Object(l.useState)(!1)),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(""),ce=Object(o.a)(ae,2),ie=ce[0],re=ce[1],oe=Object(l.useState)(0),se=Object(o.a)(oe,2),le=se[0],de=se[1],ue=Object(l.useState)(M),je=Object(o.a)(ue,2),be=je[0],me=je[1],fe=Object(l.useState)(F),he=Object(o.a)(fe,2),pe=he[0],Oe=he[1],xe=Object(l.useState)(F),ge=Object(o.a)(xe,2),ve=ge[0],_e=ge[1],ye=Object(l.useState)(0),Ne=Object(o.a)(ye,2),Ce=Ne[0],we=Ne[1],ke=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),Se=0,De=1,Ie=2,Ae=3,Re=4,Ee=5,Pe=Object(l.useState)(e.login?Se:De),Te=Object(o.a)(Pe,2),ze=Te[0],Le=Te[1],Fe=Object(l.useState)(!1),Me=Object(o.a)(Fe,2),Be=Me[0],Ue=Me[1],qe=Object(l.useState)(!1),He=Object(o.a)(qe,2),We=He[0],Ye=He[1],Ve=Object(l.useState)(""),Ge=Object(o.a)(Ve,2),Je=Ge[0],Ze=Ge[1],Qe=Object(l.useState)(""),Ke=Object(o.a)(Qe,2),Xe=Ke[0],$e=Ke[1],et=Object(l.useState)(""),tt=Object(o.a)(et,2),nt=tt[0],at=tt[1],ct=Object(l.useState)(!1),it=Object(o.a)(ct,2),rt=it[0],ot=it[1],st=Object(l.useRef)(""),lt=Object(l.useRef)(!1),dt=Object(l.useState)(!1),ut=Object(o.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(l.useState)(null),ft=Object(o.a)(mt,2),ht=(ft[0],ft[1]),pt=Object(l.useState)(!1),Ot=Object(o.a)(pt,2),xt=Ot[0],gt=Ot[1],vt=Object(l.useState)(!1),_t=Object(o.a)(vt,2),yt=(_t[0],_t[1]),Nt=Object(l.useState)(!1),Ct=Object(o.a)(Nt,2),wt=Ct[0],kt=Ct[1],St=Object(l.useState)(""),Dt=Object(o.a)(St,2),It=Dt[0],At=Dt[1],Rt=Object(l.useState)(0),Et=Object(o.a)(Rt,2),Pt=Et[0],Tt=Et[1],zt=Object(l.useRef)(0),Lt=Object(l.useRef)(null),Ft=Object(l.useRef)(),Mt=Object(l.useState)({lng:-57.63591,lat:-25.30066}),Bt=Object(o.a)(Mt,2),Ut=(Bt[0],Bt[1]),qt=Object(l.useState)(null),Ht=Object(o.a)(qt,2),Wt=Ht[0],Yt=Ht[1],Vt=Object(l.useState)(null),Gt=Object(o.a)(Vt,2),Jt=Gt[0],Zt=Gt[1],Qt=Object(l.useState)(null),Kt=Object(o.a)(Qt,2),Xt=Kt[0],$t=Kt[1];Object(l.useEffect)((function(){xt&&(Lt.current=setInterval((function(){Tt(zt.current+1),zt.current=zt.current+1,zt.current>6&&clearInterval(Lt.current)}),100))}),[xt]),Object(l.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");Le(t)}),[t.locationSearch]),Object(l.useEffect)((function(){if(Ce>0){var e=setTimeout((function(){return we(Ce-1)}),1e3);return function(){return clearTimeout(e)}}}),[Ce]);Object(l.useEffect)((function(){"web"===O.Capacitor.getPlatform()&&S.a.init()}),[]),Object(l.useEffect)((function(){!0===e.login?Le(Se):Le(De)}),[e.login]),Object(l.useEffect)((function(){"web"!==O.Capacitor.getPlatform()&&("android"===O.Capacitor.getPlatform()?C.a.backgroundColorByHexString("#ffa101"):"ios"===O.Capacitor.getPlatform()&&(document.body.style.background="#ffa101"),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),c.isLoggedIn?d.reset():setTimeout((function(){d.setTipoFormulario(10),Q({contrasena:"",repetir_contrasena:"",imagen_perfil:"",calle_principal:d.calle_principal?d.calle_principal:"",calle_secundaria:d.calle_secundaria?d.calle_secundaria:"",ciudad:d.ciudad?d.ciudad:0,email:d.email?d.email:"",first_name:d.first_name?d.first_name:"",last_name:d.last_name?d.last_name:"",nombre_direccion:d.nombre_direccion?d.nombre_direccion:"",nro_documento:d.nro_documento?d.nro_documento:"",nro_telefono:Object(k.o)(d.nro_telefono),numero:d.numero?d.numero:"",razon_social:d.razon_social?d.razon_social:"",referencia:d.referencia?d.referencia:"",ruc:d.ruc?d.ruc:"",ubicacion:d.ubicacion?d.ubicacion:"",fecha_nacimiento:d.fecha_nacimiento?d.fecha_nacimiento:"",notificacion_oferta:!!d.notificacion_oferta&&d.notificacion_oferta,email_oferta:!!d.email_oferta&&d.email_oferta})})),an()}),[]),Object(l.useEffect)((function(){ze<0?e.setVisible(!1):ze===De?(Ze(""),$e("")):ze===Ie?(Ze("Datos Personales"),$e("Paso 1 de 3")):ze===Ae?(we(25),wt||(bt(!0),setTimeout(gn,500)),Ze("Verifique su n\xfamero"),$e("")):ze===Re?(Ze("Marque su Ubicaci\xf3n"),$e("Paso 2 de 3")):ze===Ee&&(Ze("Direcci\xf3n"),$e("Paso 3 de 3"))}),[ze]),Object(l.useEffect)((function(){t.hasLocationPermission&&en().catch((function(e){console.log(e)}))}),[t.hasLocationPermission]);var en=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 3:(t=e.sent)&&($t([t.coords.latitude,t.coords.longitude]),Yt(t.coords.latitude),Zt(t.coords.longitude),Ut({lat:t.coords.latitude,lng:t.coords.longitude})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Geolocation.getCurrentPosition err",e.t0),String(e.t0).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt(!0),wt&&kt(!1),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),bt(!0),ht(null),gt(!1),setTimeout((function(){lt.current=!0,yt(lt.current)}),2e3),n=Object(k.p)(d.nro_telefono),t.isDebug&&console.log("verifyPhoneNumber",n),_.a.verifyPhoneNumber("+"+n,3e4).then(function(){var e=Object(r.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isDebug&&console.log("FirebaseAuthentication.verifyPhoneNumber result",n),bt(!1),!wt){e.next=5;break}return ht(null),e.abrupt("return");case 5:st.current=n;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),kt(!1),bt(!1),lt.current=!1,yt(lt.current),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nn=function(){bt(!0);var e=Object(k.p)(d.nro_telefono),t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){lt.current=!0,yt(lt.current),bt(!1),st.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),bt(!1),kt(!1),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error");try{t.clear()}catch(n){console.log(n)}}))},an=function(){t.ciudades.length||(q(!0),t.actualizarDatosInicio(!1).then((function(){q(!1)})))},cn=function(e){de(e),100===e?(q(!1),setTimeout((function(){de(0),re("")}),500)):q(!0)},rn=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===O.Capacitor.getPlatform()){e.next=5;break}return e.next=3,p.a.readFile({path:t});case 3:a=e.sent,t="data:image/jpeg;base64,".concat(a.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(k.k)(r,n,cn);case 10:o=e.sent,on("imagen_perfil",t),re(n),sn("imagen_perfil",o),c.isLoggedIn||d.setDatoRegistroStore(n,o);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),on=function(e,t){var n=Object(a.a)({},be);n[e]=t,me(n)},sn=function(e,t){var n=Object(a.a)({},Z);n[e]=t,Q(n),c.isLoggedIn||"calle_principal"===e||"calle_secundaria"===e||d.setDatoRegistroStore(e,t)},ln=function(e,t){ne(!0),ke&&_n(ze+1),Yt(e),Zt(t),Ut([e,t]),c.isLoggedIn||d.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t))};Object(l.useEffect)((function(){Wt&&Jt&&t.environment.api.infoCalle(Wt,Jt).then((function(e){if("ok"===e.kind&&e.response.info){var n=e.response.info,c=Object(a.a)({},Z);n.calle&&(c.calle_principal={value:n.calle,label:n.calle}),n.ciudad_obj&&(c.ciudad=t.ciudades.find((function(e){return e.id===n.ciudad_obj.id}))),n.secondary&&(c.calle_secundaria={value:n.secondary,label:n.secondary}),Q(c)}})).catch()}),[Wt,Jt]);var dn=function(){if(1===ze){if(!Z.email)return void X("Cargue su email para continuar","warning");if(!Z.contrasena)return void X("Cargue una contrase\xf1a para continuar","warning");if(!Z.repetir_contrasena)return void X("Confirme la contrase\xf1a ingresada para continuar","warning")}else if(2===ze){var e;if(!Z.first_name)return void X("Cargue su nombre para continuar","warning");if(!Z.last_name)return void X("Cargue su apellido para continuar","warning");if(!Z.fecha_nacimiento)return void X("Cargue su fecha de nacimiento para continuar","warning");var t=T()(Z.fecha_nacimiento,"DD/MM/YYYY HH:mm"),n=T()();if(!!!t.isValid()||t>n)return void X("Ingrese una fecha de nacimiento v\xe1lida para continuar","warning");if(12!==(null===d||void 0===d||null===(e=d.nro_telefono)||void 0===e?void 0:e.length))return void X("Ingrese un n\xfamero v\xe1lido para continuar","warning")}else if(3===ze){if(!wt)return void X("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning")}else if(5===ze)return Z.calle_principal&&Z.calle_secundaria?!!Z.numero||void X("Cargue su numero de casa para continuar"):void X("Cargue su calle principal");return!0},un=function(e,t){sn(e,t)},jn=function(e,t){!function(e,t){var n=Object(a.a)({},pe);n[e]=t,Oe(n)}(e,t)};Object(l.useEffect)((function(){var e=null;return"web"!==O.Capacitor.getPlatform()&&(e=_.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&lt.current&&(gt(!0),setTimeout((function(){kt(!0),ht(null),X("N\xfamero verificado exitosamente"),lt.current=!1,yt(lt.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var bn,mn=function(e){if(console.log("modalCodigoFirebaseCallback",e),!e)return ht(null),lt.current=!1,void yt(lt.current);if(!st.current)return ht(null),lt.current=!1,yt(lt.current),void X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(bt(!0),lt.current=!1,yt(lt.current),"web"===O.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(st.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),_n(ze+1)})).catch((function(e){-1!==e.message.toString().toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):(X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),console.log("Error firebase",e.message)),bt(!1),kt(!1)})):(bt(!1),kt(!1),X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else _.a.signInWithVerificationId(st.current,e).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),_n(ze+1)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),kt(!1),bt(!1)}))},fn=function(){S.a.signIn().then((function(e){t.environment.api.loginGoogle(e,e.authentication.idToken).then((function(e){pn(e)}))})).catch((function(e){console.log("GoogleAuth.signIn() error",e),e&&X("No se pudo iniciar sesi\xf3n con Google","warning")}))},hn=function(){var e=Object(r.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=["public_profile","email"],e.next=3,D.a.login({permissions:n});case 3:(a=e.sent)&&a.accessToken?t.environment.api.loginFacebook(a.accessToken.token).then((function(e){pn(e)})):X("No se pudo iniciar sesi\xf3n con Facebook","warning");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=function(e){if(q(!1),"ok"===e.kind){if(Object(m.u)((function(){c.setUser(e.user),c.setApiToken(e.user.token),c.setModoUsoApp(10)})),e.user.transportista&&j.setTransportistaDetalle(e.user.transportista),"web"===O.Capacitor.getPlatform()){var t=window.dataLayer||[];!function(){t.push(arguments)}("event","login",{method:"Formulario",usuario_id:e.user.id})}else I.a.logEvent({name:"login",params:{usuario_id:e.user.id}}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));if(xn(),X("Bienvenido "+e.user.first_name+"!","success"),"1"===new URLSearchParams(window.location.search).get("checkout"))if(c.perfil_completo){var a=new URLSearchParams(window.location.search);a.delete("login"),a.delete("registro"),a.delete("i"),a.delete("checkout"),Object(k.y)(c),n.push(window.location.pathname+"?"+a.toString())}else Object(k.y)(c),n.push("".concat(A.m.CLIENTE,"?checkout=1"));else c.fabricante||c.transportista?(Object(k.y)(c),On()):setTimeout((function(){return document.location.href=A.m.ROOT}),500)}else"bad-data"===e.kind?("bad-data"===e.kind?(console.log("@errors",e.errors),_e(e.errors),e.errors.non_field_errors&&(X(e.errors.non_field_errors[0],"warning"),jn("contrasena",""))):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning"),e.errors.non_field_errors&&X(e.errors.non_field_errors[0],"warning")):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning")},On=function(){var e=new URLSearchParams(window.location.search);e.set("smodo","1"),e.delete("login"),n.push(window.location.pathname+"?"+e.toString())},xn=function(){var e=t.carritoStore;t.environment.api.carrito().then((function(n){"ok"===n.kind&&(0===n.data.productos.length&&e.productos.length>0?e.productos.map((function(e){t.environment.api.agregarEliminarProductoCarrito(e.id,null,e.cantidad)})):e.setProductosAPI(n.data))}))},gn=function(){("web"===O.Capacitor.getPlatform()?nn:tn)()},vn=function(){ke&&1===ze?e.setVisible(!1):_n(ze-1)},_n=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),n.push(window.location.pathname+"?"+t.toString())},yn=function(){var t={height:50,display:"flex",alignContent:"center",justifyContent:"flex-start",padding:10,backgroundColor:"#f7f7f7ff"},n={height:20,fontSize:"0.875rem",fontWeight:"bold"},a={height:20,fontSize:"0.875rem",fontWeight:"bolder"},c=Object(z.jsx)("div",{style:n,children:Object(z.jsx)(x.a,{size:10,color:"#000"})}),i=Object(z.jsx)("div",{style:n,onClick:function(){return e.setVisible(!1)},children:Object(z.jsx)("img",{alt:"Logo de ABi",style:{height:20},src:"assets/abi-logo-gray.png"})}),r=Object(z.jsx)("div",{style:2===ze?n:a,onClick:function(){return Le(2)},children:"Datos Personales"}),o=Object(z.jsx)("div",{style:1===ze?n:a,onClick:function(){return Le(1)},children:"Registro"}),s=Object(z.jsx)("div",{style:3===ze?n:a,onClick:function(){return Le(3)},children:"Verificaci\xf3n"}),l=Object(z.jsx)("div",{style:4===ze?n:a,onClick:function(){return Le(4)},children:"Ubicaci\xf3n"}),d=Object(z.jsx)("div",{style:5===ze?n:a,onClick:function(){return Le(5)},children:"Direcci\xf3n"});return 1===ze?Object(z.jsxs)("div",{style:t,children:[i,c,o]}):2===ze?Object(z.jsxs)("div",{style:t,children:[i,c,o,c,r]}):3===ze?Object(z.jsxs)("div",{style:t,children:[i,c,o,c,r,c,s]}):4===ze?Object(z.jsxs)("div",{style:t,children:[i,c,s,c,l]}):5===ze?Object(z.jsxs)("div",{style:t,children:[i,c,s,c,l,c,d]}):null};return bn=Object(z.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#fff",overflowY:"auto",overflowX:"hidden"},children:[Object(z.jsxs)("div",{className:"izquierda-container-registro-abi",style:{background:"#FFF"},children:[!ke&&ze>1&&Object(z.jsx)("div",{onClick:vn,style:{position:"absolute",top:10,left:10,zIndex:9999,cursor:"pointer"},children:Object(z.jsx)(g.a,{size:30,color:"#000"})}),ze===Se&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(z.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(z.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Iniciar sesi\xf3n?"})]}),Object(z.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(z.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:fn,children:[Object(z.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(z.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:hn,children:[Object(z.jsx)(N.a,{style:{marginRight:5,fontSize:25}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(z.jsx)("div",{className:"campo-registro-abi",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"nombre@email.com",tipo:"email",campo:"username",valor:pe?pe.username:"",error:ve&&ve.username,set_dato:jn,columnas:12,columnas_sm:12,extra_css:"flex-fill"})}),Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Contrase\xf1a",tipo:"password",campo:"password",valor:pe?pe.password:"",error:ve&&ve.password,set_dato:jn,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){q(!0),t.environment.api.login(pe.username,pe.password).then((function(e){pn(e)}))},children:"Iniciar sesi\xf3n"})}),Object(z.jsx)("div",{className:"btn-container-principal-login",style:{paddingTop:"0.5rem",paddingBottom:0},children:Object(z.jsx)("a",{href:A.m.RECUPERAR_CONTRASENA,children:Object(z.jsx)("h6",{className:"titulo-login-abi ",style:{fontWeight:"bolder",margin:"1rem 0"},children:"Olvid\xe9 mi contrase\xf1a"})})}),Object(z.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(z.jsx)("h6",{style:{fontWeight:"bolder",background:"#efefef"},className:"sub-titulo-login-abi",children:"\xbfNo tienes cuenta?"}),Object(z.jsx)("h5",{className:"titulo-login-abi cpointer",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("login"),e.delete("registro"),e.set("sregistro","1"),n.push(window.location.pathname+"?"+e.toString())},children:"Crear cuenta"})]})})]})}),ze===De&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(z.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(z.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Registrarte?"})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(z.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:fn,children:[Object(z.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(z.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:hn,children:[Object(z.jsx)(N.a,{style:{marginRight:5,fontSize:25}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(z.jsxs)("div",{className:"campo-registro-abi",children:[Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Email",tipo:"email",campo:"email",valor:Z?Z.email:"",error:Y&&Y.email,set_dato:un,columnas:12,columnas_sm:12,extra_css:"flex-fill"})," "]}),Object(z.jsxs)("div",{className:"campo-registro-abi ",children:[Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:Z?Z.contrasena:"",error:Y&&Y.contrasena,set_dato:un,columnas:12,columnas_sm:12,extra_css:"flex-fill"}),Object(z.jsx)("img",{alt:"Recomendaciones",onClick:function(){return ot(!0)},className:"icono-info-registro",src:"assets/icon/info.png",style:{marginLeft:"-30px",zIndex:99}})]}),Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:Z?Z.repetir_contrasena:"",error:Y&&Y.repetir_contrasena,set_dato:un,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",disabled:U,onClick:function(){dn()&&_n(ze+1)},children:"Registrarme"})}),Object(z.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(z.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(z.jsx)("h6",{style:{fontWeight:"bolder",backgroundColor:"#efefef"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(z.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(z.jsx)("a",{onClick:function(){Le(Se)},children:Object(z.jsx)("h5",{className:"titulo-login-abi ",children:"Iniciar Sesi\xf3n"})})})]})}),Object(z.jsx)(s.q,{isOpen:rt,cssClass:"modal-info-registro modal-info-contrasena",onDidDismiss:function(){return ot(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{children:Object(z.jsx)("span",{children:"Recomendaciones"})}),Object(z.jsx)("div",{onClick:function(){return ot(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsxs)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:[Object(z.jsxs)("p",{children:["-La contrase\xf1a debe tener como ",Object(z.jsx)("strong",{children:"m\xednimo 6 caracteres"}),"."]}),Object(z.jsx)("p",{children:"-Combin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(z.jsx)("p",{children:'-No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(z.jsxs)("p",{children:[Object(z.jsx)("strong",{children:"Ning\xfan miembro del Staff ABi solicitar\xe1 tu contrase\xf1a."}),"\xa1No la compartas con nadie!"]})]})})]})})]})}),ze===Ie&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(s.q,{isOpen:Be,cssClass:"modal-info-registro-short",onDidDismiss:function(){return Ue(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{style:{fontSize:"0.9em"},children:Object(z.jsx)("span",{children:"Ofertas exclusivas al correo"})}),Object(z.jsx)("div",{onClick:function(){return Ue(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)("div",{style:{textAlign:"initial",padding:15,fontSize:"1rem"},children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",children:"Desde ABi te enviaremos noticias sobre ofertas exclusivas en nuestras tiendas."})})})]})}),Object(z.jsx)(s.q,{isOpen:We,cssClass:"modal-info-registro-short",onDidDismiss:function(){return Ye(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{children:Object(z.jsx)("span",{children:"Recibir notificaciones"})}),Object(z.jsx)("div",{onClick:function(){return Ye(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",children:"Pod\xe9s recibir notificaciones con las novedades acerca de los productos que te gustan."})})})]})}),Object(z.jsx)("div",{style:{height:150,display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(z.jsx)(w.w,{titulo_modal:"Subir Foto de perfil",titulo_label:"imagen_perfil"===ie&&le>0?le+"%":"",titulo_boton:"Subir foto de perfil",helptext:"",img_path:"assets/id.png",on_select:rn,userdata:"imagen_perfil",preview:""!==be.imagen_perfil?be.imagen_perfil:"",source:0,color:"#ffa300",editor:!1,perfil:!0,extra_css_class:"foto-perfil-loader-small",preview_css_class:"preview-foto-loader-registro"})}),Y.imagen_perfil&&Object(z.jsx)("div",{className:"text-danger",children:Y.imagen_perfil}),Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(z.jsx)("div",{style:{flexGrow:1},children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:Z?Z.first_name:"",set_dato:un,columnas:12,columnas_sm:12,error:Y&&Y.first_name})}),Object(z.jsx)("div",{style:{flexGrow:1},children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:Z?Z.last_name:"",set_dato:un,columnas:12,columnas_sm:12,error:Y&&Y.last_name})})]}),Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(z.jsx)("div",{style:{flex:"1 1 50%"},children:Object(z.jsx)(w.c,{deshabilitado:!U&&!c.isLoggedIn||wt,titulo:"N\xfamero de celular",tipo:"telefono-simple",campo:"nro_telefono",valor:Z?Z.nro_telefono:"",set_dato:un,columnas:12,columnas_sm:12,verificar_firebase_autenticado:wt,verificar_firebase_reset:function(){kt(!1),"web"!==O.Capacitor.getPlatform()&&_.a.signOut()}})}),wt&&Object(z.jsx)("div",{style:{flex:"1 1 50%",paddingLeft:"4%",paddingRight:"4%"},children:Object(z.jsx)("button",{className:"background-color-naranja-abi",style:{borderRadius:3,height:38,width:"100%",color:"#fff"},title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){kt(!1),"web"!==O.Capacitor.getPlatform()&&_.a.signOut()},children:Object(z.jsx)("span",{children:"Cambiar"})})})]}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:Z?Z.fecha_nacimiento:"",error:Y&&Y.fecha_nacimiento,set_dato:un,columnas:12,columnas_sm:12})}),Object(z.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(z.jsx)(s.B,{className:"toggle-registro-abi",checked:Z.email_oferta,onIonChange:function(e){return sn("email_oferta",e.detail.checked)}}),Object(z.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(z.jsx)(s.o,{children:"Quiero recibir ofertas exclusivas a mi correo. "})}),Object(z.jsx)("img",{alt:"Informaci\xf3n",onClick:function(){return Ue(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(z.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(z.jsx)(s.B,{className:"toggle-registro-abi",checked:Z.notificacion_oferta,onIonChange:function(e){return sn("notificacion_oferta",e.detail.checked)}}),Object(z.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(z.jsx)(s.o,{children:"Quiero recibir notificaciones. "})}),Object(z.jsx)("img",{onClick:function(){return Ye(!0)},alt:"",className:"icono-info-registro",src:"assets/icon/info.png"})]})]}),Object(z.jsx)("div",{className:"centrado-texto-flex",children:Object(z.jsx)("div",{style:{width:"80%",textAlign:"center"},children:Object(z.jsxs)("h6",{className:"sub-titulo-login-abi",style:{marginTop:10},children:["Al continuar, aceptas las",Object(z.jsx)("a",{target:"_blank",href:"https://app.abi.com.py/terminos/",children:Object(z.jsx)("span",{className:"resaltado-registro-abi",children:" Condiciones de uso y T\xe9rminos de privacidad."})})]})})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsxs)("button",{className:"btn-principal-registro-abi",disabled:U,onClick:function(){dn()&&_n(ze+1)},children:[U&&Object(z.jsx)(s.z,{name:"crescent"}),!U&&Object(z.jsx)("span",{children:"Continuar"})]})})]}),ze===Ae&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),wt&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",marginTop:"50%",marginBottom:"40%"},children:Object(z.jsx)("span",{className:"mx-auto",children:"Su n\xfamero ya fue verificado."})}),Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(e){Le(ze+1)},children:"Continuar"})]}),!jt&&!wt&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:56},className:"mx-auto",children:Object(z.jsx)("div",{style:{textAlign:"center"},children:Object(z.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",d.nro_telefono,". "]})})}),Object(z.jsxs)("div",{className:"text-center d-flex align-self-center mx-auto",style:{position:"relative",width:270,height:35,marginTop:42,marginBottom:"2rem"},children:[Pt<1&&Object(z.jsx)(u.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return At(e)},onComplete:function(e){mn(e)}}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",children:"\u2022"}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:55},children:Pt>=2?"\u2022":""}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:100},children:Pt>=3?"\u2022":""}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:145},children:Pt>=4?"\u2022":""}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:190},children:Pt>=5?"\u2022":""}),Pt>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:235},children:Pt>=6?"\u2022":""})]}),Object(z.jsxs)("div",{style:{textAlign:"center"},children:[Object(z.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(z.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(z.jsxs)("a",{onClick:0===Ce?function(){return gn()}:function(){},children:[Object(z.jsx)("span",{className:"resaltado-registro-abi",children:" nuevo c\xf3digo"})," ",Ce>0&&Object(z.jsxs)("span",{children:["en ",Ce," seg."]})]})]})]}),Object(z.jsxs)("div",{style:{margin:"2.5rem"},children:[Object(z.jsx)("p",{className:"cpointer",onClick:function(){kt(!0),ht(null),lt.current=!1,yt(lt.current)},children:"Omitir este paso"}),Object(z.jsx)("a",{href:"https://wa.me/595981840840",children:Object(z.jsx)("h5",{className:"resaltado-registro-abi",children:"Contactanos"})})]}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){mn(It)},children:"Continuar"})})]})]}),ze===Re&&ke&&Object(z.jsx)(R.a,{ref:Ft,lat:Wt,lng:Jt,onAccept:ln}),(ze===Re&&!ke||ze===Ee&&ke)&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"centrado-texto-flex",children:Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",style:{textAlign:"center",marginTop:30,marginBottom:10,marginLeft:15},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"})})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:Z?Z.calle_principal:"",error:Y&&Y.calle_principal,set_dato:function(e,t){t&&(sn(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle principal",select_onchange:function(e){Object(k.z)(t,sn,Q,Z,"calle_principal",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:Z?Z.calle_secundaria:"",error:Y&&Y.calle_secundaria,set_dato:function(e,t){t&&(sn(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(k.z)(t,sn,Q,Z,"calle_secundaria",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:Z?Z.numero:"",error:Y&&Y.numero,set_dato:un,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Referencia (Color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc)",tipo:"textarea",campo:"referencia",valor:Z?Z.referencia:"",error:Y&&Y.referencia,set_dato:un,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!U,titulo:"Nombre (casa, oficina, etc)",tipo:"texto",campo:"nombre_direccion",valor:Z?Z.nombre_direccion:"",error:Y&&Y.nombre_direccion,set_dato:un,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"centrado-texto-flex mx-auto",children:Object(z.jsx)("div",{className:"campo-registro-abi",style:{paddingLeft:"3%"},children:Object(z.jsx)("h6",{style:{color:"#000",fontWeight:"bolder"},children:"Eleg\xed un icono distintivo"})})}),Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(z.jsx)("div",{onClick:function(){return at("casa")},className:"casa"===nt?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===nt?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return at("empresa")},className:"empresa"===nt?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===nt?"filter-invert-imagen":""})}),Object(z.jsx)("div",{onClick:function(){return at("maletin")},className:"maletin"===nt?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===nt?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return at("corazon")},className:"corazon"===nt?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===nt?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return at("alfiler")},className:"alfiler"===nt?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===nt?"filter-invert-imagen":"",height:32})})]}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsxs)("button",{className:te?"btn btn-info px-5 py-2":"px-5 py-2",disabled:!te,onClick:function(){if(wt){q(!0),V(L);var e="";Wt&&Jt&&(e=Wt+","+Jt);var n=Z.calle_principal,o=Z.calle_secundaria,s=Object(a.a)(Object(a.a)({},Z),{},{ubicacion:e,calle_principal:n?n.value:"",calle_secundaria:o?o.value:"",icono_direccion:nt});s.nro_telefono=Object(k.p)(s.nro_telefono),"object"===typeof s.ciudad&&(s.ciudad=s.ciudad.id),t.environment.api.clienteRegistro(s).then(function(){var e=Object(r.a)(i.a.mark((function e(n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(!1),K(n,"Cliente registrado satisfactoriamente","guardar"),"ok"!==n.kind){e.next=15;break}Object(m.u)((function(){c.setUser(n.user),c.setApiToken(n.user.token),c.setModoUsoApp(n.user.modo_uso_app),d.reset()})),a=0;case 5:if(!(a<y.productos.length)){e.next=12;break}return r=y.productos[a],e.next=9,t.environment.api.agregarEliminarProductoCarrito(r.id,null,r.cantidad,!1).then((function(e){"ok"!==e.kind&&console.log("No se pudo agregar al carrito")}));case 9:a++,e.next=5;break;case 12:"/carrito"===document.location.pathname?document.location.reload():document.location.href=A.m.ROOT,e.next=16;break;case 15:"bad-data"===n.kind&&(q(!1),V(n.errors),"nombre_direccion"===(o=Object.keys(n.errors)[0])||Le("first_name"===o||"last_name"===o||"nro_documento"===o||"nro_telefono"===o?2:1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else X("El n\xfamero debe estar verificado para continuar","warning")},children:[U&&Object(z.jsx)(s.z,{name:"crescent"}),!U&&Object(z.jsx)("span",{children:"Finalizar"})]})})]})]}),ke||ze===Re?null:Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"derecha-container-registro-abi background-color-naranja-abi",children:[Object(z.jsx)("div",{className:"banner-registro-cliente"}),!1!==e.closable&&Object(z.jsx)("div",{style:{position:"absolute",top:"13px",right:"13px",cursor:"pointer"},onClick:function(){return e.setVisible(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]})}),ke||ze!==Re?null:Object(z.jsx)("div",{className:"derecha-container-registro-abi",style:{position:"relative"},children:Object(z.jsx)(R.a,{ref:Ft,lat:Wt,lng:Jt,onAccept:ln})})]}),Object(z.jsxs)(s.q,{isOpen:e.isOpen,backdropDismiss:!1,onDidDismiss:function(){return e.setVisible(!1)},cssClass:ke?"":"modal-registro-abi",children:[ke&&Object(z.jsx)(w.k,{color:"#ffb433ff",titulo:Je,sub_titulo:Xe,botonIzquierdo:!1!==e.closable?null:Object(z.jsx)(z.Fragment,{}),accion_boton_izquierdo:function(){return vn()}}),ke&&Object(z.jsx)(yn,{}),bn]})}));t.a=B},493:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(2),r=n(24),o=n(3),s=n.n(o),l=(n(485),n(506),n(507),n(508),n(478)),d=n(101),u=n(475),j=n(86),b=n(8),m=n(57),f=n(9),h=s.a.forwardRef((function(e,t){var n=Object(j.b)(),a=Object(m.e)(),h=Object(d.J)(),p=Object(o.useState)(!1),O=Object(r.a)(p,2),x=O[0],g=O[1],v=Object(o.useState)(e.lat),_=Object(r.a)(v,2),y=_[0],N=_[1],C=Object(o.useState)(e.lng),w=Object(r.a)(C,2),k=w[0],S=w[1],D=Object(o.useState)(14),I=Object(r.a)(D,2),A=I[0],R=I[1],E=Object(o.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),P=Object(r.a)(E,2),T=P[0],z=P[1],L=Object(o.useState)(e.onAccept?[e.onAccept]:null),F=Object(r.a)(L,2),M=F[0],B=F[1],U=Object(o.useState)(e.userdata?[e.userdata]:null),q=Object(r.a)(U,2),H=q[0],W=q[1],Y=Object(o.useState)(e.onCancel?[e.onCancel]:null),V=Object(r.a)(Y,2),G=V[0],J=V[1],Z=e.color||"#303AB2",Q=e.Movil?e.Movil:window.innerWidth<=500||/Mobi/.test(navigator.userAgent),K=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.environment.locationService.checkGPSPermission();case 2:if(e.sent){e.next=8;break}return e.next=6,n.environment.locationService.askPermissionAndOrTurnOnGPS();case 6:t=e.sent,n.setHasLocationPermission(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s.a.useEffect((function(){K(),setTimeout((function(){g(!0)}),700)}),[]),s.a.useEffect((function(){e.lat&&(y||N(e.lat))}),[e.lat]),s.a.useEffect((function(){e.lng&&(k||S(e.lng))}),[e.lng]),Object(o.useImperativeHandle)(t,(function(){return{open:function(t,n,a){t&&B([t]),n&&J([n]),a&&W([a]),e.lat&&e.lng&&R(16),N(e.lat),S(e.lng)},close:function(){$()}}}));var X=function(e,t){N(e),S(t),z({lat:e,lng:t})},$=function(){g(!1),G&&G[0](H?H[0]:null)},ee=function(){M&&y&&k?M[0](y,k,H?H[0]:null):(h("Seleccione una ubicaci\xf3n para continuar","warning"),a.push(b.n.VEHICULO))};return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[Q?Object(f.jsx)("div",{style:{height:"100%",width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:y,lng:k,zoom:A,center:T,ubicacion:function(e,t){X(e,t)},full_screen:!0,color:Z})}):Object(f.jsx)("div",{style:{flexGrow:1,width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:y,lng:k,zoom:A,center:T,ubicacion:X,full_screen:!0,color:Z})}),Q?Object(f.jsx)(u.h,{children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi my-2",onClick:ee,children:"Seleccionar"})}):Object(f.jsx)("div",{style:{position:"absolute",bottom:30,left:"50%",textAlign:"center",zIndex:9999,marginLeft:-94},children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi",onClick:ee,children:"Seleccionar"})})]})}));t.a=h},494:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(33),r=n(2),o=n(24),s=(n(552),n(30)),l=n(479),d=n(123),u=n(500),j=n(503),b=n(40),m=n(227),f=n(225),h=(n(286),n(18)),p=n(161),O=n(87),x=n.n(O),g=n(3),v=n(160),_=n(1524),y=n(1544),N=n(475),C=n(504),w=n(476),k=n(482),S=n(493),D=n(498),I=n(8),A=n(101),R=n(86),E=n(589),P=n.n(E),T=n(57),z=n(9),L={first_name:"",last_name:"",fecha_nacimiento:"",email:"",nro_documento:"",ruc:"",razon_social:"",nro_telefono:"",ciudades:[],contrasena:"",repetir_contrasena:"",imagen_perfil:"",registro_frente:"",registro_dorso:"",antecedentesj:"",antecedentesp:"",constancia_ruc:"",tipo_vehiculo:[],marca:"",modelo:"",ano:"",numero_chapa:"",color:"",kilometraje:"",numero_chassis:"",habilitacion_frente:"",habilitacion_dorso:"",poliza_seguro:"",registro_vencimiento:"",habilitacion_vencimiento:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0},F={imagen_perfil:""},M=Object(p.a)((function(e){var t=Object(R.b)(),n=t.loginStore,a=t.registroStore,p=Object(T.e)(),O=Object(g.useState)(!1),E=Object(o.a)(O,2),M=E[0],B=E[1],U=Object(g.useState)({}),q=Object(o.a)(U,2),H=q[0],W=q[1],Y=Object(g.useState)(L),V=Object(o.a)(Y,2),G=V[0],J=V[1],Z=Object(g.useState)([]),Q=Object(o.a)(Z,2),K=Q[0],X=Q[1],$=Object(g.useState)(0),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(g.useRef)(0),ce=Object(g.useRef)(null),ie=Object(g.useState)(!0),re=Object(o.a)(ie,2),oe=re[0],se=(re[1],Object(g.useState)(!1)),le=Object(o.a)(se,2),de=le[0],ue=le[1],je=Object(g.useState)(null),be=Object(o.a)(je,2),me=be[0],fe=be[1],he=(Object(A.A)(),Object(A.J)()),pe=Object(g.useState)(!1),Oe=Object(o.a)(pe,2),xe=Oe[0],ge=Oe[1],ve=Object(g.useState)(0),_e=Object(o.a)(ve,2),ye=_e[0],Ne=_e[1],Ce=Object(g.useState)(""),we=Object(o.a)(Ce,2),ke=we[0],Se=we[1],De=Object(g.useState)(!1),Ie=Object(o.a)(De,2),Ae=(Ie[0],Ie[1]),Re=Object(g.useState)(!1),Ee=Object(o.a)(Re,2),Pe=(Ee[0],Ee[1]),Te=Object(g.useState)(""),ze=Object(o.a)(Te,2),Le=(ze[0],ze[1]),Fe=Object(g.useState)(""),Me=Object(o.a)(Fe,2),Be=(Me[0],Me[1]),Ue=Object(g.useState)(F),qe=Object(o.a)(Ue,2),He=qe[0],We=qe[1],Ye=Object(g.useState)(!1),Ve=Object(o.a)(Ye,2),Ge=Ve[0],Je=Ve[1],Ze=Object(g.useState)(!1),Qe=Object(o.a)(Ze,2),Ke=Qe[0],Xe=Qe[1],$e=Object(g.useState)(),et=Object(o.a)($e,2),tt=et[0],nt=et[1],at=Object(g.useState)(!1),ct=Object(o.a)(at,2),it=ct[0],rt=ct[1],ot=Object(g.useState)("10"),st=Object(o.a)(ot,2),lt=st[0],dt=st[1],ut=Object(A.C)((function(){return p.replace(I.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario",!0,"#ff6f33","btn-outline-orange"),jt=Object(o.a)(ut,2),bt=(jt[0],jt[1]),mt=Object(g.useRef)(""),ft=Object(g.useRef)(!1),ht=Object(g.useState)(!1),pt=Object(o.a)(ht,2),Ot=pt[0],xt=pt[1],gt=Object(g.useState)(null),vt=Object(o.a)(gt,2),_t=vt[0],yt=vt[1],Nt=Object(g.useState)(!1),Ct=Object(o.a)(Nt,2),wt=Ct[0],kt=Ct[1],St=Object(g.useState)(!1),Dt=Object(o.a)(St,2),It=Dt[0],At=Dt[1],Rt=Object(g.useState)(!1),Et=Object(o.a)(Rt,2),Pt=Et[0],Tt=Et[1],zt=Object(g.useRef)(),Lt=Object(g.useState)({lng:-57.63591,lat:-25.30066}),Ft=Object(o.a)(Lt,2),Mt=Ft[0],Bt=Ft[1],Ut=Object(g.useState)(null),qt=Object(o.a)(Ut,2),Ht=qt[0],Wt=qt[1],Yt=Object(g.useState)(null),Vt=Object(o.a)(Yt,2),Gt=Vt[0],Jt=Vt[1],Zt=Object(g.useState)(null),Qt=Object(o.a)(Zt,2),Kt=Qt[0],Xt=Qt[1];Object(g.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");ne(t)}),[t.locationSearch]);var $t=function(){var e=Object(r.a)(c.a.mark((function e(){var o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"web"!==s.Capacitor.getPlatform()&&("android"===s.Capacitor.getPlatform()?j.a.backgroundColorByHexString("#ff4b00"):"ios"===s.Capacitor.getPlatform()&&(document.body.style.background="#ff4b00"),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),n.isLoggedIn?(a.reset(),o=Object(i.a)({},L),J(Object(i.a)(Object(i.a)({},o),{},{first_name:n.first_name?n.first_name:"",last_name:n.last_name?n.last_name:"",fecha_nacimiento:n.fecha_nacimiento?x()(n.fecha_nacimiento).format("DD/MM/YYYY"):"",nro_documento:n.nro_documento?n.nro_documento:"",nro_telefono:Object(A.o)(n.nro_telefono),razon_social:n.razon_social?n.razon_social:"",ruc:n.ruc?n.ruc:"",email:n.email?n.email:""}))):setTimeout(Object(r.a)(c.a.mark((function e(){var n,i,r,o,s,l,d,u,j,b,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setTipoFormulario(30),n=t.ciudades.filter((function(e){return a.ciudades.includes(e.id)})),i=t.tiposVehiculos.filter((function(e){return a.tipo_vehiculo.includes(e.id)})),!a.imagen_perfil){e.next=8;break}return e.next=6,m.a.getFilefromDataUrl(a.imagen_perfil,"imagen_perfil");case 6:r=e.sent,tn("imagen_perfil",a.imagen_perfil);case 8:if(!a.antecedentesp){e.next=12;break}return e.next=11,m.a.getFilefromDataUrl(a.antecedentesp,"antecedentesp");case 11:o=e.sent;case 12:if(!a.antecedentesj){e.next=16;break}return e.next=15,m.a.getFilefromDataUrl(a.antecedentesj,"antecedentesj");case 15:s=e.sent;case 16:if(!a.habilitacion_dorso){e.next=20;break}return e.next=19,m.a.getFilefromDataUrl(a.habilitacion_dorso,"habilitacion_dorso");case 19:l=e.sent;case 20:if(!a.habilitacion_frente){e.next=24;break}return e.next=23,m.a.getFilefromDataUrl(a.habilitacion_frente,"habilitacion_frente");case 23:d=e.sent;case 24:if(!a.poliza_seguro){e.next=28;break}return e.next=27,m.a.getFilefromDataUrl(a.poliza_seguro,"poliza_seguro");case 27:u=e.sent;case 28:if(!a.registro_dorso){e.next=32;break}return e.next=31,m.a.getFilefromDataUrl(a.registro_dorso,"registro_dorso");case 31:j=e.sent;case 32:if(!a.registro_frente){e.next=36;break}return e.next=35,m.a.getFilefromDataUrl(a.registro_frente,"registro_frente");case 35:b=e.sent;case 36:if(!a.constancia_ruc){e.next=40;break}return e.next=39,m.a.getFilefromDataUrl(a.constancia_ruc,"constancia_ruc");case 39:f=e.sent;case 40:J({ano:a.ano?a.ano:"",antecedentesp:o,antecedentesj:s,ciudades:n,color:a.color?a.color:"",habilitacion_dorso:l,habilitacion_frente:d,habilitacion_vencimiento:a.habilitacion_vencimiento?a.habilitacion_vencimiento:"",imagen_perfil:r,kilometraje:a.kilometraje?a.kilometraje:"",marca:a.marca?a.marca:"",modelo:a.modelo?a.modelo:"",numero_chapa:a.numero_chapa?a.numero_chapa:"",numero_chassis:a.numero_chassis?a.numero_chassis:"",poliza_seguro:u,registro_dorso:j,registro_frente:b,constancia_ruc:f,registro_vencimiento:a.registro_vencimiento?a.registro_vencimiento:"",tipo_vehiculo:i,contrasena:"",repetir_contrasena:"",email:a.email?a.email:"",first_name:a.first_name?a.first_name:"",last_name:a.last_name?a.last_name:"",fecha_nacimiento:a.fecha_nacimiento?a.fecha_nacimiento:"",nro_documento:a.nro_documento?a.nro_documento:"",nro_telefono:Object(A.o)(a.nro_telefono),razon_social:a.razon_social?a.razon_social:"",ruc:a.ruc?a.ruc:"",calle_principal:a.calle_principal?a.calle_principal:"",calle_secundaria:a.calle_secundaria?a.calle_secundaria:"",ciudad:a.ciudad?a.ciudad:0,nombre_direccion:a.nombre_direccion?a.nombre_direccion:"",numero:a.numero?a.numero:"",referencia:a.referencia?a.referencia:"",ubicacion:a.ubicacion?a.ubicacion:""});case 41:case"end":return e.stop()}}),e)})))),l=window.innerWidth<=500,ge(l),nn(),an(),setTimeout((function(){return Je(!0)}),700);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){$t()}),[]),Object(g.useEffect)((function(){t.hasLocationPermission&&en().catch((function(e){console.log(e),String(e).includes("location disabled")&&he("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]),Object(g.useEffect)((function(){te===sn.requisitos?nt([{titulo:"Registro",callback:function(){ln(sn.requisitos)}}]):te===sn.datosPersonales?(Be("Datos Personales"),Le("Iniciar Sesi\xf3n - Paso 1 de 2"),nt([{titulo:"Registro",callback:function(){ln(sn.requisitos)}},{titulo:"Datos personales",callback:function(){ln(sn.datosPersonales)}}])):te===sn.mapa?(Be("Direcci\xf3n"),Le(""),nt([{titulo:"Registro",callback:function(){ln(sn.requisitos)}},{titulo:"Datos personales",callback:function(){ln(sn.datosPersonales)}},{titulo:"Direcci\xf3n legal",callback:function(){ln(sn.mapa)}}])):te===sn.direccionCampos?(Be("Direcci\xf3n"),Le(""),nt([{titulo:"Registro",callback:function(){ln(sn.requisitos)}},{titulo:"Mapa",callback:function(){ln(sn.mapa)}},{titulo:"Direcci\xf3n legal",callback:function(){ln(sn.direccionCampos)}}])):te===sn.datosRodado&&(Be("Rodados"),Le("Paso 2 de 2"),nt([{titulo:"Datos personales",callback:function(){ln(sn.datosPersonales)}},{titulo:"Rodados",callback:function(){ln(sn.datosRodado)}}]))}),[te]);var en=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,Xt([t.coords.latitude,t.coords.longitude]),Wt(t.coords.latitude),Jt(t.coords.longitude),Bt({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(e,t){var n=Object(i.a)({},He);n[e]=t,We(n)},nn=function(){t.ciudades.length||(B(!0),t.actualizarDatosInicio(!1).then((function(){B(!1)})))},an=function(){t.environment.api.tiposVehiculos().then((function(e){"ok"===e.kind&&t.setTiposVehiculos(e.data.results)}))},cn=function(e,t){var n=Object(i.a)({},G);n[e]=t,J(n)},rn=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var i,r,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===s.Capacitor.getPlatform()){e.next=5;break}return e.next=3,l.a.readFile({path:t});case 3:i=e.sent,t="data:image/jpeg;base64,".concat(i.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(A.k)(r,n,on);case 10:return o=e.sent,tn(n,t),Se(n),e.next=15,m.a.getDataUrlFromFile(o);case 15:d=e.sent,cn(n,o),a.setDatoRegistroStore(n,d);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),on=function(e){Ne(e),100===e?(B(!1),setTimeout((function(){Ne(0),Se("")}),500)):B(!0)},sn={requisitos:0,datosPersonales:1,mapa:2,direccionCampos:3,datosRodado:4},ln=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),p.push(window.location.pathname+"?"+t.toString())},dn=function(e){ln(e),ae.current=e,ce&&ce.current&&ce.current.scrollTop()},un=function(e,t){cn(e,t)},jn=function(e){if(["first_name","last_name"].includes(e)&&cn("razon_social",G.first_name+" "+G.last_name),"ruc"===e){var n=G.ruc.indexOf("-")>0?{ruc:G.ruc}:{documento:G.ruc};t.environment.api.consultarRuc(n).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),a.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),a.setDatoRegistroStore("razon_social",t.razon_social))}})).catch((function(){}))}};Object(g.useEffect)((function(){var e=null;return"web"!==s.Capacitor.getPlatform()&&(e=u.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&ft.current&&(kt(!0),setTimeout((function(){Tt(!0),yt(null),he("N\xfamero verificado exitosamente"),ft.current=!1,At(ft.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var bn=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===G.nro_telefono.length){e.next=3;break}return he("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:Pt&&Tt(!1),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),xt(!0),yt(null),kt(!1),setTimeout((function(){ft.current=!0,At(ft.current)}),2e3),t=Object(A.p)(G.nro_telefono),u.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(!1),!Pt){e.next=4;break}return yt(null),e.abrupt("return");case 4:mt.current=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),yt(e),Tt(!1),xt(!1),ft.current=!1,At(ft.current),he("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(){if(12===G.nro_telefono.length){var e=Object(A.p)(G.nro_telefono);xt(!0),yt(null);var t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){xt(!1),ft.current=!0,At(ft.current),xt(!1),mt.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),xt(!1),yt(e.message),Tt(!1),he("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else he("Ingrese un n\xfamero v\xe1lido","warning")};Object(g.useEffect)((function(){n.isLoggedIn&&Tt(!0)}),[G]),Object(g.useEffect)((function(){oe&&Ae(!1)}),[oe]);var fn=function(e,t){Xe(!0),Wt(e),Jt(t),n.isLoggedIn||a.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),ln(sn.direccionCampos)};Object(g.useEffect)((function(){Ht&&Gt&&t.environment.api.infoCalle(Ht,Gt).then((function(e){if("ok"===e.kind&&e.response.info){var c=e.response.info,r=Object(i.a)({},G);c.calle&&(r.calle_principal={value:c.calle,label:c.calle}),c.ciudad_obj&&(r.ciudad=t.ciudades.find((function(e){return e.id===c.ciudad_obj.id}))),c.secondary&&(r.calle_secundaria={value:c.secondary,label:c.secondary}),n.isLoggedIn||(a.setDatoRegistroStore("calle_principal",r.calle_principal?r.calle_principal:null),a.setDatoRegistroStore("calle_secundaria",r.calle_secundaria?r.calle_secundaria:null),a.setDatoRegistroStore("ciudad",r.ciudad?r.ciudad.id:null)),J(r)}})).catch()}),[Ht,Gt]);return Object(z.jsxs)("div",{children:[Object(z.jsxs)(b.q,{isOpen:!0,id:"modal-registro-transportista",swipeToClose:!1,backdropDismiss:!1,children:[Object(z.jsx)(N.k,{color:"var(--naranja-transportista)",botonIzquierdo:Object(z.jsx)("span",{onClick:function(){if(te>0)ln(te-1);else{var e=new URLSearchParams(window.location.search);e.delete("registrot"),e.delete("i"),p.push(window.location.pathname+"?"+e.toString())}},children:Object(z.jsx)(_.a,{size:30,color:"#ffffff"})}),titulo:"Registro del conductor"}),bt,Object(z.jsx)(D.a,{links:tt||[]}),Object(z.jsxs)(P.a,{className:"",index:te,onChangeIndex:dn,disabled:!0,children:[Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsxs)("div",{className:"p-4",style:{background:"#FFF"},children:[Object(z.jsx)("strong",{children:Object(z.jsx)("p",{className:"margen-texto-registro-transportista mt-2",children:"Requisitos para ser Driver ABi:"})}),Object(z.jsxs)("ol",{children:[Object(z.jsx)("li",{children:"Ser mayor de 18 a\xf1os."}),Object(z.jsx)("li",{children:"Contar con un rodado desde moto hasta un cami\xf3n. \xa1Con ABi no hay l\xedmites!"}),Object(z.jsx)("li",{children:"Habilitaci\xf3n al d\xeda."}),Object(z.jsx)("li",{children:"Registro de conducir."}),Object(z.jsx)("li",{children:"Certificado de antecedentes policiales."}),Object(z.jsx)("li",{children:"Certificado de antecedentes judiciales."}),Object(z.jsx)("li",{children:"Contar con factura legal."}),Object(z.jsx)("li",{children:"Tener un seguro. Si no ten\xe9s... \xa1Nosotros te ayudamos a tener uno!"})]}),Object(z.jsx)("p",{className:"p-4",children:"Registrate completando tus datos personales y el de tu rodado. \xa1Comenz\xe1 a conducir con nosotros!"}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:20,color:"var(--rojo-abi)"},children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("img",{src:"assets/icon/info-orange-transportista.png",className:"icono-registro-trasportista"}),Object(z.jsx)("a",{onClick:function(){return p.push("".concat(I.m.PREGUNTAS_FRECUENTES,"?c=Driver ABi"))},children:Object(z.jsx)("strong",{children:"Preguntas Frecuentes"})})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("img",{src:"assets/icon/atencion-cliente-red.png",className:"icono-registro-trasportista"}),Object(z.jsx)("a",{href:"https://wa.me/595981840840",children:Object(z.jsx)("strong",{style:{color:"var(--rojo-abi)"},children:"Contactanos"})})]}),Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return dn(sn.datosPersonales)},children:[M&&Object(z.jsx)(b.z,{name:"crescent"}),!M&&Object(z.jsx)("span",{children:"Registrarme"})]})]})]}),!n.isLoggedIn&&Object(z.jsxs)(N.h,{className:"py-4 px-5",children:[Object(z.jsx)("div",{style:{},children:Object(z.jsx)("h6",{style:{fontWeight:"bolder"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(z.jsx)("div",{children:Object(z.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),e.delete("registrot"),p.push(window.location.pathname+"?"+e.toString())},children:Object(z.jsx)("h5",{style:{color:"var(--rojo-abi)",fontWeight:"bold"},children:"Iniciar Sesi\xf3n"})})})]})]}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsx)(w.a,{isOpen:it,color:"var(--rojo-abi)",titulo:"Direcci\xf3n legal",cssClass:"info-direccion-transportista",close:function(){return rt(!1)},children:Object(z.jsx)("span",{children:"La direcci\xf3n legal es tu direcci\xf3n de residencia actual."})}),Object(z.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(z.jsx)(N.w,{color:"var(--rojo-abi)",titulo_modal:"Foto de Perfil",titulo_label:"Subir Foto de Perfil "+("imagen_perfil"===ke&&ye>0?ye+"%":""),helptext:Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"1. Mostra tu rostro completo y la parte superior de los hombros"}),Object(z.jsx)("p",{children:"2. No uses anteojos ni kepis/sombreros"}),Object(z.jsx)("p",{children:"3. Saca la foto en un lugar con buena iluminaci\xf3n"})]}),img_path:"assets/person.png",on_select:rn,userdata:"imagen_perfil",dontUseWebInput:!0,preview:""!==He.imagen_perfil?He.imagen_perfil:"",camera_direction:1,perfil:!0,class_boton_aceptar:"btn-outline-orange",infoBody:Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"Sub\xed una imagen de tu rostro, n\xedtida y actualizada en la que puedan reconocerte:"}),Object(z.jsxs)("ul",{children:[Object(z.jsx)("li",{children:"Fondo neutro"}),Object(z.jsx)("li",{children:"Formato JPG"}),Object(z.jsx)("li",{children:"Prohibido fotografiarse con lentes oscuros kepi y/o tapabobas"})]})]}),infoTitulo:"Foto de Perfil",modal_info_css_class:"requisitos-foto-perfil"}),H.imagen_perfil&&Object(z.jsx)("div",{className:"text-danger",children:H.imagen_perfil}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(N.c,{deshabilitado:!M&&!n.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:G?G.first_name:"",error:H&&H.first_name,set_dato:un,campo_blur:!0,set_dato_blur:jn,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{deshabilitado:!M&&!n.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:G?G.last_name:"",error:H&&H.last_name,set_dato:un,campo_blur:!0,set_dato_blur:jn,columnas:12,columnas_sm:12,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Nro. de c\xe9dula",tipo:"texto",campo:"nro_documento",valor:G?G.nro_documento:"",error:H&&H.nro_documento,set_dato:un,campo_blur:!0,set_dato_blur:function(e){"nro_documento"===e&&t.environment.api.consultarRuc({documento:G.nro_documento}).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),a.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),a.setDatoRegistroStore("razon_social",t.razon_social))}else cn("ruc",G.nro_documento)})).catch((function(){cn("ruc",G.nro_documento)}))},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:G?G.fecha_nacimiento:"",error:H&&H.fecha_nacimiento,set_dato:un,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{deshabilitado:!M&&!Pt,titulo:"Celular",tipo:"telefono",campo:"nro_telefono",valor:G?G.nro_telefono:"",set_dato:un,columnas:12,columnas_sm:12,error:H&&H.nro_telefono,verificar_firebase_habilitado:!0,verificar_firebase_autenticado:Pt,verificar_firebase_func:"web"===s.Capacitor.getPlatform()?mn:bn,verificar_firebase_error:_t||"",verificar_boton_clase:"btn-outline-orange",verificar_firebase_reset:function(){xt(!1),yt(null),Tt(!1),"web"!==s.Capacitor.getPlatform()&&u.a.signOut()},set_dato_registro_store:!0}),!xe&&Object(z.jsx)("div",{className:"col-6 ml-auto d-flex justify-content-center",id:"recaptcha-container"}),xe&&Object(z.jsx)("div",{className:"col-12 col-lg-6 ml-auto d-flex justify-content-center mb-lg-3 mb-0",id:"recaptcha-container",children:Ot&&Object(z.jsx)(b.z,{style:{color:"#ff4c01"},name:"crescent"})})]}),!n.isLoggedIn&&Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"row ",children:Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:G?G.email:"",error:H&&H.email,set_dato:un,columnas:12,columnas_sm:12,set_dato_registro_store:!0})}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:G?G.contrasena:"",error:H&&H.contrasena,set_dato:un,columnas:12,columnas_sm:6,set_dato_registro_store:!0,infoBody:Object(z.jsx)("div",{children:Object(z.jsxs)("ul",{children:[Object(z.jsxs)("li",{children:["La contrase\xf1a debe tener como ",Object(z.jsx)("strong",{children:"m\xednimo 6 caracteres."})]}),Object(z.jsx)("li",{children:"Conbin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(z.jsx)("li",{children:'No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(z.jsxs)("li",{children:[Object(z.jsx)("strong",{children:"Ning\xfan miembro del Staff Abi solicitar\xe1 tu contrase\xf1a."})," \xa1No la compartas con nadie!"," "]})]})}),infoTitulo:"Contrase\xf1a segura",modal_info_css_class:"requisitos-foto-perfil",color:"var(--naranja-transportista)"}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:G?G.repetir_contrasena:"",error:H&&H.repetir_contrasena,set_dato:un,columnas:12,columnas_sm:6,extra_css:"mb-3",set_dato_registro_store:!0})]})]}),Object(z.jsxs)("div",{className:"row ml-1",children:[Object(z.jsx)("div",{children:Object(z.jsx)("strong",{children:"Tipo de Driver: "})}),Object(z.jsx)("div",{className:"checkbox mx-1",children:Object(z.jsx)(b.f,{checked:"10"===lt,"aria-label":"Particular",onClick:function(){dt("10")},color:"secondary",disabled:"10"===lt})}),Object(z.jsx)("p",{className:"mx-1",children:"Particular"}),Object(z.jsx)("div",{className:"checkbox mx-1",children:Object(z.jsx)(b.f,{"aria-label":"Empresa",checked:"20"===lt,onClick:function(){dt("20")},color:"secondary",disabled:"20"===lt})}),Object(z.jsx)("p",{className:"mx-1",children:"Empresa"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("button",{className:"btn btn-outline-orange btn-font-sm",onClick:function(){dn(sn.mapa)},children:"Direcci\xf3n legal"}),Object(z.jsx)("img",{onClick:function(){return rt(!0)},className:"icono-registro-trasportista",src:"assets/icon/info.png"})]}),Object(z.jsx)(k.b,{titulo_label:"Registro de conducir",titulo_modal:"Registro de conducir",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu registro de conducir al d\xeda.",infoTitulo:"Registro de conducir",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:rn,imageItems:[{preview:a.getPreview("registro_frente")?a.getPreview("registro_frente"):"assets/id.png",titulo:"Registro de conducir (frente)",userDataLabel:"registro_frente"},{preview:a.getPreview("registro_dorso")?a.getPreview("registro_dorso"):"assets/id.png",titulo:"Registro de conducir (dorso)",userDataLabel:"registro_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.registro_frente&&Object(z.jsxs)("div",{className:"text-danger",children:["Registro frente: ",H.registro_frente]}),H.registro_dorso&&Object(z.jsxs)("div",{className:"text-danger",children:["Registro dorso: ",H.registro_dorso]}),Object(z.jsx)("div",{className:"row",children:Object(z.jsx)(N.c,{titulo:"Fecha de vencimiento del registro",tipo:"fecha",campo:"registro_vencimiento",valor:G?G.registro_vencimiento:"",set_dato:un,columnas:12,columnas_sm:12,error:H&&H.registro_vencimiento,set_dato_registro_store:!0})}),Object(z.jsxs)("div",{className:"",children:[Object(z.jsx)(N.B,{titulo:"Ciudades de cobertura",titulo_label:"Ciudades de cobertura",listado_elementos:t.ciudades,listado_elementos_seleccionados:G&&G.ciudades?G.ciudades:[],datos_filtrados:function(e){X(e),n.isLoggedIn||a.setDatoRegistroStore("ciudades",e)},multiple:!0,llave_label_opcion:"nombre",class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.ciudades&&Object(z.jsx)("div",{className:"text-danger",children:H.ciudades})]})]})]}),Object(z.jsx)(N.h,{className:"py-4 px-5",children:Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return dn(sn.datosRodado)},children:[M&&Object(z.jsx)(b.z,{name:"crescent"}),!M&&Object(z.jsx)("span",{children:"Continuar"})]})})]}),Object(z.jsx)("div",{className:"paso-registro-transportista-container",style:{position:"relative"},children:te===sn.mapa&&Object(z.jsx)(S.a,{cssButtom:"btn-pricipal-registro-transportista px-5 py-2",ref:zt,lat:Ht,lng:Gt,onAccept:fn,Movil:xe})}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Ge&&Object(z.jsx)("div",{onClick:function(){return dn(sn.mapa)},style:{height:120,width:"100%",cursor:"pointer",overflow:"hidden"},children:Ke&&Object(z.jsx)(N.z,{lat:Ht,lng:Gt,zoom:Ht?16:14,center:Mt,bloquear_interaccion:!0,onClick:function(){return Xe(!1)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(z.jsxs)("div",{style:{background:"#FFF"},children:[Object(z.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[H.ubicacion&&Object(z.jsx)("div",{className:"text-danger mt-2 mx-3",children:"Seleccione su ubicaci\xf3n"}),Object(z.jsx)("div",{className:"col-12",children:Object(z.jsx)("div",{className:"row my-2",children:!Ge&&Object(z.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{height:300,width:"100%"},children:Object(z.jsx)(b.z,{name:"crescent",className:"loadingSpinner"})})})}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:G?G.calle_principal:"",error:H&&H.calle_principal,set_dato:function(e,t){t&&cn(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(A.z)(t,cn,J,G,"calle_principal",e)},opciones_select:function(e){return Object(A.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:G?G.calle_secundaria:"",error:H&&H.calle_secundaria,set_dato:function(e,t){t&&cn(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(A.z)(t,cn,J,G,"calle_secundaria",e)},opciones_select:function(e){return Object(A.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:G?G.numero:"",error:H&&H.numero,set_dato:un,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{deshabilitado:!M,titulo:"Referencias (color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:G?G.referencia:"",error:H&&H.referencia,set_dato:un,columnas:12,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"campo-registro-transportista select-modal container-fluid",children:[Object(z.jsx)(N.B,{titulo:"Ciudad",placeholder:"Ciudad",titulo_label:"",listado_elementos:t.ciudades,listado_elementos_seleccionados:G.ciudad,datos_filtrados:function(e){cn("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),0!=H.ciudad&&Object(z.jsx)("div",{className:"text-danger",children:H.ciudad})]})]}),Object(z.jsx)(N.h,{className:"py-4 px-5",children:Object(z.jsx)("button",{className:"btn-pricipal-registro-transportista px-5 py-2 mx-2 my-2",onClick:function(){dn(sn.datosPersonales),Xe(!1)},children:"Continuar"})})]}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",height:100,padding:10},children:Object(z.jsx)("img",{alt:"Driver",src:"assets/icon/driver_gray_soft.png"})}),Object(z.jsxs)("div",{className:"row campo-registro-transportista select-modal",children:[Object(z.jsxs)("div",{className:"col-lg-6 col-12",children:[Object(z.jsx)(N.B,{titulo:"Tipo de Rodado",titulo_label:"",placeholder:"Tipo de Rodado",listado_elementos:t.tiposVehiculos,listado_elementos_seleccionados:G&&G.tipo_vehiculo?G.tipo_vehiculo:[],datos_filtrados:function(e){fe(e),n.isLoggedIn||a.setDatoRegistroStore("tipo_vehiculo",e)},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.tipo_vehiculo&&Object(z.jsx)("div",{className:"text-danger",children:H.tipo_vehiculo})]}),Object(z.jsx)(N.c,{titulo:"Marca",tipo:"texto",campo:"marca",valor:G?G.marca:"",set_dato:un,columnas:12,columnas_sm:6,error:H&&H.marca,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"Modelo",tipo:"texto",campo:"modelo",valor:G?G.modelo:"",set_dato:un,columnas:12,columnas_sm:6,error:H&&H.modelo,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"A\xf1o",tipo:"texto",campo:"ano",valor:G?G.ano:"",set_dato:un,columnas:6,columnas_sm:6,error:H&&H.ano,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"Color",tipo:"texto",campo:"color",valor:G?G.color:"",set_dato:un,columnas:6,columnas_sm:6,error:H&&H.color,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"Kilometraje",tipo:"numero",campo:"kilometraje",valor:G?G.kilometraje:"",set_dato:un,columnas:6,columnas_sm:6,error:H&&H.kilometraje,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"Chapa AAAA 123",tipo:"texto",campo:"numero_chapa",valor:G?G.numero_chapa:"",set_dato:un,columnas:6,columnas_sm:6,error:H&&H.numero_chapa,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"N\xfamero de Chasis",tipo:"texto",campo:"numero_chassis",valor:G?G.numero_chassis:"",set_dato:un,columnas:12,columnas_sm:6,error:H&&H.numero_chassis,set_dato_registro_store:!0}),Object(z.jsx)(N.c,{titulo:"Fecha de vencimiento de la habilitaci\xf3n",tipo:"fecha",campo:"habilitacion_vencimiento",valor:G?G.habilitacion_vencimiento:"",set_dato:un,columnas:12,columnas_sm:12,error:H&&H.habilitacion_vencimiento,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[Object(z.jsx)(k.b,{titulo_label:"Subir foto de la habilitaci\xf3n",titulo_modal:"Subir foto de la habilitaci\xf3n",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu habilitacion al d\xeda.",infoTitulo:"Foto de habilitaci\xf3n",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:rn,imageItems:[{preview:a.getPreview("habilitacion_frente")?a.getPreview("habilitacion_frente"):"assets/id.png",titulo:"Habilitacion de rodado (frente)",userDataLabel:"habilitacion_frente"},{preview:a.getPreview("habilitacion_dorso")?a.getPreview("habilitacion_dorso"):"assets/id.png",titulo:"Habilitacion de rodado (dorso)",userDataLabel:"habilitacion_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.habilitacion_frente&&Object(z.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n frente: ",H.habilitacion_frente]}),H.habilitacion_dorso&&Object(z.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n dorso: ",H.habilitacion_dorso]})]}),Object(z.jsxs)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"#000",fontWeight:"bolder"},children:["Al finalizar, acepto las"," ",Object(z.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(z.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(z.jsx)("strong",{children:"Condiciones de Uso"})})})," ","y"," ",Object(z.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(z.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(z.jsx)("strong",{children:"T\xe9rminos de privacidad."})})})]}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(z.jsx)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"var(--gris-oscuro-abi)"},children:"Al finalizar, declaro la autenticidad de los datos proporcionados."})})]}),Object(z.jsx)(N.h,{className:"py-4 px-5",children:Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){if(oe)if(Pt){B(!0),W({});var e="";Ht&&Gt&&(e=Ht+","+Gt);var c=G.calle_principal,r=G.calle_secundaria,o=Object(i.a)(Object(i.a)({},G),{},{ciudades:K,ubicacion:e,nro_telefono:Object(A.p)(G.nro_telefono),calle_principal:c?c.value:"",calle_secundaria:r?r.value:"",tipo_vehiculo:me?me[0]:0,tipo:lt});"object"===typeof o.ciudad&&(o.ciudad=o.ciudad.id),t.environment.api.transportistaRegistro(o).then((function(e){if(B(!1),"ok"===e.kind)Object(h.u)((function(){n.setUser(e.user),n.setApiToken(e.user.token),n.setModoUsoApp(e.user.modo_uso_app),a.reset()})),ue(!0),he("Registro realizado exitosamente");else if("bad-data"===e.kind){W(e.errors);var t=Object.keys(e.errors)[0];null!==t&&he(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning"),["first_name","last_name","email","nro_telefono","ciudades","contrasena","repetir_contrasena","nro_documento","fecha_nacimiento","imagen_perfil"].includes(t)||["registro_frente","registro_dorso","antecedentesj","antecedentesp","fecha_emision_antecedentes_judiciales","fecha_emision_antecedentes_policiales","registro_vencimiento"].includes(t)||["ruc","razon_social","constancia_ruc"].includes(t)?dn(sn.datosPersonales):["tipo_vehiculo","marca","modelo","ano","color","kilometraje","numero_chapa","numero_chassis","habilitacion_vencimiento","habilitacion_frente","habilitacion_dorso"].includes(t)?dn(sn.datosRodado):["nombre_direccion","calle_principal","calle_secundaria","numero","referencia","ubicacion","ciudad"].includes(t)?dn(sn.direccionCampos):dn(sn.datosPersonales)}else he("Ocurri\xf3 un error al conectar al servidor, vuelva a intentar en unos momentos","error")}))}else if(Pe(!0),G.nro_telefono&&12===G.nro_telefono.length){var l="web"===s.Capacitor.getPlatform()?mn:bn;dn(1),l(),he("Verifique su n\xfamero para continuar","warning")}else dn(1),he("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning");else Ae(!0)},children:[M&&Object(z.jsx)(b.z,{name:"crescent"}),!M&&Object(z.jsx)("span",{children:"Finalizar"})]})})]})]})]}),Object(z.jsx)(b.q,{isOpen:de,swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-transparent-full",children:Object(z.jsxs)(v.a.Dialog,{centered:!0,children:[Object(z.jsx)(v.a.Header,{children:Object(z.jsx)(v.a.Title,{style:{color:"#ff6f33"},children:"Registro finalizado"})}),Object(z.jsxs)(v.a.Body,{children:[Object(z.jsx)("div",{className:"text-center",children:Object(z.jsx)(y.a,{color:"#1DBF73",size:52,style:{marginBottom:10}})}),Object(z.jsx)("p",{children:"Gracias por registrarte en ABi! Actualmente nuestro equipo se encuentra verificando los datos ingresados y se pondr\xe1 en contacto contigo para realizar la verificaci\xf3n de la cuenta."})]}),Object(z.jsx)(v.a.Footer,{children:Object(z.jsxs)("button",{className:"btn btn-outline-orange my-2",onClick:function(){ue(!1),"web"===s.Capacitor.getPlatform()?document.location.href=I.p.INICIO:document.location.href=I.m.ROOT},children:[M&&Object(z.jsx)(b.z,{name:"crescent"}),!M&&Object(z.jsx)("span",{children:"Continuar"})]})})]})}),Object(z.jsx)(C.a,{ref:zt,lat:Ht,lng:Gt,onAccept:fn,color:"var(--naranja-transportista)"}),It&&Object(z.jsx)(N.s,{visible:!0,animate:wt,callback:function(e){if(console.log("modalCodigoFirebaseCallback",e),"-1"===e)return Tt(!0),yt(null),ft.current=!1,void At(ft.current);if(!e)return yt(null),ft.current=!1,void At(ft.current);if(!mt.current)return yt(null),ft.current=!1,At(ft.current),void he("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(xt(!0),ft.current=!1,At(ft.current),"web"===s.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(mt.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){xt(!1),Tt(!0),yt(null),he("N\xfamero verificado exitosamente")})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(he("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,At(ft.current)):yt(e.message),xt(!1),Tt(!1)})):(xt(!1),Tt(!1),he("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else u.a.signInWithVerificationId(mt.current,e).then((function(e){xt(!1),Tt(!0),yt(null),he("N\xfamero verificado exitosamente"),At(ft.current)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(he("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,At(ft.current)):yt(e),Tt(!1),xt(!1)}))},close:function(){ft.current=!1,At(ft.current)},color:"var(--naranja-transportista)",class_boton_aceptar:"btn-principal-transportista px-5 py-2"})]})}));t.a=M},495:function(e,t,n){"use strict";var a=n(24),c=(n(554),n(40)),i=n(161),r=n(3),o=n(1543),s=n(57),l=n(8),d=n(101),u=n(86),j=n(9),b=Object(i.a)((function(e){var t=Object(u.b)(),n=t.loginStore,i=Object(s.e)(),b=Object(r.useState)(!1),m=Object(a.a)(b,2),f=m[0],h=m[1],p=Object(r.useState)(""),O=Object(a.a)(p,2),x=O[0],g=O[1],v=Object(r.useState)(""),_=Object(a.a)(v,2),y=_[0],N=_[1],C=Object(r.useState)(""),w=Object(a.a)(C,2),k=w[0],S=w[1];return Object(j.jsxs)(c.q,{isOpen:!0,id:"modal-selector-modo",swipeToClose:!1,backdropDismiss:!1,children:[Object(j.jsx)(c.a,{isOpen:f,onDidDismiss:function(){return h(!1)},header:""!==x?x:"Cerrar sesi\xf3n",message:""!==y?y:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===k?Object(d.h)(t,i,10):"cambiar-transportista"===k?Object(d.h)(t,i,30):"cambiar-fabricante"===k?Object(d.h)(t,i,20):i.replace(l.m.LOGOUT)}}]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("smodo"),e.delete("i"),i.push(window.location.pathname+"?"+e.toString())},children:Object(j.jsx)(o.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(j.jsxs)("div",{className:"titulo-container",children:[Object(j.jsx)("div",{className:"titulo",children:"MODO DE USUARIO"}),Object(j.jsx)("div",{className:"subtitulo",children:"\xbfC\xf3mo quer\xe9s ver ABi?"})]}),Object(j.jsxs)("div",{className:"row modos",children:[Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){h(!0),g("Cambiar a modo compras"),N("Confirma que desea cambiar a modo compras?"),S("cambiar-usuario")},children:Object(j.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){n.isLoggedIn&&n.fabricante?(h(!0),g("Cambiar a modo proveedor"),N("Confirma que desea cambiar a modo proveedor?"),S("cambiar-fabricante")):i.push(l.o.HOME)},children:Object(j.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(n.isLoggedIn&&n.transportista)h(!0),g("Cambiar a modo driver"),N("Confirma que desea cambiar a modo driver?"),S("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),i.push(window.location.pathname+"?"+e.toString())}},children:Object(j.jsx)("img",{alt:"Modo driver",src:"assets/registro-driver.jpg"})})]})]})]})}));t.a=b},496:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));n(33);var a=n(24),c=(n(538),n(30)),i=n(40),r=n(531),o=n.n(r),s=n(524),l=n.n(s),d=n(161),u=n(3),j=n.n(u),b=n(1525),m=n(1526),f=n(1021),h=n(1513),p=n(1524),O=n(57),x=n(58),g=n(8),v=n(101),_=n(86),y=(n(539),n(1514)),N=n(571),C=n(505),w=n(197),k=n(9),S=Object(d.a)((function(e){var t=Object(O.e)(),n=Object(_.b)(),c=Object(v.J)(),r=n.loginStore,o=Object(u.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],j=Object(u.useState)(!1),b=Object(a.a)(j,2),m=b[0],f=b[1],p=Object(u.useState)(!1),x=Object(a.a)(p,2),S=x[0],I=x[1],A=Object(u.useState)(!1),R=Object(a.a)(A,2),E=R[0],P=R[1],T=e.isOpen,z=e.setShowModal;return Object(k.jsxs)(i.q,{isOpen:T,cssClass:"modal-side-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return z(!1)},children:[Object(k.jsx)(i.a,{isOpen:E,onDidDismiss:function(){return P(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return z(!1),void t.push(g.m.LOGOUT)}}]}),Object(k.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(k.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(k.jsxs)("div",{style:{display:"flex",width:"100%",background:"var(--naranja-abi)",paddingTop:20,height:128},children:[Object(k.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[Object(k.jsx)("a",{children:Object(k.jsx)("div",{className:"centrado-flex",style:{height:60,width:60,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},onClick:r.isLoggedIn?e.verPerfil:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())},children:Object(k.jsx)("img",{src:r.imagen_perfil?r.imagen_perfil:"assets/icon/person-line.png",className:"imagen-perfil "+(r.imagen_perfil?"imagen-perfil-side-menu":"contorno-person-side-menu")})})}),!r.isLoggedIn&&Object(k.jsx)("a",{style:{fontWeight:"bolder",marginLeft:10},onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),z(!1),t.push(window.location.pathname+"?"+e.toString())},children:"Iniciar sesi\xf3n"}),r.isLoggedIn&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"d-flex flex-column",style:{marginLeft:10},onClick:function(){t.push(g.m.CLIENTE),z(!1)},children:[Object(k.jsxs)("strong",{style:{lineHeight:1},children:["\xa1Hola,"," ",Object(k.jsxs)("span",{children:[r.first_name," ",r.last_name]}),"!"]}),Object(k.jsxs)("span",{style:{fontSize:12},children:["Id#",r.id]})]})})]}),Object(k.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(k.jsxs)("div",{style:{color:"var(--gris-oscuro-abi)",width:"99%"},children:[Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsx)("a",{onClick:function(){t.push(g.m.ROOT),z(!1)},style:{fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(k.jsx)("div",{style:{marginLeft:10,marginTop:"1rem"},children:Object(k.jsxs)("a",{onClick:function(){I(!S)},children:[Object(k.jsx)("span",{style:{fontWeight:S?"bold":"bolder"},children:"Categor\xedas"}),S?Object(k.jsx)(h.a,{}):Object(k.jsx)(y.a,{})]})}),S&&Object(k.jsx)(D,{setShowModal:z}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsxs)("a",{onClick:function(){f(!m)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:m?"bold":"bolder"},children:"Mis Compras"}),m?Object(k.jsx)(h.a,{}):Object(k.jsx)(y.a,{}),m&&Object(k.jsxs)("div",{className:"drop-side-menu",children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{onClick:function(){return t.push(g.m.PEDIDOS)},children:[Object(k.jsx)("img",{src:"assets/icon/historial.png",height:20,width:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Mis pedidos"})]})}),Object(k.jsxs)("a",{onClick:function(){if(r.isLoggedIn)t.push(g.m.FAVORITOS);else{c("Inicie sesi\xf3n para ver sus pedidos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)(N.c,{size:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){t.push("/carrito")},children:[Object(k.jsx)(N.f,{size:20,style:{fontWeight:"lighter"}}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Carrito"})]})]})]})}),Object(k.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(k.jsxs)("a",{onClick:function(){d(!l)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:l?"bold":"bolder"},children:"Ayuda"}),l?Object(k.jsx)(h.a,{}):Object(k.jsx)(y.a,{})]}),l&&Object(k.jsxs)("div",{className:"drop-side-menu",style:{height:250},children:[Object(k.jsxs)("a",{href:g.m.PREGUNTAS_FRECUENTES,style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Preguntas frecuentes",height:20,style:{marginRight:5},src:"assets/icon/info.png"}),Object(k.jsx)("span",{children:"Preguntas frecuentes"})]}),Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"Comentarios y Sugerencias",height:20,style:{marginRight:5},src:"assets/icon/comentarios.png"}),Object(k.jsx)("span",{children:"Comentarios y Sugerencias"})]}),Object(k.jsxs)("a",{onClick:function(){t.push(g.m.ROOT)},children:[Object(k.jsx)("img",{alt:"Pol\xedticas de privacidad",height:20,src:"assets/icon/documento.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Pol\xedticas de privacidad"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)(C.a,{size:20,style:{marginRight:5}}),Object(k.jsx)("span",{children:"Reportar un error"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Atenci\xf3n al cliente",height:20,src:"assets/icon/atencion-cliente.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Atenci\xf3n al cliente"})]})]}),Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},children:Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"T\xe9rminos y Condiciones",height:20,src:"assets/icon/documento.png"}),Object(k.jsx)("span",{children:"T\xe9rminos y Condiciones"})]})}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},onClick:function(){return P(!0)},children:Object(k.jsx)("span",{children:"Cerrar sesi\xf3n"})}),Object(k.jsxs)("div",{id:"release-container",children:["v",w.RELEASE.split("@")[1]]})]})]})]})})]})})),D=Object(d.a)((function(e){var t=Object(O.e)(),n=Object(_.b)().arbol,a=e.setShowModal,c=function e(n){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(n.id,n.nombre)),a(!1)},className:"ml-3",children:[n.icono&&Object(k.jsx)("img",{alt:n.nombre,src:n.icono,height:20,style:{marginRight:10}}),n.nombre]},n.id),!!n.hijos&&n.hijos.length>0&&n.hijos.map((function(t){return e(t)}))]})};return Object(k.jsx)("div",{className:"drop-side-menu",style:{height:300},children:n.map((function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,e.nombre)),a(!1)},className:"ml-1",children:[e.icono&&Object(k.jsx)("img",{alt:e.nombre,src:e.icono,height:20,style:{marginRight:10}}),e.nombre]},e.id),!!e.hijos&&e.hijos.length>0&&e.hijos.map((function(e){return c(e)}))]})}))})})),I=n(483),A=n(477),R=Object(d.a)((function(e){var t=Object(_.b)(),n=t.loginStore,r=t.carritoStore,s=t.favoritoStore,d=Object(u.useState)(!1),y=Object(a.a)(d,2),N=y[0],C=y[1],w=Object(u.useState)(!1),D=Object(a.a)(w,2),R=D[0],E=D[1],P=Object(u.useState)(!1),T=Object(a.a)(P,2),z=T[0],L=T[1],F=Object(O.e)(),M=/Mobi/.test(navigator.userAgent),B=Object(u.useState)(),U=Object(a.a)(B,2),q=U[0],H=U[1],W=Object(v.J)(),Y=Object(v.B)(),V=Object(u.useState)({}),G=Object(a.a)(V,2),J=(G[0],G[1],Object(u.useState)(!1)),Z=Object(a.a)(J,2),Q=Z[0],K=Z[1],X=Object(u.useState)(""),$=Object(a.a)(X,2),ee=$[0],te=$[1];Object(u.useEffect)((function(){H(ne())}),[q]);var ne=function(){var e=n.direcciones.find((function(e){return e.default}));return void 0===e?n.direcciones[0]:e},ae=function(e){F.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,Object(v.m)(e.nombre)))};j.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&te(e.get("s")||"")}),[]);var ce=function(){C(!1),n.administrador?F.push(g.m.ADMIN):20===n.modo_uso_app?F.push(g.o.PERFIL):10===n.modo_uso_app?F.push(g.m.CLIENTE):F.push(g.p.INICIO)},ie=function(e){13===e.keyCode&&re(e.target.value.trim())},re=function(e){F.push("".concat(g.m.BUSCAR).concat(e?"?s="+encodeURIComponent(e):""))};return Object(k.jsxs)("div",{style:{height:M?136:"auto"},children:[Object(k.jsx)(I.a,{visible:R,setDireccionPredeterminada:function(e){H(e)},onDismiss:function(e){return E(e)}}),Object(k.jsxs)(i.q,{isOpen:Q,cssClass:"modal-contacto",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return K(!1)},children:[Object(k.jsx)(i.j,{children:Object(k.jsxs)(i.C,{children:[Object(k.jsx)(i.A,{slot:"start",children:"Contacto"}),Object(k.jsx)(i.e,{slot:"end",onClick:function(){return K(!1)},children:Object(k.jsx)(b.a,{color:"#000",className:"mr-2"})})]})}),Object(k.jsx)("div",{className:"h-100 mt-4",children:Object(k.jsxs)("div",{className:"d-flex flex-column align-items-left justify-content-center h-75 mx-4 mt-2",children:[Object(k.jsxs)("a",{className:"mb-4 d-flex align-items-center justify-content-start btn btn-primary",href:"tel:+595981840840",children:[Object(k.jsx)(m.a,{size:18,className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Llamar"})]}),Object(k.jsxs)("a",{className:"mb-3 d-flex align-items-center justify-content-start btn btn-primary",target:"_blank",href:"https://wa.me/595981840840",children:[Object(k.jsx)(l.a,{style:{fontSize:20},className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Contactar por whatsapp"})]})]})})]}),Object(k.jsx)(i.a,{isOpen:z,onDidDismiss:function(){return L(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){C(!1),"web"!==c.Capacitor.getPlatform()?(C(!1),F.push(g.m.LOGOUT)):(C(!1),W("Sesi\xf3n finalizada","info"),Y(),document.location.href="/")}}]}),!M&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header",style:{position:"fixed",zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(k.jsx)("div",{className:"background-color-naranja-abi",style:{display:"flex",justifyContent:"center"},children:Object(k.jsxs)("div",{className:"container-lg top-cliente",children:[Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(n.isLoggedIn&&n.transportista)Object(v.h)(t,F,30);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),F.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)("span",{className:"icn-driver",children:A.a.driver}),Object(k.jsx)("span",{className:"texto-header",style:{marginLeft:"1px!important"},children:"Driver"})]}),Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(n.isLoggedIn&&n.fabricante)Object(v.h)(t,F,20);else if(M){var e=new URLSearchParams(window.location.search);e.set("registrop","1"),F.push(window.location.pathname+"?"+e.toString())}else F.push(g.o.HOME)},children:[Object(k.jsx)("span",{className:"icn-proveedor",children:A.a.proveedor}),Object(k.jsx)("span",{className:"texto-header",children:"Proveedor"})]})]}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:Object(x.m)(g.m.PEDIDOS,F),children:[Object(k.jsx)("span",{className:"icn-mis-pedidos",children:A.a.mis_pedidos}),Object(k.jsx)("span",{className:"texto-header",children:"Mis Pedidos"})]})}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){if(n.isLoggedIn)F.push(g.m.FAVORITOS);else{W("Inicie sesi\xf3n para ver sus favoritos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),F.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:A.a.favorito}),Object(k.jsx)("span",{className:s.cantidadFavoritos<10?"cantidad-favoritos-min-top background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top background-color-naranja-abi fuente-azul-abi",children:s.cantidadFavoritos?s.cantidadFavoritos:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){F.push("/carrito")},children:[Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:A.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top background-color-naranja-abi ":"cantidad-items-carrito-max-top background-color-naranja-abi ",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Carrito"})]}),n.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:ce,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(k.jsxs)("div",{className:"nombre-usuario-header",children:[n.first_name," ",n.last_name]}),Object(k.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",n.id]})]}),Object(k.jsx)("a",{className:"centrado-flex",onClick:ce,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:n.imagen_perfil?n.imagen_perfil:"assets/icon/person-line.png",width:n.imagen_perfil?50:30,height:n.imagen_perfil?50:30,style:n.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!n.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),F.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(k.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("sregistro","1"),F.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(k.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(k.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(k.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(k.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(k.jsx)("a",{title:"Ir al inicio",href:g.m.ROOT,onClick:function(e){e.preventDefault(),F.push(g.m.ROOT)},children:Object(k.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(k.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(k.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,onChange:function(e){te(e.target.value)},onKeyDown:ie}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20})})})]})}),Object(k.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:!!n.isLoggedIn&&!!(null===q||void 0===q?void 0:q.nombre)&&Object(k.jsx)("a",{children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:20},onClick:function(){E(!0)},children:[Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bold",height:25},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:g.d[q.icono]?g.d[q.icono]:"assets/icon/ubicacion-gray.png",style:{width:30,height:30,marginRight:3}}),Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bolder",height:22},children:null===q||void 0===q?void 0:q.nombre})]})]})})})]})}),Object(k.jsx)("div",{style:{backgroundColor:"#e0dbe2"},children:Object(k.jsx)("div",{className:"top container-lg mid-header-container",children:Object(k.jsx)("div",{className:"categorias-header",children:Object(k.jsx)("ul",{id:"mainmenu",className:"menu",children:Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{className:"toggle-principal-categoria-header",onClick:function(){return F.push(g.m.CATEGORIAS)},children:["Categor\xedas ",Object(k.jsx)(h.a,{size:16})]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.arbol.map((function e(t){return t.hijos.length?Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{onClick:function(){return ae(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.hijos.map(e)})})]}):Object(k.jsx)("li",{className:"dropdown",children:Object(k.jsxs)("a",{onClick:function(){return ae(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]})})}))})})]})})})})})]}),Object(k.jsx)("div",{style:{height:206}})]}),M&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header w-100",style:{position:"fixed",zIndex:999},children:[Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsx)("div",{onClick:function(){return C(!0)},className:"centrado-flex",children:Object(k.jsx)(o.a,{style:{fontSize:30}})}),n.isLoggedIn&&!!(null===q||void 0===q?void 0:q.nombre)&&Object(k.jsxs)("div",{className:"bloque-direccion",style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:10},onClick:function(){E(!0)},children:[Object(k.jsx)("span",{style:{fontWeight:"bold",height:25,color:"#fff"},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:"assets/icon/ubicacion-gray.png",className:"filter-invert-imagen",style:{width:M?20:30,height:M?20:30,marginRight:3}}),Object(k.jsx)("span",{className:"texto-direccion",style:{fontWeight:"bolder",height:22,color:"#fff"},children:q.nombre})]})]})]}),Object(k.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(k.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return F.push(g.m.ROOT)},children:A.a.abi})}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){return F.push(g.m.FAVORITOS)},children:[Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:" "}),Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:A.a.favorito}),Object(k.jsx)("span",{className:s.cantidadFavoritos<10?"cantidad-favoritos-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top-movil background-color-naranja-abi fuente-azul-abi",children:s.cantidadFavoritos?s.cantidadFavoritos:null})]})]}),Object(k.jsx)("a",{className:"boton-header-cliente",onClick:function(){F.push("/carrito")},children:Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:A.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-items-carrito-max-top-movil background-color-naranja-abi fuente-azul-abi",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]})})]})]}),Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsx)("div",{onClick:function(){return F.goBack()},children:Object(k.jsx)(p.a,{})}),Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,style:{},onChange:function(e){te(e.target.value)},onClick:function(){te("")},onKeyDown:ie}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(k.jsx)(S,{isOpen:N,setShowModal:function(e){C(e)},verPerfil:ce})]}),Object(k.jsx)("div",{className:"btn-whatsapp",children:Object(k.jsx)("a",{href:"https://wa.me/595981840840/?text=",target:"_blank",children:Object(k.jsx)("img",{src:"assets/btn_whatsapp.png",alt:""})})})]})}));t.b=R},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(551),n(3);var a=n(1514),c=n(57),i=n(8),r=n(477),o=n(9),s=function(e){var t=Object(c.e)(),n=e.links?e.links:[],s=!!e.Movil&&e.Movil,l=function(e){return e<n.length-1?Object(o.jsx)(a.a,{size:s?20:15}):null},d=Object(o.jsx)("a",{className:"link-sub-header",children:Object(o.jsxs)("div",{className:"",onClick:function(){return t.push(i.m.ROOT)},children:[r.a.abi,Object(o.jsx)(a.a,{size:s?20:15})]})});return Object(o.jsx)("div",{className:"margen-subheader sub-header-container",children:Object(o.jsxs)("div",{className:"d-flex align-items-center ".concat(s||e.noContainer?"px-3":"container-lg"),children:[d,!!e.links&&e.links.map((function(e,a){return Object(o.jsxs)("a",{onClick:function(){e.ruta&&t.push(e.ruta),e.callback&&e.callback()},style:a===n.length-1?{display:"flex",alignItems:"center",fontWeight:"bold",color:"var(--gris-oscuro-abi)"}:{display:"flex",alignItems:"center",fontWeight:"bolder",color:"var(--gris-oscuro-abi)"},children:[Object(o.jsx)("div",{className:"link-sub-header text-subheader-cliente ",children:e.titulo}),l(a)]},a)}))]})})}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(3);var a=n(161),c=n(40),i=n(9),r=Object(a.a)((function(e){var t=e.visible,n=e.max_height||"100vh";return t&&Object(i.jsx)("div",{className:"LoaderAdmin-wrapper",style:{display:"flex",height:n,overflowY:"scroll"},children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsx)("div",{className:"d-flex justify-content-center loader",children:Object(i.jsx)(c.z,{name:"crescent",className:"loadingSpinner"})})})})}));t.b=r},502:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(40),c=n(161),i=(n(3),n(1525)),r=n(57),o=(n(513),n(512)),s=n(9),l=(n(144).WSS_BASE_URL,Object(c.a)((function(e){var t=Object(r.e)(),n=Object(r.f)().search;return Object(s.jsx)(a.q,{isOpen:e.visible,id:"modal-chat",onDidDismiss:function(){e.setVisible(!1);var a=new URLSearchParams(n);a.delete("chat"),a.delete("pedido"),t.push(window.location.pathname+"?"+a)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-chat",children:Object(s.jsx)(o.a,{botonExtra:Object(s.jsx)("a",{onClick:function(){return e.setVisible(!1)},className:"ml-2",children:Object(s.jsx)(i.a,{color:"white",size:30})}),pedido:e.pedido,containerStyle:{flex:1}})})})));t.b=l},504:function(e,t,n){"use strict";var a=n(24),c=n(3),i=n.n(c),r=n(40),o=(n(485),n(506),n(507),n(508),n(478)),s=n(9),l=i.a.forwardRef((function(e,t){var n=Object(c.useState)(!1),i=Object(a.a)(n,2),l=i[0],d=i[1],u=Object(c.useState)(!1),j=Object(a.a)(u,2),b=j[0],m=j[1],f=Object(c.useState)(e.lat),h=Object(a.a)(f,2),p=h[0],O=h[1],x=Object(c.useState)(e.lng),g=Object(a.a)(x,2),v=g[0],_=g[1],y=Object(c.useState)(14),N=Object(a.a)(y,2),C=N[0],w=N[1],k=Object(c.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),S=Object(a.a)(k,2),D=S[0],I=S[1],A=Object(c.useState)(e.onAccept?[e.onAccept]:null),R=Object(a.a)(A,2),E=R[0],P=R[1],T=Object(c.useState)(e.userdata?[e.userdata]:null),z=Object(a.a)(T,2),L=z[0],F=z[1],M=Object(c.useState)(e.onCancel?[e.onCancel]:null),B=Object(a.a)(M,2),U=B[0],q=B[1],H=e.color||"#303AB2";Object(c.useImperativeHandle)(t,(function(){return{open:function(t,n,a){t&&P([t]),n&&q([n]),a&&F([a]),e.lat&&e.lng&&w(16),O(e.lat),_(e.lng),d(!0)},close:function(){W()}}}));var W=function(){m(!1),d(!1),U&&U[0](L?L[0]:null)};return Object(s.jsxs)(r.q,{isOpen:l,onDidDismiss:W,onDidPresent:function(){setTimeout((function(){m(!0)}),0)},children:[Object(s.jsx)(r.g,{children:b&&Object(s.jsx)(o.a,{lat:p,lng:v,zoom:C,center:D,ubicacion:function(e,t){O(e),_(t),I({lat:e,lng:t})},full_screen:!0,color:H})}),Object(s.jsx)(r.i,{children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:W,children:"Cancelar"}),Object(s.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0,backgroundColor:H,borderColor:H},onClick:function(){d(!1),m(!1),E&&p&&v&&E[0](p,v,L?L[0]:null)},children:"Confirmar"})]})})]})}));t.a=l},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var a=n(24),c=n(30),i=n(40),r=n(3),o=n.n(r),s=n(57),l=n(475),d=n(197),u=n(8),j=n(101),b=n(86),m=n(486),f=n(487),h=n(488),p=n(489),O=n(490),x=n(491),g=n(496),v=n(492),_=n(26),y=n(0),N=n.n(y),C=n(2),w=n(33),k=(n(550),n(479)),S=n(123),D=n(500),I=n(503),A=n(227),R=n(225),E=(n(286),n(18)),P=n(161),T=n(1524),z=n(1543),L=n(480),F=n.n(L),M=n(536),B=n.n(M),U=n(493),q=n(477),H=n(498),W=n(9),Y=n(198),V={nombre_empresa:"",razon_social:"",resena_empresa:"",ruc:"",nro_telefono_empresa:"",imagen_perfil:"",rubros:[],tipo_proveedor:0,nombre:"",apellido:"",fecha_nacimiento:"",email:"",contrasena:"",repetir_contrasena:"",nombre_punto_retiro:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,dias_apertura:[],hora_apertura:"",hora_cierre:""},G={imagen_perfil:""},J=0,Z=1,Q=2,K=3,X=4,$=5,ee=Object(P.a)((function(e){var t=e.movil,n=e.HeightDiv,c=e.loading,i=e.datos,o=e.setDato,s=e.setDatos,d=(e.guardar,e.errors),u=Object(b.b)(),m=u.loginStore,f=u.registroStore,h=Object(r.useState)(!e.noMostrarMapa),p=Object(a.a)(h,2),O=p[0],x=p[1],g=Object(j.J)(),v=Object(r.useRef)(),_=Object(r.useState)({lng:-57.63591,lat:-25.30066}),y=Object(a.a)(_,2),k=y[0],D=y[1],I=Object(r.useState)(null),A=Object(a.a)(I,2),R=A[0],E=A[1],P=Object(r.useState)(null),T=Object(a.a)(P,2),z=T[0],L=T[1],F=Object(r.useState)(null),M=Object(a.a)(F,2),B=M[0],q=M[1],H=Object(r.useState)(!1),Y=Object(a.a)(H,2),V=Y[0],G=Y[1];Object(r.useEffect)((function(){setTimeout((function(){return G(!0)}),700)}),[]),Object(r.useEffect)((function(){R&&z&&u.environment.api.infoCalle(R,z).then((function(e){if("ok"===e.kind&&e.response.info){var t=e.response.info,n=Object(w.a)({},i);t.calle&&(n.calle_principal={value:t.calle,label:t.calle}),t.ciudad_obj&&(n.ciudad=u.ciudades.find((function(e){return e.id===t.ciudad_obj.id}))),t.secondary&&(n.calle_secundaria={value:t.secondary,label:t.secondary}),m.isLoggedIn||(f.setDatoRegistroStore("calle_principal",n.calle_principal),f.setDatoRegistroStore("calle_secundaria",n.calle_secundaria),n.ciudad&&f.setDatoRegistroStore("ciudad",n.ciudad.id)),s(n)}})).catch()}),[R,z]),Object(r.useEffect)((function(){u.hasLocationPermission&&(V?J().catch((function(e){console.log(e),String(e).includes("location disabled")&&g("La ubicaci\xf3n est\xe1 desactivada.")})):setTimeout((function(){J().catch((function(e){console.log(e)}))}),700))}),[u.hasLocationPermission]);var J=function(){var e=Object(C.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,q([t.coords.latitude,t.coords.longitude]),E(t.coords.latitude),L(t.coords.longitude),D({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"paso-registro-container paso-direccion",style:Object.assign({},{height:n}),children:[O&&Object(W.jsx)(U.a,{cssButtom:"btn btn-primary px-5 py-1 my-3",ref:v,lat:R,lng:z,onAccept:function(e,t){E(e),L(t),D({lat:e,lng:t}),m.isLoggedIn||f.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),o("ubicacion",e+", "+t),x(!1)},Movil:!0}),!O&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"px-md-2",style:{overflowX:"hidden"},children:t&&V&&Object(W.jsx)(l.z,{lat:R,lng:z,zoom:R?16:14,center:k,bloquear_interaccion:!0,onClick:function(){return x(!0)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(W.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n."}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"px-5 container-sm",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Nombre de la tienda",tipo:"texto",campo:"nombre_punto_retiro",valor:i?i.nombre_punto_retiro:"",error:d&&d.nombre_punto_retiro,set_dato:o,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:i?i.calle_principal:"",error:d&&d.calle_principal,set_dato:function(e,t){t&&o(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(j.z)(u,o,s,i,"calle_principal",e)},opciones_select:function(e){return Object(j.g)(u,B,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:i?i.calle_secundaria:"",error:d&&d.calle_secundaria,set_dato:function(e,t){t&&o(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(j.z)(u,o,s,i,"calle_secundaria",e)},opciones_select:function(e){return Object(j.g)(u,B,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"N\xfamero de local",tipo:"texto",campo:"numero",valor:i?i.numero:"",error:d&&d.numero,set_dato:o,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsxs)("div",{className:"col-12 col-md-6 input-ciudad",style:{position:"relative"},children:[Object(W.jsx)(l.B,{titulo:"Ciudad",titulo_label:"",listado_elementos:u.ciudades,listado_elementos_seleccionados:i.ciudad,datos_filtrados:function(e){o("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0}),!i.ciudad&&Object(W.jsx)("span",{style:{position:"absolute",left:"25px",top:"10px"},children:"Ciudad"}),!!d.ciudad&&Object(W.jsx)("div",{className:"text-danger",children:d.ciudad})]}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Referencias (Color del port\xf3n, Numeraci\xf3n visible, Despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:i?i.referencia:"",error:d&&d.referencia,set_dato:o,columnas:12,set_dato_registro_store:!0})]})}),Object(W.jsx)(l.h,{className:"py-5 mt-1",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:e.callback,children:"Continuar"})})]})]})]})})),te=Object(P.a)((function(e){var t=Object(b.b)(),n=t.loginStore,o=t.registroStore,d=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),m=Object(r.useState)(!1),f=Object(a.a)(m,2),h=f[0],p=f[1],O=Object(r.useState)({}),x=Object(a.a)(O,2),g=x[0],v=x[1],y=Object(r.useState)(V),S=Object(a.a)(y,2),P=S[0],L=S[1],M=Object(r.useState)(!1),U=Object(a.a)(M,2),te=U[0],ne=U[1],ae=d?J:Z,ce=Object(r.useState)(ae),ie=Object(a.a)(ce,2),re=ie[0],oe=ie[1],se=Object(r.useRef)(ae),le=Object(s.e)(),de=Object(j.J)(),ue=Object(r.useState)(!1),je=Object(a.a)(ue,2),be=je[0],me=je[1],fe=Object(r.useState)(!1),he=Object(a.a)(fe,2),pe=he[0],Oe=he[1],xe=Object(r.useState)(!1),ge=Object(a.a)(xe,2),ve=ge[0],_e=ge[1],ye=Object(j.J)(),Ne=Object(r.useRef)(null),Ce=Object(r.useState)([]),we=Object(a.a)(Ce,2),ke=we[0],Se=we[1],De=Object(r.useState)(!0),Ie=Object(a.a)(De,2),Ae=Ie[0],Re=Ie[1],Ee=Object(r.useState)(0),Pe=Object(a.a)(Ee,2),Te=Pe[0],ze=Pe[1],Le=Object(r.useState)(0),Fe=Object(a.a)(Le,2),Me=Fe[0],Be=Fe[1],Ue=Object(r.useState)(""),qe=Object(a.a)(Ue,2),He=qe[0],We=qe[1],Ye=Object(j.C)((function(){return le.replace(u.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario"),Ve=Object(a.a)(Ye,2),Ge=(Ve[0],Ve[1],Object(r.useState)("")),Je=Object(a.a)(Ge,2),Ze=Je[0],Qe=(Je[1],Object(r.useState)("")),Ke=Object(a.a)(Qe,2),Xe=Ke[0],$e=Ke[1],et=Object(r.useState)(G),tt=Object(a.a)(et,2),nt=tt[0],at=tt[1],ct=Object(r.useRef)(""),it=Object(r.useRef)(!1),rt=Object(r.useState)(!1),ot=Object(a.a)(rt,2),st=ot[0],lt=ot[1],dt=Object(r.useState)(!1),ut=Object(a.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(r.useState)(!1),ft=Object(a.a)(mt,2),ht=ft[0],pt=ft[1],Ot=Object(r.useState)(""),xt=Object(a.a)(Ot,2),gt=xt[0],vt=xt[1],_t=Object(r.useState)(0),yt=Object(a.a)(_t,2),Nt=yt[0],Ct=yt[1];Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||ae+"");oe(t)}),[t.locationSearch]),Object(r.useEffect)((function(){ze(d?window.innerWidth<=500?window.innerHeight-150:800:"100%")}),[d]),Object(r.useEffect)((function(){re===$&&Ct(25)}),[re]),Object(r.useEffect)((function(){if(Nt>0){var e=setTimeout((function(){return Ct(Nt-1)}),1e3);return function(){return clearTimeout(e)}}}),[Nt]);var wt=Object(r.useState)(0),kt=Object(a.a)(wt,2),St=kt[0],Dt=kt[1],It=Object(r.useRef)(0),At=Object(r.useRef)(null);Object(r.useEffect)((function(){jt&&(At.current=setInterval((function(){Dt(It.current+1),It.current=It.current+1,It.current>6&&clearInterval(At.current)}),100))}),[jt]);Object(r.useEffect)((function(){!function(){if("web"!==c.Capacitor.getPlatform()&&("android"===c.Capacitor.getPlatform()?I.a.backgroundColorByHexString("#2f39b2"):"ios"===c.Capacitor.getPlatform()&&(document.body.style.background="#2f39b2"),D.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),n.isLoggedIn){o.reset();var e=Object(w.a)({},V);L(Object(w.a)(Object(w.a)({},e),{},{nombre:n.first_name?n.first_name:"",apellido:n.last_name?n.last_name:"",fecha_nacimiento:n.fecha_nacimiento?Y(n.fecha_nacimiento).format("DD/MM/YYYY"):"",email:n.email?n.email:""}))}else setTimeout(Object(C.a)(N.a.mark((function e(){var n,a,c,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setTipoFormulario(20),n=t.rubros.filter((function(e){return o.rubros.includes(e.id)})),!o.imagen_perfil){e.next=7;break}return e.next=5,A.a.getFilefromDataUrl(o.imagen_perfil,"imagen_perfil");case 5:a=e.sent,Mt("imagen_perfil",o.imagen_perfil);case 7:c=o.fecha_nacimiento,i=o.nro_telefono,Y(c).isValid()||(c=""),"09__-___-___"===i&&(i=""),L({tipo_proveedor:o.tipo_proveedor?o.tipo_proveedor:0,nombre:o.first_name?o.first_name:"",apellido:o.last_name?o.last_name:"",fecha_nacimiento:c||"",imagen_perfil:a,email:o.email?o.email:"",nombre_punto_retiro:o.nombre_punto_retiro?o.nombre_punto_retiro:"",calle_principal:o.calle_principal?o.calle_principal:"",calle_secundaria:o.calle_secundaria?o.calle_secundaria:"",referencia:o.referencia?o.referencia:"",ubicacion:o.ubicacion?o.ubicacion:"",ciudad:o.ciudad?o.ciudad:0,numero:o.numero?o.numero:"",dias_apertura:o.dias_apertura?o.dias_apertura:[],hora_apertura:o.hora_apertura?o.hora_apertura:"07:00",hora_cierre:o.hora_cierre?o.hora_cierre:"20:00",nombre_empresa:o.nombre_empresa?o.nombre_empresa:"",nro_telefono_empresa:o.nro_telefono_empresa?o.nro_telefono_empresa:"",razon_social:o.razon_social_empresa?o.razon_social_empresa.trim():"",ruc:o.ruc_empresa?o.ruc_empresa:"",resena_empresa:o.resena_empresa?o.resena_empresa:"",rubros:n,contrasena:"",repetir_contrasena:""});case 12:case"end":return e.stop()}}),e)}))),500);setTimeout((function(){return ne(!0)}),700),Rt()}()}),[]);var Rt=function(){t.ciudades.length||(p(!0),t.actualizarDatosInicio(!1).then((function(){p(!1)})))},Et=function(){v(V),me(!0);var e=P.calle_principal,a=P.calle_secundaria,c=Object(w.a)(Object(w.a)({},P),{},{calle_principal:e?e.value:"",calle_secundaria:a?a.value:"",nro_telefono_empresa:Object(j.p)(P.nro_telefono_empresa)});"object"===typeof c.ciudad&&(c.ciudad=c.ciudad.id),t.environment.api.fabricanteRegistro(c).then((function(e){if(p(!1),me(!1),"ok"===e.kind)Object(E.u)((function(){n.setUser(e.user),n.setApiToken(e.user.token),n.setModoUsoApp(e.user.modo_uso_app),o.reset()})),de("Proveedor registrado satisfactoriamente","success"),le.push(u.o.REGISTRO_SUCCESS);else if("bad-data"===e.kind){v(e.errors),Re(!0);var t=Object.keys(e.errors).length?Object.keys(e.errors)[0]:null;"nombre_empresa"===t||"razon_social"===t||"ruc"===t||"nro_telefono_empresa"===t||"resena_empresa"===t||"nombre"===t||"apellido"===t||"nro_documento"===t||"email"===t||"contrasena"===t||"repetir_contrasena"===t?zt(Z):"imagen_perfil"===t||"rubros"===t||"tipo_proveedor"===t?zt(Q):"dias_apertura"===t||"hora_apertura"===t||"hora_cierre"===t?zt(X):"nombre_punto_retiro"===t||"calle_principal"===t||"calle_secundaria"===t||"numero"===t||"referencia"===t||"ubicacion"===t||"ciudad"===t?(zt(K),Re(!1)):null!==t&&de(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning")}}))},Pt=function(e,t){var n=Object(w.a)({},P);n[e]=t,L(n),o.setDatoRegistroStore(e,t)},Tt=function(e){Pt("tipo_proveedor",e[0]),o.setDatoRegistroStore("tipo_proveedor",e[0])},zt=function(e){!function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),oe(e),le.push(window.location.pathname+"?"+t.toString())}(e),se.current=e,oe(e),Ne&&Ne.current&&Ne.current.scrollTop()},Lt=function(e,t){Pt(e,t)},Ft=function(){var e=Object(C.a)(N.a.mark((function e(t,a){var i,r,s,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("imgSelected",t),"web"===c.Capacitor.getPlatform()){e.next=6;break}return e.next=4,k.a.readFile({path:t});case 4:i=e.sent,t="data:image/jpeg;base64,".concat(i.data);case 6:return e.next=8,fetch(t).then((function(e){return e.blob()}));case 8:return r=e.sent,e.next=11,Object(j.k)(r,a,Bt);case 11:return s=e.sent,Mt("imagen_perfil",t),We(a),Pt(a,s),e.next=17,A.a.getDataUrlFromFile(s);case 17:l=e.sent,n.isLoggedIn||o.setDatoRegistroStore(a,l);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(e,t){var n=Object(w.a)({},nt);n[e]=t,at(n)},Bt=function(e){Be(e),100===e?(p(!1),setTimeout((function(){Be(0),We("")}),500)):p(!0)};Object(r.useEffect)((function(){var e=null;return"web"!==c.Capacitor.getPlatform()&&(e=D.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&it.current&&(bt(!0),setTimeout((function(){pt(!0),ye("N\xfamero verificado exitosamente"),it.current=!1,Et()}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var Ut=function(){var e=Object(C.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===P.nro_telefono_empresa.length){e.next=3;break}return ye("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:o.setDatoRegistroStore("nro_telefono_empresa",P.nro_telefono_empresa),ht&&pt(!1),D.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),lt(!0),bt(!1),setTimeout((function(){it.current=!0}),2e3),t=Object(j.p)(P.nro_telefono_empresa),D.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lt(!1),!ht){e.next=3;break}return e.abrupt("return");case 3:ct.current=t,it.current=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),pt(!1),lt(!1),it.current=!1,ye("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){("web"===c.Capacitor.getPlatform()?Ht:Ut)()},Ht=function(){if(12===P.nro_telefono_empresa.length){o.setDatoRegistroStore("nro_telefono_empresa",P.nro_telefono_empresa),lt(!0);var e=Object(j.p)(P.nro_telefono_empresa),t=new R.a.auth.RecaptchaVerifier("recaptcha-container");(new R.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){it.current=!0,lt(!1),ct.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e,e.message),lt(!1),pt(!1),ye("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else ye("Ingrese un n\xfamero v\xe1lido","warning")},Wt=function(e){if(console.log("modalCodigoFirebaseCallback",e),e){if(!ct.current)return it.current=!1,void ye("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(lt(!0),it.current=!1,"web"===c.Capacitor.getPlatform()){var t=R.a.auth.PhoneAuthProvider.credential(ct.current,e);void 0!==t?R.a.auth().signInWithCredential(t).then((function(e){lt(!1),pt(!0),ye("N\xfamero verificado exitosamente"),Et()})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&ye("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),lt(!1),pt(!1)})):(lt(!1),pt(!1),ye("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else D.a.signInWithVerificationId(ct.current,e).then((function(e){lt(!1),pt(!0),ye("N\xfamero verificado exitosamente"),Et()})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&(ye("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),it.current=!0),pt(!1),lt(!1)}))}else it.current=!1};Object(r.useEffect)((function(){te||setTimeout((function(){return ne(!0)}),300)}),[te]),Object(r.useEffect)((function(){re===J?($e("\xa1Registra tu tienda!"),Se([{titulo:"Registro"}])):re===Z?($e("Datos de la tienda"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"}])):re===K?($e("Direcci\xf3n del local"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Direcci\xf3n del local"}])):re===X?($e("Horario de atenci\xf3n"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Horario de atenci\xf3n"}])):re===$&&($e("Verificaci\xf3n"),Se([{titulo:"Registro"},{titulo:"Verificaci\xf3n"}]),ht||(lt(!0),setTimeout(qt,500)))}),[re]);var Yt=Object(W.jsxs)("div",{className:"paso-registro-container",style:{height:Te,overflowY:"auto"},children:[Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"\xa1Registr\xe1 tu tienda!"})]}),Object(W.jsxs)("div",{className:"container-lg",style:{padding:"10px 15px"},children:[Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"RUC",tipo:"texto",campo:"ruc",valor:P?P.ruc:"",error:g&&g.ruc,set_dato:Lt,campo_blur:!0,set_dato_blur:function(e){if("ruc"===e){var n=P.ruc.indexOf("-")>0?{ruc:P.ruc}:{documento:P.ruc};t.environment.api.consultarRuc(n).then((function(e){if("ok"===e.kind){var t=e.response.result;if(t){var n={ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social};L(Object.assign({},P,n))}}})).catch((function(){}))}},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:P?P.razon_social:"",error:g&&g.razon_social,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Nombre de la Empresa",tipo:"texto",campo:"nombre_empresa",valor:P?P.nombre_empresa:"",error:g&&g.nombre_empresa,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:P?P.email:"",error:g&&g.email,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!ht,titulo:"09xx123456",tipo:"telefono-simple",campo:"nro_telefono_empresa",valor:P?P.nro_telefono_empresa:"",set_dato:Lt,columnas:12,columnas_sm:12,error:g&&g.nro_telefono_empresa,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!n.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:P?P.nombre:"",error:g&&g.nombre,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!n.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"apellido",valor:P?P.apellido:"",error:g&&g.apellido,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:P?P.fecha_nacimiento:"",error:g&&g.fecha_nacimiento,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),!n.isLoggedIn&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:P?P.contrasena:"",error:g&&g.contrasena,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:P?P.repetir_contrasena:"",error:g&&g.repetir_contrasena,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0})]})]}),Object(W.jsx)("div",{className:"text-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){!function(){var e={};return(!P.ruc||!P.ruc.trim()||P.ruc.length<5)&&(e.ruc="Ingrese un RUC v\xe1lido"),(!P.razon_social||!P.razon_social.trim()||P.razon_social.length<5)&&(e.razon_social="Ingrese una raz\xf3n social v\xe1lida"),(!P.nombre_empresa||!P.nombre_empresa.trim()||P.nombre_empresa.length<4)&&(e.nombre_empresa="Ingrese un nombre de empresa v\xe1lido"),P.email&&P.email.trim()&&!1!==/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P.email)||(e.email="Ingrese un correo v\xe1lido"),P.nro_telefono_empresa&&!1!==/^[0-9\-]{12}$/.test(P.nro_telefono_empresa)||(e.nro_telefono_empresa="Ingrese un n\xfamero v\xe1lido"),P.nombre&&P.nombre.trim()||(e.nombre="Ingrese su nombre"),P.apellido&&P.apellido.trim()||(e.apellido="Ingrese su apellido"),P.fecha_nacimiento&&Y(P.fecha_nacimiento,"DD/MM/YYYY").isValid()||(e.fecha_nacimiento="Ingrese una fecha de nacimiento v\xe1lida"),n.isLoggedIn||((!P.contrasena||P.contrasena.length<6)&&(e.contrasena="Ingrese una contrase\xf1a de por lo menos 6 d\xedgitos"),P.repetir_contrasena!==P.contrasena&&(e.repetir_contrasena="La contrase\xf1a no coincide con la anterior")),v(e),Object.keys(e).length<1}()?de("Corrija los errores para continuar","warning"):zt(Q)},children:"Registrarme"})})]}),Object(W.jsx)(l.h,{movil:!0,children:!n.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("registrop"),e.delete("i"),e.set("login","1"),le.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]}),Vt=Object(W.jsxs)("div",{className:"paso-registro-container container-lg paso-datos-usuario",style:Object.assign({},{height:Te}),children:[Object(W.jsx)("div",{children:Object(W.jsx)(l.w,{titulo_modal:"Sub\xed tu logotipo",titulo_label:"Sub\xed tu logotipo "+("imagen_perfil"===He&&Me>0?Me+"%":""),helptext:"",img_path:"assets/id.png",on_select:Ft,userdata:"imagen_perfil",preview:""!==nt.imagen_perfil?nt.imagen_perfil:"",source:0,editor:!1,perfil:!0,infoTitulo:"Logotipo",infoBody:"Sub\xed el logo de tu empresa en formato jpg o png.",modal_info_css_class:"",titulo_boton:" "})}),Object(W.jsxs)("div",{className:"row",children:[Object(W.jsxs)("div",{className:"col-12 col-md-6",children:[Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return zt(K)},children:"Direcci\xf3n del local"}),Object(W.jsx)("span",{className:"direccion-icon-info ml-2 cpointer",onClick:function(){return Oe(!0)},children:q.a.info})]}),Object(W.jsx)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 text-md-right",children:Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return zt(X)},children:"Horario de atenci\xf3n"})}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Rubros:"})}),Object(W.jsx)(l.B,{titulo:"Rubros",titulo_label:"",listado_elementos:t.rubros,listado_elementos_seleccionados:P.rubros?P.rubros:[],datos_filtrados:function(e){Pt("rubros",e),o.setDatoRegistroStore("rubros",e)},multiple:!0,llave_label_opcion:"nombre"}),!!g.rubros&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.rubros})]}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Tipo de Proveedor:"})}),Object(W.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"0.5rem"},children:[Object(W.jsx)(i.f,{onClick:function(e){Tt([20])},checked:20===P.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Empresa"})})]}),Object(W.jsxs)("div",{className:"d-flex align-items-center ml-2 ml-md-0",style:{gap:"0.5rem"},children:[Object(W.jsx)(i.f,{onClick:function(){return Tt([10])},checked:10===P.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Emprendedor"})})]})]})]}),!!g.tipo_proveedor&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.tipo_proveedor}),Object(W.jsxs)("div",{className:"d-flex flex-column pt-3 mt-2",children:[Object(W.jsxs)("p",{className:"text-center",children:["Al continuar, acepta las"," ",Object(W.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:"Condiciones de Uso"}),"."]}),Object(W.jsx)("button",{className:"btn btn-primary align-self-center py-1 px-5",onClick:function(){if(function(){var e={};return(!P.rubros||P.rubros.length<1)&&(e.rubros="Seleccione el rubro de la empresa"),P.tipo_proveedor||(e.tipo_proveedor="Seleccione su tipo de proveedor"),v(e),Object.keys(e).length<1}()){if(!Jt(!1))return de("Complete la direcci\xf3n del local","warning"),void zt(K);if(P.imagen_perfil)return P.dias_apertura&&0!=P.dias_apertura.length&&P.hora_apertura&&P.hora_cierre?void(ht?Et():zt($)):(de("Complete el horario de atenci\xf3n","warning"),void zt(X));de("Ingrese un logotipo","warning")}else de("Corrija los errores para continuar","warning")},disabled:be,children:"Continuar"})]})]}),Gt=Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsxs)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{textAlign:"center",background:"#f9f9f9",flexGrow:1},children:[Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Apertura"}),Object(W.jsx)("div",{className:"row justify-content-center form-control-container",children:Object(W.jsxs)("div",{className:"col-10 col-md-4 py-2 input-hora",children:[Object(W.jsx)(F.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Pt("hora_apertura",e.target.value)},value:P.hora_apertura}),"Hs."]})}),!!g.hora_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_apertura})]}),Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Cierre"}),Object(W.jsx)("div",{className:"row justify-content-center py-2",children:Object(W.jsxs)("div",{className:"col-10 col-md-6 form-control-container input-hora",children:[Object(W.jsx)(F.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Pt("hora_cierre",e.target.value)},value:P.hora_cierre}),"Hs."]})}),!!g.hora_cierre&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_cierre})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"subtitulo",children:"D\xedas de atenci\xf3n"}),Object(W.jsxs)("div",{className:"",children:[Object(W.jsx)("div",{className:"py-3",children:u.a.map((function(e,t){var n=P.dias_apertura.findIndex((function(t){return t===e.id}));return Object(W.jsx)("a",{onClick:function(){var t=Object(_.a)(P.dias_apertura);-1!==n?t.splice(n,1):t.push(e.id),Pt("dias_apertura",Object(_.a)(t))},className:"dia-apertura ".concat(t>0?"ml-3":""),style:-1!==n?{color:"var(--azul-fabricante)"}:{},children:Object(W.jsx)("strong",{children:e.dia[0]})},e.id)}))}),!!g.dias_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.dias_apertura})]})]})]}),Object(W.jsx)(l.h,{className:"py-3 mt-1 footer-hora",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return zt(Q)},children:"Guardar"})})]}),Jt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return P.nombre_punto_retiro&&P.nombre_punto_retiro.trim()||(t.nombre_punto_retiro="Ingrese el nombre del punto de retiro"),P.numero&&P.numero.trim()||(t.numero="Ingrese el n\xfamero de casa"),P.ciudad||(t.ciudad="Ingrese la ciudad"),P.calle_principal||(t.calle_principal="Ingrese la calle principal"),P.calle_secundaria||(t.calle_secundaria="Ingrese la calle secundaria"),P.referencia&&P.referencia.trim()||(t.referencia="Ingrese las referencias"),e&&v(t),Object.keys(t).length<1},Zt=function(){Jt()?zt(Q):de("Corrija los errores para continuar","warning")};return Object(W.jsxs)(i.q,{isOpen:!0,cssClass:"modal-registro-fabricante",swipeToClose:!1,backdropDismiss:!1,children:[d&&Object(W.jsx)(l.k,{titulo:Xe,sub_titulo:Ze,accion_boton_centro:function(){},botonIzquierdo:Object(W.jsx)("a",{onClick:function(){return le.goBack()},children:Object(W.jsx)(T.a,{color:"white"})})}),d&&Object(W.jsx)(H.a,{links:ke}),Object(W.jsx)(l.q,{isOpen:pe,color:"var(--azul-fabricante)",titulo:"Direcci\xf3n legal",close:function(){return Oe(!1)},children:Object(W.jsx)("span",{children:"Es la direcci\xf3n de tu tienda, de la cual los drivers podr\xe1n retirar los produtos comprados en ABi."})}),Object(W.jsx)(l.q,{isOpen:ve,close:function(){return _e(!1)},titulo:"Sede de la tienda",color:"var(--azul-fabricante)",children:Object(W.jsxs)("a",{href:"https://www.google.com/maps/d/viewer?mid=1xA92pESqpaKXUViqQxrOBWtaIMTYuJVu&usp=sharing",target:"_blank",children:[Object(W.jsx)("p",{children:"Comprob\xe1 que tu tienda tenga sede dentro del radio de alcance de ABi."}),Object(W.jsx)("img",{src:"assets/cobertura-proveedor.svg",style:{width:"100%"}}),Object(W.jsxs)("p",{style:{textAlign:"center",color:"var(--azul-fabricante)",textDecoration:"underline",fontWeight:"bolder"},children:[" ","\xc1rea de cobertura"]})]})}),Object(W.jsxs)("div",{id:"contenido-registro",children:[re>0&&Object(W.jsx)("div",{className:"btn-atras",onClick:function(){return le.goBack()},children:Object(W.jsx)(T.a,{color:"var(--gris-oscuro-abi)",size:30})}),Object(W.jsx)("div",{className:"page-wrapper",id:"pasos-registro",style:{display:"flex",flex:1},children:Object(W.jsxs)("div",{className:"pasos-registro-container",children:[re===Z&&Yt,re===$&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsxs)("div",{className:"",style:{flex:1,display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[Object(W.jsx)("div",{children:Object(W.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),ht&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:Object(W.jsx)("span",{children:"Su n\xfamero ya fue verificado."})})}),!st&&!ht&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:Object(W.jsx)("div",{style:{textAlign:"center"},children:Object(W.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",o.nro_telefono_empresa,"."," "]})})}),Object(W.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[St<1&&Object(W.jsx)(B.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return vt(e)},onComplete:function(e){Wt(e)}}),St>=1&&Object(W.jsx)("div",{className:"input-dot",children:"\u2022"}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:55},children:St>=2?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:100},children:St>=3?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:145},children:St>=4?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:190},children:St>=5?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:235},children:St>=6?"\u2022":""})]}),Object(W.jsxs)("div",{style:{textAlign:"center"},children:[Object(W.jsx)("p",{className:"cpointer text-center",onClick:function(){pt(!0),it.current=!1,Et()},children:"Omitir este paso"}),Object(W.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(W.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(W.jsxs)("a",{onClick:0===Nt?function(){return qt()}:function(){},children:[Object(W.jsx)("span",{color:"var(--azul-fabricante)",children:" nuevo c\xf3digo"})," ",Nt>0&&Object(W.jsxs)("span",{children:["en ",Nt," seg."]})]})]})]}),Object(W.jsx)("div",{children:Object(W.jsx)("a",{href:"https://wa.me/595981840840",children:Object(W.jsx)("h5",{color:"var(--azul-fabricante)",children:"Contactanos"})})})]})]}),Object(W.jsxs)("div",{className:"",children:[!ht&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){Wt(gt)},disabled:be,children:"Continuar"})}),ht&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return Et()},disabled:be,children:"Continuar"})})]})]}),(re===Q||!d&&re===K||!d&&re===X)&&Vt,d&&re===K&&Object(W.jsx)(ee,{HeightDiv:Te,datos:P,errors:g,guardar:function(){return Et()},loading:h,movil:d,setDato:function(e,t){return Pt(e,t)},setDatos:function(e){return L(e)},callback:Zt,noMostrarMapa:!Ae}),d&&re===X&&Gt,d&&re===J&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsx)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{flex:1,gap:"3rem"},children:Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-between",style:{flex:1},children:[Object(W.jsxs)("div",{className:"mt-4 container-sm",children:[Object(W.jsx)("p",{children:"Registr\xe1 tu tienda en simples pasos y empez\xe1 a crecer con nosotros."}),Object(W.jsx)("p",{children:Object(W.jsx)("strong",{children:"Requisitos para ser Proveedor ABi:"})}),Object(W.jsxs)("ol",{children:[Object(W.jsx)("li",{children:"Tener mayor\xeda de edad legal."}),Object(W.jsxs)("li",{children:["Tu tienda debe tener sede dentro de Asunci\xf3n y el departamento central."," ",Object(W.jsx)("img",{src:"assets/icon/info.png",style:{height:"1.5rem",width:"1.5rem"},onClick:function(){return _e(!0)}})]}),Object(W.jsx)("li",{children:" Contar con Factura legal."}),Object(W.jsx)("li",{children:" Poseer un n\xfamero de tel\xe9fono y un correo electr\xf3nico."}),Object(W.jsx)("li",{children:"Ser titular de una cuenta bancaria, cooperativa o una billetera digital para que puedas recibir los pagos v\xeda Internet."})]})]}),Object(W.jsxs)("div",{className:"btn-preguntas",onClick:function(){return le.push("".concat(u.m.PREGUNTAS_FRECUENTES,"?c=Proveedor ABi"))},children:[q.a.info," Preguntas frecuentes"]}),Object(W.jsxs)("a",{className:"btn-contacto",href:"https://wa.me/595981840840",target:"_blank",children:[q.a.atencion_cliente," Contactanos"]}),Object(W.jsx)("div",{className:"d-flex justify-content-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-2 px-5 my-3",onClick:function(){return zt(d?Z:Q)},children:"Registrarme"})})]})}),Object(W.jsx)(l.h,{movil:!0,children:!n.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("a",{children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]})]})}),!d&&Object(W.jsxs)("div",{className:"derecha-container-registro-abi",style:{borderLeft:"var(--gris-claro) solid 0.2rem"},children:[re!==X&&re!==K&&Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-center h-100",children:[Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#b4d1e3"},children:Object(W.jsx)("div",{className:"pr-4 pt-4",style:{display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)("a",{onClick:function(){return le.push(u.m.ROOT)},children:Object(W.jsx)(z.a,{color:"white"})})})}),Object(W.jsx)("div",{className:"banner-fabricante"}),Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#d7dfe9"}})]}),re===X&&Gt,re===K&&Object(W.jsx)(ee,{HeightDiv:Te,datos:P,errors:g,guardar:function(){return Et()},loading:h,movil:d,setDato:function(e,t){return Pt(e,t)},setDatos:function(e){return L(e)},callback:Zt,noMostrarMapa:!Ae})]})]})]})})),ne=te,ae=n(494),ce=(n(553),Object(P.a)((function(e){var t=Object(b.b)(),n=t.loginStore,c=Object(s.e)(),o=Object(r.useState)(!1),l=Object(a.a)(o,2),d=l[0],m=l[1],f=Object(r.useState)(""),h=Object(a.a)(f,2),p=h[0],O=h[1],x=Object(r.useState)(""),g=Object(a.a)(x,2),v=g[0],_=g[1],y=Object(r.useState)(""),N=Object(a.a)(y,2),C=N[0],w=N[1];Object(j.J)();return Object(W.jsxs)(i.q,{isOpen:!0,id:"modal-selector-registro",swipeToClose:!1,backdropDismiss:!1,children:[Object(W.jsx)(i.a,{isOpen:d,onDidDismiss:function(){return m(!1)},header:""!==p?p:"Cerrar sesi\xf3n",message:""!==v?v:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===C?Object(j.h)(t,c,10):"cambiar-transportista"===C?Object(j.h)(t,c,30):"cambiar-fabricante"===C?Object(j.h)(t,c,20):c.replace(u.m.LOGOUT)}}]}),Object(W.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.delete("i"),c.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)(z.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"Eleg\xed el tipo de cuenta que quer\xe9s crear"})]}),Object(W.jsxs)("div",{className:"row modos",children:[Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(n.isLoggedIn)m(!0),O("Cambiar a modo compras"),_("Confirma que desea cambiar a modo compras?"),w("cambiar-usuario");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registro","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(n.isLoggedIn&&n.fabricante)m(!0),O("Cambiar a modo proveedor"),_("Confirma que desea cambiar a modo proveedor?"),w("cambiar-fabricante");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrop","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(n.isLoggedIn&&n.transportista)m(!0),O("Cambiar a modo driver"),_("Confirma que desea cambiar a modo driver?"),w("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrot","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-driver.jpg"})})]}),Object(W.jsxs)("div",{className:"mfooter",children:[Object(W.jsx)("div",{children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("div",{className:"login-btn",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("login","1"),c.push(window.location.pathname+"?"+e.toString())},children:"Iniciar Sesi\xf3n"})]})]})}))),ie=n(495),re=n(497),oe=o.a.forwardRef((function(e,t){var n=Object(b.b)(),o=Object(s.e)(),_=n.loginStore,y=Object(r.useState)(null),N=Object(a.a)(y,2),C=N[0],w=N[1],k=Object(r.useState)(!1),S=Object(a.a)(k,2),D=S[0],I=S[1],A=Object(r.useState)(!1),R=Object(a.a)(A,2),E=R[0],P=R[1],T=Object(r.useState)(!1),z=Object(a.a)(T,2),L=z[0],F=z[1],M=Object(r.useState)(!1),B=Object(a.a)(M,2),U=B[0],q=B[1],H=Object(r.useState)(!1),Y=Object(a.a)(H,2),V=Y[0],G=Y[1],J=Object(r.useState)(!1),Z=Object(a.a)(J,2),Q=Z[0],K=Z[1],X=Object(r.useRef)(null),$=Object(r.useRef)(null),ee=Object(r.useRef)(!0),te="web"!==c.Capacitor.getPlatform(),oe=e.header||Object(W.jsx)(g.b,{obtener_datos:e.obtener_datos}),se=e.footer||te?null:Object(W.jsx)(x.a,{content:X,container:$}),le=e.pageStyles||{display:"flex"},de=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ue=Object(s.f)();if(Object(i.N)((function(){ee.current=!0})),Object(i.M)((function(){ee.current=!1})),Object(r.useEffect)((function(){n.updateCurrentPath(ue)}),[ue]),Object(r.useEffect)((function(){var t=e.metaTags;t&&t.forEach((function(e){return function(e){var t=document.querySelector("meta[name='".concat(e.name,"']"));t&&t.remove();var n=document.createElement("meta");n.name=e.name,n.content=e.content,document.getElementsByTagName("head")[0].appendChild(n)}(e)}))}),[e.metaTags]),Object(r.useEffect)((function(){if(ee.current){n.setEsMovil(de);var e=new URLSearchParams(window.location.search),t="1"===e.get("registro"),a="1"===e.get("login"),c=t?"registro":a?"login":null;c?(null===C&&e.get("i")&&(e.delete("i"),o.push(window.location.pathname+"?"+e.toString())),I(!0),w(c)):C&&!c&&w(null);var i="1"===e.get("registrot");P(i);var r="1"===e.get("registrop");F(r);var s="1"===e.get("sregistro"),l="1"===e.get("smodo");q(s),G(l)}}),[window.location.search]),Object(r.useEffect)((function(){var t=n.minBuild>d.BUILD;(de||"web"!==c.Capacitor.getPlatform())&&K(t),e.login_required&&!_.isLoggedIn?w("login"):void 0!==e.solo_admin&&e.solo_admin&&(_.administrador||(alert("No posee permisos para acceder a la p\xe1gina"),document.location.href="/"))}),[]),Object(r.useEffect)((function(){20===_.modo_uso_app&&_.fabricante_id&&Object(j.f)(n)}),[]),Object(r.useImperativeHandle)(t,(function(){return{scrollTop:function(){X.current&&$.current&&(X.current.scrollToTop(100),$.current.scrollTop=0)}}})),void 0!==e.solo_cliente&&e.solo_cliente){if(_.isLoggedIn&&30===_.modo_uso_app)return de?Object(W.jsx)(s.a,{to:{pathname:u.n.HOME}}):Object(W.jsx)(s.a,{to:{pathname:u.p.INICIO}});if(_.isLoggedIn&&20===_.modo_uso_app)return Object(W.jsx)(s.a,{to:{pathname:u.o.PEDIDOS_PENDIENTES}})}if(void 0!==e.admin&&e.admin)return Object(W.jsxs)(i.r,{style:le,children:[Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)("div",{"data-theme":"light","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",className:"full",style:{height:"100%"},id:e.id?e.id+" main-wrapper":"main-wrapper",children:[Object(W.jsx)(m.a,{}),e.children,Object(W.jsx)(f.a,{})]})]});var je=!de&&e.fabricante;return e.fabricante&&(oe=Object(W.jsx)(p.a,{})),Object(W.jsxs)(i.r,{style:le,children:[e.fabricante&&Object(W.jsx)(h.a,{}),n.isDebug&&Object(W.jsx)("div",{className:"debug-box",children:"DBG"}),null!==C&&Object(W.jsx)(v.a,{isOpen:!0,setVisible:function(e){var t=new URLSearchParams(window.location.search);t.delete("login"),t.delete("registro"),t.delete("i"),o.push(window.location.pathname+"?"+t.toString())},login:"login"===C,closable:D}),Q&&Object(W.jsx)(l.C,{}),U&&Object(W.jsx)(ce,{}),E&&Object(W.jsx)(ae.a,{}),L&&Object(W.jsx)(ne,{}),V&&Object(W.jsx)(ie.a,{}),Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)(i.g,{scrollEvents:!0,ref:function(e){return X.current=e},children:[oe,je&&Object(W.jsx)("div",{className:"container-fluid",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(O.a,{}),Object(W.jsx)("div",{id:e.id,ref:$,className:"col-12 col-md-9 col-lg-9 col-xl-10",children:e.children})]})}),!je&&Object(W.jsx)("div",{id:e.id,ref:$,children:e.children}),se]})]})}));t.b=oe},511:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(24),c=n(3),i=n.n(c),r=n(521),o=n(519),s=n(572),l=n.n(s),d=n(9),u=n(526),j=n(522),b=i.a.forwardRef((function(e,t){var n=Object(c.useState)(!1),s=Object(a.a)(n,2),b=s[0],m=s[1],f=e.facingMode||"user";Object(c.useImperativeHandle)(t,(function(){return{toggle:function(){m(!b)},open:function(){m(!0)},close:function(){m(!1)}}}));var h=new o.Uppy({allowMultipleUploads:!1,locale:j,restrictions:{allowedFileTypes:["image/*"],maxNumberOfFiles:1}});return h.use(l.a,{videoConstraints:{facingMode:f}}).use(u,{id:"ImageEditor",quality:.8,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0}}),h.on("complete",(function(t){var n=t.successful[0],a=h.getFile(n.id);e.file(a.data),e.file_preview(a.preview)})),i.a.useEffect((function(){return function(){return h.close()}}),[]),Object(d.jsx)(r.b,{id:e.id_input,uppy:h,closeModalOnClickOutside:!0,open:b,onRequestClose:function(){m(!b),h.reset()},plugins:["Webcam","ImageEditor"],metaFields:[{id:"name",name:"Nombre",placeholder:"Nombre del archivo"}]})}));t.b=b},512:function(e,t,n){"use strict";var a=n(26),c=n(24),i=n(40),r=n(161),o=n(3),s=n(8),l=n(101),d=n(86),u=n(0),j=n.n(u),b=n(2),m=n(145),f=n(30),h=n(579),p=n.n(h),O=n(580),x=n.n(O),g=n(581),v=n.n(g),_=n(582),y=n.n(_),N=n(583),C=n.n(N),w=n(578),k=n.n(w),S=n(475),D=(n(543),n(9)),I=n(198),A=new Audio("assets/chat.mp3"),R=Object(r.a)((function(e,t){var n=t.router,r=Object(d.b)(),u=r.loginStore,h=(r.transportistaStore,r.chatStore),O=Object(o.useState)(!1),g=Object(c.a)(O,2),_=g[0],N=g[1],w=Object(o.useState)(!1),R=Object(c.a)(w,2),E=R[0],P=R[1],T=Object(o.useState)(null),z=Object(c.a)(T,2),L=z[0],F=z[1],M=Object(o.useState)(!1),B=Object(c.a)(M,2),U=B[0],q=(B[1],Object(o.useRef)(null)),H=Object(o.useState)(),W=Object(c.a)(H,2),Y=W[0],V=W[1],G=Object(o.useState)(0),J=Object(c.a)(G,2),Z=(J[0],J[1]),Q=Object(o.useState)(""),K=Object(c.a)(Q,2),X=(K[0],K[1]),$=Object(o.useRef)(null),ee=null;Object(o.useEffect)((function(){e.mensajes&&(V(Object(a.a)(e.mensajes)),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),1e3))}),[e.mensajes]);var te=function(e){Z(e),100===e&&setTimeout((function(){Z(0),X("")}),500)},ne=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,c,i,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Camera,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return n=e.sent,e.next=9,fetch(n);case 9:return a=e.sent,e.next=12,a.blob();case 12:return c=e.sent,e.next=15,Object(l.k)(c,"imagen",te);case 15:return i=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(i)}));case 18:return r=e.sent,e.next=21,ae(r);case 21:return e.sent,e.next=24,{fecha:I().toISOString(),texto:"",usuario:u.id,media:r};case 24:return o=e.sent,e.next=27,se(o);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ae=function(e){e="data:image/jpeg;base64,".concat(e)},ce=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,c,i,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Photos,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return n=e.sent,e.next=9,fetch(n);case 9:return a=e.sent,e.next=12,a.blob();case 12:return c=e.sent,e.next=15,Object(l.k)(c,"imagen",te);case 15:return i=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(i)}));case 18:return r=e.sent,e.next=21,ae(r);case 21:return e.sent,e.next=24,{fecha:I().toISOString(),texto:"",usuario:u.id,media:r};case 24:return o=e.sent,e.next=27,se(o);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),L){e.next=3;break}return e.abrupt("return");case 3:t={fecha:I().toISOString(),texto:"location;".concat(L.lat,";").concat(L.lng),usuario:u.id},se(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){return u.modo_uso_app===s.e.transportista?Object(D.jsx)("div",{className:"predeterminados-container-trasportista",children:h.mensajesPredeterminadosDriver.map((function(e,t){return Object(D.jsx)("div",{className:"mensaje-predeterminado-container",children:Object(D.jsx)("div",{className:"mensaje-predeterminado-trasportista",onClick:function(){return je(e.mensaje)},children:e.mensaje})},t)}))}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{id:"cliente-predeterminados-container",children:h.getMensajesPredeterminadoCliente().map((function(e){return Object(D.jsx)("div",{className:"mensaje-predeterminado-cliente",onClick:function(){return je(e.mensaje)},children:e.mensaje},e.id)}))}),Object(D.jsxs)("div",{id:"respuesta-container",children:[Object(D.jsx)("div",{className:"adjunto",onClick:function(){return N(!_)},children:Object(D.jsx)(p.a,{})}),Object(D.jsxs)("div",{id:"menu-adjuntar",className:_?"active":"",children:[Object(D.jsx)("div",{id:"adjuntar-imagen",onClick:ce,children:Object(D.jsx)(x.a,{fontSize:"medium"})}),"web"!==f.Capacitor.getPlatform()&&Object(D.jsx)("div",{id:"adjuntar-foto",onClick:ne,children:Object(D.jsx)(v.a,{fontSize:"medium"})}),Object(D.jsx)("div",{id:"adjuntar-ubicacion",onClick:function(){N(!1),P(!0)},children:Object(D.jsx)(y.a,{fontSize:"medium"})})]}),Object(D.jsx)("input",{ref:q,type:"text",className:"input-texto",placeholder:"Escriba su mensaje",onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(D.jsx)("div",{className:"enviar",onClick:ue,children:Object(D.jsx)(C.a,{style:{color:"#96CE4E",marginLeft:3}})})]})]})},oe=k()(e.wsUrl,{onOpen:function(){return console.log("opened")},onMessage:function(e){JSON.parse(e.data).usuario!==u.id&&A.play(),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),300)},shouldReconnect:function(e){return!0}}),se=(oe.sendMessage,oe.sendJsonMessage),le=oe.lastMessage,de=(oe.lastJsonMessage,oe.readyState);oe.getWebSocket;Object(o.useEffect)((function(){if(le&&le.data)try{var e=Y?Object(a.a)(Y):[],t=JSON.parse(le.data),n={texto:t.texto,fecha:t.fecha,usuario:t.usuario,media:t.media,tipo:t.tipo};e.push(n),V(e)}catch(c){console.log("err",c)}}),[le]),Object(o.useEffect)((function(){console.log("readyState",de)}),[de]);var ue=function(){var e=q.current.value;if(e&&e.trim()){var t={fecha:I().toISOString(),texto:e,usuario:u.id};se(t),setTimeout((function(){return q.current.focus()}),500)}},je=function(e){var t={fecha:I().toISOString(),texto:e,usuario:u.id};se(t)},be=function(e){if(!e)return null;var t=function(e){var t=I(ee),n=I(e.fecha);return null!==(ee=e.fecha)&&I(t).isBefore(n,"day")?Object(D.jsx)("div",{className:"corte-fecha",children:n.format("DD/MM/YYYY")},e.id):null}(e),n="texto",a=e.texto?e.texto:"",c=null;if(a.match(/^location;[-0-9\.]+;[-0-9\.]+$/gm)){n="ubicacion";var i=a.split(";")[1],r=a.split(";")[2];a=Object(D.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(i,",").concat(r),target:"_blank",children:Object(D.jsx)(S.z,{lat:i,lng:r,bloquear_interaccion:!0,center:{lat:i,lng:r},zoom:15,style:{height:100,width:"100%",borderRadius:10}})})}return e.media&&(c=Object(D.jsx)("a",{href:e.media,children:Object(D.jsx)("img",{src:e.media,alt:"imagen",style:{width:230,height:"auto",borderRadius:10}})})),t||Object(D.jsxs)("div",{className:"mensaje ".concat(n)+(e.usuario===u.id?" propio":""),children:[c,a,Object(D.jsx)("span",{className:"hora",children:I(e.fecha).format("HH:mm")}),Object(D.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 14.6",children:Object(D.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(D.jsx)("g",{id:"Capa_1","data-name":"Capa 1",children:Object(D.jsx)("polyline",{className:"cls-1",points:"16.26 0.15 0.54 14.39 23.64 14.39"})})})})]},"msg"+e.fecha)};return Object(D.jsxs)("div",{className:"chat-container",children:[Object(D.jsxs)(i.q,{isOpen:E,id:"modal-ubicacion",onDidDismiss:function(){return P(!1)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ubicacion",presentingElement:n||void 0,children:[Object(D.jsx)(i.j,{translucent:!0,children:Object(D.jsxs)(i.C,{children:[Object(D.jsx)(i.A,{children:"Enviar ubicaci\xf3n"}),Object(D.jsx)(i.d,{onClick:function(){return P(!1)},slot:"end",children:"Cancelar"})]})}),Object(D.jsxs)(i.g,{fullscreen:!0,children:[Object(D.jsx)(S.z,{lat:r.latitud||-25.30066,lng:r.longitud||-57.63591,zoom:14,full_screen:!0,ubicacion:function(e,t){F({lat:e,lng:t})}}),Object(D.jsx)(i.d,{onClick:function(){return ie()},id:"enviar-ubicacion",children:"Enviar"})]})]}),Object(D.jsx)("div",{className:"scroll-container",style:{flex:1},children:Object(D.jsx)(i.g,{id:"mensajes-container",scrollEvents:!0,ref:function(e){return $.current=e},children:Object(D.jsxs)("div",{className:"py-3",children:[U&&Object(D.jsx)(i.z,{name:"crescent",id:"chat-loading-spinner"}),!U&&!!Y&&Y.length>0&&Object(D.jsx)("div",{id:"mensajes",children:Y.map((function(e,t){return be(e)}))})]})})}),!e.finalizado&&Object(D.jsx)(re,{})]})})),E=R,P=(n(513),n(1528)),T=(n(544),Object(r.a)((function(e){var t=Object(d.b)().loginStore,n=(e.botonIzquierdo||P.a,e.accionBotonIzquierdo,e.botonDerecho||Object(D.jsx)("div",{style:{width:46}})),a=e.color||"#303AB2",i=e.titulo||"",r=e.sub_titulo||"",s=(e.mostrarBarra,Object(o.useState)(!1)),l=Object(c.a)(s,2),u=l[0],j=l[1];30===t.modo_uso_app?!!t.transportista&&t.transportista.aprobado:20!==t.modo_uso_app||!!t.fabricante&&t.fabricante.aprobado;return Object(D.jsxs)("div",{className:"w-100",style:{backgroundColor:a},children:[Object(D.jsxs)("div",{className:"d-flex justify-content-between pt-3 px-3",children:[e.imagenPerfil,Object(D.jsx)("div",{className:"col-6",children:Object(D.jsxs)("div",{className:"text-center",children:[Object(D.jsx)("div",{className:"text-white mt-3",children:Object(D.jsx)("strong",{className:"nombre-titulo",children:i})}),Object(D.jsx)("div",{className:"text-white mb-3 d-flex justify-content-center align-items-start",children:Object(D.jsx)("small",{children:r})})]})}),Object(D.jsx)("div",{className:"",children:n})]}),Object(D.jsx)("div",{className:"boton-menu",onClick:function(){return j(!u)},children:Object(D.jsx)(P.a,{size:30,color:"#ffffff"})})]})}))),z=n(144).WSS_BASE_URL,L=Object(r.a)((function(e){var t=Object(o.useState)(),n=Object(c.a)(t,2),r=n[0],u=n[1],j=Object(o.useState)(""),b=Object(c.a)(j,2),m=b[0],f=b[1],h=Object(o.useState)(!0),p=Object(c.a)(h,2),O=p[0],x=p[1],g=Object(o.useState)(""),v=Object(c.a)(g,2),_=v[0],y=v[1],N=Object(o.useState)(""),C=Object(c.a)(N,2),w=(C[0],C[1]),k=Object(o.useState)("assets/person.png"),S=Object(c.a)(k,2),I=S[0],A=S[1],R=Object(d.b)(),P=Object(o.useState)(),L=Object(c.a)(P,2),F=L[0],M=L[1],B=R.loginStore,U=R.transportistaStore,q=Object(o.useState)([]),H=Object(c.a)(q,2),W=H[0],Y=H[1],V=Object(o.useState)(""),G=Object(c.a)(V,2),J=G[0],Z=G[1],Q=Object(o.useState)(),K=Object(c.a)(Q,2),X=K[0],$=K[1],ee=Object(l.J)();Object(o.useEffect)((function(){var t;e.pedido?u(e.pedido):(t=e.idPedido,x(!0),R.environment.api.getPedido(t).then((function(e){"ok"===e.kind&&u(e.pedido)})))}),[]),Object(o.useEffect)((function(){$(U.itinerarioActivo)}),[U.itinerarioActivo]),Object(o.useEffect)((function(){var e,t,n;if(r){var a=B.fabricante&&B.fabricante.id,c=(null===(e=U.hojaRutaActiva)||void 0===e||null===(t=e.pedido)||void 0===t?void 0:t.id)===r.id,i=!!r.fabricante_id&&a===r.fabricante_id||!!(null===(n=r.fabricante)||void 0===n?void 0:n.id)&&a===r.fabricante.id,o=r.usuario.id===B.id;if(c?Z("#ff6f33"):i?Z("#303AB2"):o?Z("#ff6f33"):ee("Ocurri\xf3 un error al configurar el chat. C\xf3digo: 100","warning"),y("Id#"+r.id),c&&X){var l,d;if(X.tipo===s.u.ENTREGA)return te(r.id,s.t.CLIENTE_DRIVER,0),f((null===(l=r.usuario)||void 0===l?void 0:l.first_name)+" "+(null===(d=r.usuario)||void 0===d?void 0:d.last_name)),A(r.usuario.imagen_perfil?r.usuario.imagen_perfil:I),M("".concat(z,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(B.token)),void w(X.telefono_itinerario?X.telefono_itinerario:null);if(X.tipo===s.u.RETIRO&&X.fabricante&&X.fabricante_id)return te(r.id,s.t.FABRICANTE_DRIVER,X.fabricante_id),A(X.fabricante_imagen_perfil?X.fabricante_imagen_perfil:I),f(X.fabricante),w(X.telefono_itinerario?X.telefono_itinerario:null),void M("".concat(z,"/chat/fabricante-driver/").concat(X.fabricante_id,"/").concat(r.id,"/?token=").concat(B.token))}else{var u,j,b,m,h,p,O,g,v,_;if(i&&B.fabricante_id)return te(r.id,s.t.FABRICANTE_DRIVER,B.fabricante_id),f((null===(u=r.transportista)||void 0===u?void 0:u.usuario.first_name)+" "+(null===(j=r.transportista)||void 0===j?void 0:j.usuario.last_name)),A((null===(b=r.transportista)||void 0===b?void 0:b.usuario.imagen_perfil)?null===(m=r.transportista)||void 0===m?void 0:m.usuario.imagen_perfil:I),w(null===(h=r.transportista)||void 0===h?void 0:h.usuario.nro_telefono),void M("".concat(z,"/chat/fabricante-driver/").concat(B.fabricante_id,"/").concat(r.id,"/?token=").concat(B.token));if(o)return te(r.id,s.t.CLIENTE_DRIVER,0),f((null===(p=r.transportista)||void 0===p?void 0:p.usuario.first_name)+" "+(null===(O=r.transportista)||void 0===O?void 0:O.usuario.last_name)),A((null===(g=r.transportista)||void 0===g?void 0:g.usuario.imagen_perfil)?null===(v=r.transportista)||void 0===v?void 0:v.usuario.imagen_perfil:I),w(null===(_=r.transportista)||void 0===_?void 0:_.usuario.nro_telefono),void M("".concat(z,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(B.token));ee("Ocurri\xf3 un error al configurar el chat","warning")}x(!1)}}),[r,X]);var te=function(e,t,n){x(!0),R.environment.api.getMensajesChat(e,t,n).then((function(e){if("ok"==e.kind){x(!1);var t=Object(a.a)(e.data);Y(t)}}))};return Object(D.jsxs)("div",{className:e.className?"d-flex flex-column "+e.className:"d-flex flex-column",style:e.containerStyle?e.containerStyle:{},children:[!e.ocultarHeader&&Object(D.jsx)(T,{titulo:m,sub_titulo:_,mostrarBarra:!1,color:e.color?e.color:J,imagenPerfil:Object(D.jsx)("div",{className:"foto-perfil-container-chat-modal",children:Object(D.jsx)("img",{id:"foto-perfil-modal",alt:"",src:I})}),botonDerecho:Object(D.jsx)("div",{children:e.botonExtra?e.botonExtra:null})}),(O||!F)&&Object(D.jsx)("div",{className:"d-flex flex-grow-1 align-self-stretch justify-content-center align-items-center",children:Object(D.jsx)(i.z,{})}),!O&&F&&Object(D.jsx)(E,{wsUrl:F,mensajes:W,finalizado:(null===r||void 0===r?void 0:r.estado)===s.h.entregado||(null===r||void 0===r?void 0:r.estado)===s.h.incidente})]})}));t.a=L},513:function(e,t,n){},514:function(e,t,n){},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ISO:"YYYY-MM-DDTHH:mm:ssZ",DATE:"DD/MM/YYYY",TIME:"HH:mm:ss",HOURMINUTE:"HH:mm",DATEHOURMINUTE:"DD/MM/YYYY HH:mm",DATETIME:"DD/MM/YYYY HH:mm:ss",HDATEMONTH:"D [de] MMMM",HDATE:"D [de] MMMM [del] YYYY",HDATETIME:"D [de] MMMM [del] YYYY [a las] HH:mm"}},525:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));n(3);var a=n(590),c=(n(559),n(9)),i=function(e){return Object(c.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(a.a,{size:20}),Object(c.jsx)("span",{children:"Iniciar"})]})})})},r=function(e){return Object(c.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(a.a,{size:20}),Object(c.jsx)("span",{children:"Ver"}),Object(c.jsx)("span",{children:"Mapa"})]})})})}},538:function(e,t,n){},539:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){},543:function(e,t,n){},544:function(e,t,n){},545:function(e,t,n){},546:function(e,t,n){},547:function(e,t,n){},548:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},552:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){},557:function(e,t,n){},558:function(e,t,n){},559:function(e,t,n){},560:function(e,t,n){},561:function(e,t,n){},562:function(e,t,n){},563:function(e,t,n){},564:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},626:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(17),c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},t}return c(t,e),t.prototype.getFreeDiskSpace=function(){var e=this;return function(){if(!0===Object(a.b)(e))return Object(a.f)((function(e,t){cordova.exec(e,t,"File","getFreeDiskSpace",[])}))}()},t.prototype.checkDir=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="directory cannot start with /",Promise.reject(c)}var i=e+t;return n.resolveDirectoryUrl(i).then((function(){return!0}))}}()},t.prototype.createDir=function(e,t,n){var c=this;return function(){if(!0===Object(a.b)(c)){if(/^\//.test(t)){var i=new FileError(5);return i.message="directory cannot start with /",Promise.reject(i)}var r={create:!0};return n||(r.exclusive=!0),c.resolveDirectoryUrl(e).then((function(e){return c.getDirectory(e,t,r)}))}}()},t.prototype.removeDir=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="directory cannot start with /",Promise.reject(c)}return n.resolveDirectoryUrl(e).then((function(e){return n.getDirectory(e,t,{create:!1})})).then((function(e){return n.remove(e)}))}}()},t.prototype.moveDir=function(e,t,n,c){var i=this;return function(){if(!0===Object(a.b)(i)){if(/^\//.test(c=c||t)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return i.resolveDirectoryUrl(e).then((function(e){return i.getDirectory(e,t,{create:!1})})).then((function(e){return i.resolveDirectoryUrl(n).then((function(t){return i.move(e,t,c)}))}))}}()},t.prototype.copyDir=function(e,t,n,c){var i=this;return function(){if(!0===Object(a.b)(i)){if(/^\//.test(c)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return i.resolveDirectoryUrl(e).then((function(e){return i.getDirectory(e,t,{create:!1})})).then((function(e){return i.resolveDirectoryUrl(n).then((function(t){return i.copy(e,t,c)}))}))}}()},t.prototype.listDir=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="directory cannot start with /",Promise.reject(c)}return n.resolveDirectoryUrl(e).then((function(e){return n.getDirectory(e,t,{create:!1,exclusive:!1})})).then((function(e){var t=e.createReader();return n.readEntries(t)}))}}()},t.prototype.removeRecursively=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="directory cannot start with /",Promise.reject(c)}return n.resolveDirectoryUrl(e).then((function(e){return n.getDirectory(e,t,{create:!1})})).then((function(e){return n.rimraf(e)}))}}()},t.prototype.checkFile=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="file cannot start with /",Promise.reject(c)}return n.resolveLocalFilesystemUrl(e+t).then((function(e){if(e.isFile)return!0;var t=new FileError(13);return t.message="input is not a file",Promise.reject(t)}))}}()},t.prototype.createFile=function(e,t,n){var c=this;return function(){if(!0===Object(a.b)(c)){if(/^\//.test(t)){var i=new FileError(5);return i.message="file-name cannot start with /",Promise.reject(i)}var r={create:!0};return n||(r.exclusive=!0),c.resolveDirectoryUrl(e).then((function(e){return c.getFile(e,t,r)}))}}()},t.prototype.removeFile=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n)){if(/^\//.test(t)){var c=new FileError(5);return c.message="file-name cannot start with /",Promise.reject(c)}return n.resolveDirectoryUrl(e).then((function(e){return n.getFile(e,t,{create:!1})})).then((function(e){return n.remove(e)}))}}()},t.prototype.writeFile=function(e,t,n,c){var i=this;return void 0===c&&(c={}),function(){if(!0===Object(a.b)(i)){if(/^\//.test(t)){var r=new FileError(5);return r.message="file-name cannot start with /",Promise.reject(r)}var o={create:!c.append,exclusive:!c.replace};return i.resolveDirectoryUrl(e).then((function(e){return i.getFile(e,t,o)})).then((function(e){return i.writeFileEntry(e,n,c)}))}}()},t.prototype.writeFileEntry=function(e,t,n){var a=this;return this.createWriter(e).then((function(e){return n.append&&e.seek(e.length),n.truncate&&e.truncate(n.truncate),a.write(e,t)})).then((function(){return e}))},t.prototype.writeExistingFile=function(e,t,n){var c=this;return function(){if(!0===Object(a.b)(c))return c.writeFile(e,t,n,{replace:!0})}()},t.prototype.readAsText=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n))return n.readFile(e,t,"Text")}()},t.prototype.readAsDataURL=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n))return n.readFile(e,t,"DataURL")}()},t.prototype.readAsBinaryString=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n))return n.readFile(e,t,"BinaryString")}()},t.prototype.readAsArrayBuffer=function(e,t){var n=this;return function(){if(!0===Object(a.b)(n))return n.readFile(e,t,"ArrayBuffer")}()},t.prototype.moveFile=function(e,t,n,c){var i=this;return function(){if(!0===Object(a.b)(i)){if(/^\//.test(c=c||t)){var r=new FileError(5);return r.message="file name cannot start with /",Promise.reject(r)}return i.resolveDirectoryUrl(e).then((function(e){return i.getFile(e,t,{create:!1})})).then((function(e){return i.resolveDirectoryUrl(n).then((function(t){return i.move(e,t,c)}))}))}}()},t.prototype.copyFile=function(e,t,n,c){var i=this;return function(){if(!0===Object(a.b)(i)){if(/^\//.test(c=c||t)){var r=new FileError(5);return r.message="file name cannot start with /",Promise.reject(r)}return i.resolveDirectoryUrl(e).then((function(e){return i.getFile(e,t,{create:!1})})).then((function(e){return i.resolveDirectoryUrl(n).then((function(t){return i.copy(e,t,c)}))}))}}()},t.prototype.fillErrorMessage=function(e){try{e.message=this.cordovaFileError[e.code]}catch(t){}},t.prototype.resolveLocalFilesystemUrl=function(e){var t=this;return function(){if(!0===Object(a.b)(t))return Object(a.f)((function(n,a){try{window.resolveLocalFileSystemURL(e,(function(e){n(e)}),(function(e){t.fillErrorMessage(e),a(e)}))}catch(c){t.fillErrorMessage(c),a(c)}}))}()},t.prototype.resolveDirectoryUrl=function(e){var t=this;return function(){if(!0===Object(a.b)(t))return t.resolveLocalFilesystemUrl(e).then((function(e){if(e.isDirectory)return e;var t=new FileError(13);return t.message="input is not a directory",Promise.reject(t)}))}()},t.prototype.getDirectory=function(e,t,n){var c=this;return function(){if(!0===Object(a.b)(c))return new Promise((function(a,i){try{e.getDirectory(t,n,(function(e){a(e)}),(function(e){c.fillErrorMessage(e),i(e)}))}catch(r){c.fillErrorMessage(r),i(r)}}))}()},t.prototype.getFile=function(e,t,n){var c=this;return function(){if(!0===Object(a.b)(c))return new Promise((function(a,i){try{e.getFile(t,n,a,(function(e){c.fillErrorMessage(e),i(e)}))}catch(r){c.fillErrorMessage(r),i(r)}}))}()},t.prototype.readFile=function(e,t,n){var c=this;if(/^\//.test(t)){var i=new FileError(5);return i.message="file-name cannot start with /",Promise.reject(i)}return this.resolveDirectoryUrl(e).then((function(e){return c.getFile(e,t,{create:!1})})).then((function(e){var t=new FileReader;return Object(a.f)((function(a,c){t.onloadend=function(){void 0!==t.result||null!==t.result?a(t.result):void 0!==t.error||null!==t.error?c(t.error):c({code:null,message:"READER_ONLOADEND_ERR"})},e.file((function(e){t["readAs"+n].call(t,e)}),(function(e){c(e)}))}))}))},t.prototype.remove=function(e){var t=this;return new Promise((function(n,a){e.remove((function(){n({success:!0,fileRemoved:e})}),(function(e){t.fillErrorMessage(e),a(e)}))}))},t.prototype.move=function(e,t,n){var a=this;return new Promise((function(c,i){e.moveTo(t,n,(function(e){c(e)}),(function(e){a.fillErrorMessage(e),i(e)}))}))},t.prototype.copy=function(e,t,n){var a=this;return new Promise((function(c,i){e.copyTo(t,n,(function(e){c(e)}),(function(e){a.fillErrorMessage(e),i(e)}))}))},t.prototype.readEntries=function(e){var t=this;return new Promise((function(n,a){e.readEntries((function(e){n(e)}),(function(e){t.fillErrorMessage(e),a(e)}))}))},t.prototype.rimraf=function(e){var t=this;return new Promise((function(n,a){e.removeRecursively((function(){n({success:!0,fileRemoved:e})}),(function(e){t.fillErrorMessage(e),a(e)}))}))},t.prototype.createWriter=function(e){var t=this;return new Promise((function(n,a){e.createWriter((function(e){n(e)}),(function(e){t.fillErrorMessage(e),a(e)}))}))},t.prototype.write=function(e,t){return t instanceof Blob?this.writeFileInChunks(e,t):new Promise((function(n,a){e.onwriteend=function(t){e.error?a(e.error):n(t)},e.write(t)}))},t.prototype.writeFileInChunks=function(e,t){var n=0;function c(){var a=Math.min(1048576,t.size-n),c=t.slice(n,n+a);n+=a,e.write(c)}return Object(a.f)((function(a,i){e.onerror=i,e.onwrite=function(){n<t.size?c():a()},c()}))},Object.defineProperty(t.prototype,"applicationDirectory",{get:function(){return Object(a.d)(this,"applicationDirectory")},set:function(e){Object(a.e)(this,"applicationDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applicationStorageDirectory",{get:function(){return Object(a.d)(this,"applicationStorageDirectory")},set:function(e){Object(a.e)(this,"applicationStorageDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataDirectory",{get:function(){return Object(a.d)(this,"dataDirectory")},set:function(e){Object(a.e)(this,"dataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cacheDirectory",{get:function(){return Object(a.d)(this,"cacheDirectory")},set:function(e){Object(a.e)(this,"cacheDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"externalApplicationStorageDirectory",{get:function(){return Object(a.d)(this,"externalApplicationStorageDirectory")},set:function(e){Object(a.e)(this,"externalApplicationStorageDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"externalDataDirectory",{get:function(){return Object(a.d)(this,"externalDataDirectory")},set:function(e){Object(a.e)(this,"externalDataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"externalCacheDirectory",{get:function(){return Object(a.d)(this,"externalCacheDirectory")},set:function(e){Object(a.e)(this,"externalCacheDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"externalRootDirectory",{get:function(){return Object(a.d)(this,"externalRootDirectory")},set:function(e){Object(a.e)(this,"externalRootDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tempDirectory",{get:function(){return Object(a.d)(this,"tempDirectory")},set:function(e){Object(a.e)(this,"tempDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"syncedDataDirectory",{get:function(){return Object(a.d)(this,"syncedDataDirectory")},set:function(e){Object(a.e)(this,"syncedDataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"documentsDirectory",{get:function(){return Object(a.d)(this,"documentsDirectory")},set:function(e){Object(a.e)(this,"documentsDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedDirectory",{get:function(){return Object(a.d)(this,"sharedDirectory")},set:function(e){Object(a.e)(this,"sharedDirectory",e)},enumerable:!1,configurable:!0}),t.pluginName="File",t.plugin="cordova-plugin-file",t.pluginRef="cordova.file",t.repo="https://github.com/apache/cordova-plugin-file",t.platforms=["Android","Browser","iOS","macOS","Windows"],t}(a.a),r=new i},858:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(17),c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.open=function(e){return Object(a.c)(this,"open",{},arguments)},t.pluginName="OpenNativeSettings",t.plugin="cordova-open-native-settings",t.pluginRef="cordova.plugins.settings",t.repo="https://github.com/guyromb/Cordova-open-native-settings",t.platforms=["Android","iOS"],t}(a.a),r=new i}}]);
//# sourceMappingURL=77.c35628dd.chunk.js.map