(this["webpackJsonpabi-frontend"]=this["webpackJsonpabi-frontend"]||[]).push([[71],{1660:function(e,t,a){"use strict";a.r(t),a.d(t,"AdminPreguntasFrecuentes",(function(){return O}));var n=a(0),c=a.n(n),i=a(2),r=a(24),s=a(40),o=a(3),l=a.n(o),d=a(618),u=a(619),j=a(161),b=a(86),m=(a(653),a(475)),f=a(101),h=a(9),O=Object(j.a)((function(e){var t=e.history,a=Object(b.b)(),n=Object(o.useState)(!1),j=Object(r.a)(n,2),O=j[0],p=j[1],x=Object(o.useState)(null),g=Object(r.a)(x,2),v=g[0],_=g[1],N=Object(o.useState)(null),y=Object(r.a)(N,2),C=y[0],w=y[1],k=Object(o.useState)(!1),S=Object(r.a)(k,2),I=S[0],D=S[1],A=Object(o.useState)(""),R=Object(r.a)(A,2),E=R[0],P=R[1],z=l.a.createRef(),T=Object(f.A)(),L=function(e){w(e),D(!0),P(void 0===e.id?"Crear pregunta":"Modificar pregunta")},F=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"button ml-3",onClick:function(){L(e)},children:Object(h.jsx)(d.a,{size:14})}),Object(h.jsx)("span",{className:"button ml-3",onClick:function(){!function(e){_(e),p(!0)}(e)},children:Object(h.jsx)(u.a,{size:14})})]})},M=function(){var e=Object(i.a)(c.a.mark((function e(t,n,i,r){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.environment.api.preguntasFrecuentes();case 2:return s=e.sent,e.abrupt("return",{kind:"ok",data:{count:(t="ok"===s.kind?s.preguntas:[]).length,results:t.results}});case 4:case"end":return e.stop()}var t}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}();return Object(h.jsx)(m.u,{login_required:!0,admin:!0,children:Object(h.jsxs)("div",{className:"page-wrapper",style:{display:"flex",height:"100vh",overflowY:"scroll"},children:[Object(h.jsx)(s.a,{isOpen:I,onDidDismiss:function(){return D(!1)},cssClass:"alert-preguntas-frecuentes",header:E,inputs:[{name:"Pregunta",type:"text",placeholder:"Pregunta",value:null===C||void 0===C?void 0:C.pregunta},{name:"Respuesta",type:"textarea",placeholder:"Respuesta",value:null===C||void 0===C?void 0:C.respuesta,attributes:{rows:10}}],buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Guardar",cssClass:"btn-primary",handler:function(e){!function(e,t){if(C){C.pregunta=e,C.respuesta=t;var n=z.current;a.environment.api.guardarPreguntaFrecuente(C).then((function(e){T(e,"Pregunta guardada exitosamente"),n.refresh()}))}}(e.Pregunta,e.Respuesta)}}]}),Object(h.jsx)(s.a,{isOpen:O,onDidDismiss:function(){return p(!1)},header:"Eliminar pregunta",message:'Confirma que desea eliminar la pregunta "'.concat(null===v||void 0===v?void 0:v.pregunta,'"?'),buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Eliminar",cssClass:"btn-primary",handler:function(){!function(){if(v){var e=z.current;a.environment.api.eliminarPreguntaFrecuente(v.id).then((function(t){T(t,"Pregunta eliminada exitosamente"),e.refresh()}))}}()}}]}),Object(h.jsxs)("div",{className:"container-fluid background-white",children:[Object(h.jsxs)("div",{className:"row page-titles",children:[Object(h.jsx)("div",{className:"col-md-5 col-12 align-self-center",children:Object(h.jsx)("h3",{className:"text-themecolor",children:"Preguntas frecuentes"})}),Object(h.jsx)("div",{className:"col-md-7 col-12 align-self-center d-none d-md-block",children:Object(h.jsxs)("ol",{className:"breadcrumb mb-0 p-0 bg-transparent float-right",children:[Object(h.jsx)("li",{className:"breadcrumb-item",children:Object(h.jsx)("a",{onClick:function(){return t.push("/admin/")},children:"Inicio"})}),Object(h.jsx)("li",{className:"breadcrumb-item active",children:"Preguntas frecuentes"})]})})]}),Object(h.jsx)("ul",{className:"nav nav-pills p-3 bg-white mb-3 align-items-center",children:Object(h.jsx)("li",{className:"nav-item ml-auto",children:Object(h.jsx)("button",{className:"btn btn-primary d-flex align-items-center px-3",id:"add-cliente",onClick:function(){L({pregunta:null,respuesta:null})},children:"Crear pregunta"})})}),Object(h.jsx)("div",{className:"card mb-0",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsx)(m.y,{ref:Object(f.w)(z),subHeader:!0,obtenerDatos:M,disablePagination:!0,columns:[{name:"ID",selector:"id",sortable:!1},{name:"Pregunta",selector:"pregunta",sortable:!1},{name:"Acciones",sortable:!1,cell:function(e){return F(e)}}]})})})})]})]})})}));t.default=O},475:function(e,t,a){"use strict";a.d(t,"i",(function(){return n.a})),a.d(t,"j",(function(){return d})),a.d(t,"k",(function(){return f})),a.d(t,"y",(function(){return y})),a.d(t,"A",(function(){return C.a})),a.d(t,"B",(function(){return D})),a.d(t,"a",(function(){return P})),a.d(t,"b",(function(){return Q})),a.d(t,"c",(function(){return $})),a.d(t,"u",(function(){return te.a})),a.d(t,"z",(function(){return ae.a})),a.d(t,"g",(function(){return ne.a})),a.d(t,"o",(function(){return le.a})),a.d(t,"v",(function(){return de.a})),a.d(t,"n",(function(){return ue.a})),a.d(t,"w",(function(){return ve})),a.d(t,"s",(function(){return _e})),a.d(t,"e",(function(){return we})),a.d(t,"m",(function(){return Ie})),a.d(t,"t",(function(){return Re})),a.d(t,"l",(function(){return Te.a})),a.d(t,"D",(function(){return Be})),a.d(t,"r",(function(){return Ue})),a.d(t,"x",(function(){return qe.a})),a.d(t,"p",(function(){return He.a})),a.d(t,"f",(function(){return $e})),a.d(t,"h",(function(){return et})),a.d(t,"q",(function(){return K.a})),a.d(t,"d",(function(){return lt})),a.d(t,"C",(function(){return ut}));var n=a(496),c=a(3),i=a.n(c),r=a(161),s=a(57),o=a(1524),l=a(9),d=Object(r.a)((function(e){var t=Object(s.e)(),a=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return t.goBack()},children:Object(l.jsx)(o.a,{size:26,style:{color:"#FFF"}})}),n=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}});return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"top",style:{height:55,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a,Object(l.jsx)("a",{onClick:function(){return t.push("/")},children:Object(l.jsx)("img",{src:"assets/abi-logo-white.png",alt:"Logo de ABi",style:{height:30}})}),n]})})})),u=(a(541),a(86)),j=a(8),b=a(30),m=a(477),f=Object(r.a)((function(e){var t=Object(s.e)(),a=Object(u.b)().loginStore,n=e.accion_boton_izquierdo?e.accion_boton_izquierdo:function(){return t.goBack()},c=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return n()},children:Object(l.jsx)(o.a,{size:26,style:{color:"#FFF"}})}),i=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}}),r=e.color||"var(--azul-fabricante)",d=e.titulo||"",f=e.sub_titulo||"";return Object(l.jsx)("div",{style:{height:100,minHeight:100},children:Object(l.jsxs)("div",{className:"registro-cliente-header-main-container",style:{backgroundColor:r},children:[Object(l.jsxs)("div",{className:"row mx-0 px-0",children:[Object(l.jsx)("div",{className:"col-2 text-left px-1 cpointer",children:c}),Object(l.jsx)("div",{className:"col-8 text-center ",children:Object(l.jsx)("a",{className:"logo-abi-fabricante cpointer",onClick:function(){a.isLoggedIn&&30===a.modo_uso_app?"android"===b.Capacitor.getPlatform()||"ios"===b.Capacitor.getPlatform()?t.push(j.n.HOME):t.push(j.p.INICIO):a.isLoggedIn&&20===a.modo_uso_app?t.push(j.o.PEDIDOS_PENDIENTES):t.push(j.m.ROOT)},children:m.a.abi})}),Object(l.jsx)("div",{className:"col-2 text-right px-1 pt-2 cpointer",children:i})]}),Object(l.jsxs)("div",{className:"text-center ",children:[Object(l.jsx)("div",{className:"text-white",children:Object(l.jsx)("strong",{children:d})}),!a.isLoggedIn&&Object(l.jsx)("div",{className:"text-white",onClick:function(){e.accion_boton_centro&&e.accion_boton_centro()},children:Object(l.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"bold"},children:f})})]})]})})})),h=a(33),O=a(26),p=a(24),x=a(40),g=a(577),v=a.n(g),_=a(1021),N=a(101),y=i.a.forwardRef((function(e,t){var a=Object(c.useState)(!1),n=Object(p.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)([]),o=Object(p.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(0),b=Object(p.a)(j,2),m=b[0],f=b[1],g=Object(c.useRef)(1),y=Object(c.useState)(10),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)(""),I=Object(p.a)(S,2),D=I[0],A=I[1],R=Object(c.useState)(""),E=Object(p.a)(R,2),P=E[0],z=E[1],T=Object(c.useState)(!1),L=Object(p.a)(T,2),F=L[0],M=L[1],B=Object(c.useState)(0),U=Object(p.a)(B,2),q=U[0],H=U[1],W=Object(N.A)();Object(c.useImperativeHandle)(t,(function(){return{refresh:function(){Y(w,g.current,D)},clearSelected:function(){M(!F)},selectRow:function(e){H(e)}}})),Object(c.useEffect)((function(){Y(w,1,D)}),[]);var Y=function(t,a,n){r(!0),e.obtenerDatos(t,a,n,P).then((function(e){r(!1),"ok"===e.kind?(f(e.data.count),u(e.data.results)):W(e,"","listar")}))},V=function(){g.current=1,Y(w,g.current,D)};return Object(l.jsx)("div",{className:"table-responsive",children:Object(l.jsx)(v.a,Object(h.a)(Object(h.a)({},e),{},{data:d,noHeader:!0,subHeaderComponent:Object(l.jsxs)("div",{className:"input-group",style:{maxWidth:300},children:[Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Escriba el texto a buscar",value:P,onChange:function(e){return z(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&V()}}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:function(){return V()},children:Object(l.jsx)(_.a,{size:14})})})]}),progressPending:i,pagination:!e.disablePagination,paginationServer:!e.disablePagination,paginationTotalRows:e.disablePagination?void 0:m,paginationRowsPerPageOptions:e.disablePagination?void 0:[10,30,50,70,100],onChangeRowsPerPage:e.disablePagination?void 0:function(e,t){k(e),Y(e,t,D)},onChangePage:e.disablePagination?void 0:function(e){g.current=e,Y(w,e,D)},onSort:e.disablePagination?void 0:function(e){var t=(D.endsWith(e.selector)&&!D.startsWith("-")?"-":"")+e.selector;A(t),Y(w,g.current,t)},paginationPerPage:e.disablePagination?void 0:w,sortServer:!0,noDataComponent:Object(l.jsx)("div",{className:"mb-5",children:"No hay registros para mostrar"}),paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina:",rangeSeparatorText:"de",selectAllRowsItemText:"Todos"},progressComponent:Object(l.jsx)("div",{children:Object(l.jsx)(x.z,{color:"dark",name:"crescent"})}),selectableRows:!!e.selectableRows&&e.selectableRows,onSelectedRowsChange:function(t){return e.selectedRows(Object(O.a)(t.selectedRows))},clearSelectedRows:F,selectableRowSelected:function(e){return!!q&&q==e.id}}))})})),C=a(481),w=(a(542),a(1513)),k=a(532),S=function(e){var t=Object(k.a)(),a=Object(p.a)(t,2),n=a[0],c=a[1],i={height:"".concat(e.height,"px")};return Object(l.jsx)("div",{className:"virtual-scroll-child",style:i,ref:n,children:c?e.children:null})},I=function(e){var t=e.rows,a=e.rowHeight,n=e.onLastRow,i=e.className,r=Object(k.a)(),s=Object(p.a)(r,2),o=s[0],d=s[1];Object(c.useEffect)((function(){d&&n&&n()}),[d]);var u=[];e.children&&e.children.length?u=e.children:t&&t.length&&(u=t);return Object(l.jsx)("div",{className:i?"virtual-scroll-container ".concat(i):"virtual-scroll-container",children:u.map((function(e,t){return t===u.length-1?Object(l.jsx)("div",{ref:o,children:Object(l.jsx)(S,{height:a,children:e})},e.key):Object(l.jsx)(S,{height:a,children:e},e.key)}))})},D=Object(r.a)((function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)([]),s=Object(p.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)([]),j=Object(p.a)(u,2),b=j[0],m=j[1],f=Object(c.useState)([]),h=Object(p.a)(f,2),g=h[0],v=h[1],_=Object(c.useState)(""),N=Object(p.a)(_,2),y=N[0],C=N[1],k=e.auto_aceptar||!1,S=e.class_boton_aceptar||"btn-outline-primary",D=e.checkbox_style||"",A=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(A=!0);var R=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var a=[];null!==e.listado_elementos&&(a=e.listado_elementos.filter((function(a){return a[e.llave_label_opcion]&&t&&a[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?a:e.listado_elementos)}};return Object(c.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)d(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){d([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&m([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id&&(d(e.listado_elementos_seleccionados.map((function(e){return e.id}))),m(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(d([e.listado_elementos_seleccionados.id]),m([e.listado_elementos_seleccionados[e.llave_label_opcion]]));R("")}),[e.listado_elementos_seleccionados]),Object(c.useEffect)((function(){e.mostrar_modal&&i(!0),e.mostrar_modal_cambio_estado&&!n&&e.mostrar_modal_cambio_estado(n)}),[e.mostrar_modal,n]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:n,onDidDismiss:function(){C(""),R("")},backdropDismiss:!1,children:[Object(l.jsxs)(x.j,{children:[Object(l.jsxs)(x.C,{children:[Object(l.jsx)(x.A,{slot:"start",className:"text-truncate",style:{minWidth:void 0===e.boton_extra_text?350:0},children:e.titulo}),void 0!==e.boton_extra_text&&Object(l.jsx)(x.A,{slot:"end",children:Object(l.jsx)("a",{className:"text-primary",title:"Agregar "+e.boton_extra_text,onClick:function(){i(!1),e.boton_extra_funcion()},children:Object(l.jsx)("small",{children:"Agregar"})})})]}),Object(l.jsx)(x.C,{children:Object(l.jsx)(x.w,{showCancelButton:"focus",placeholder:"Buscar",value:y,onIonChange:function(e){R(e.detail.value),C(e.detail.value)}})})]}),Object(l.jsx)(x.g,{children:g&&g.length>0&&Object(l.jsx)(I,{rowHeight:46,rows:g.map((function(t){return Object(l.jsxs)(x.n,{children:[Object(l.jsx)(x.o,{children:t[e.llave_label_opcion]}),Object(l.jsx)(x.f,{className:D,slot:"end",value:t.id,checked:o.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var a=Object(O.a)(o),n=Object(O.a)(b),c=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=a.indexOf(t);a.includes(t)?(a.splice(r,1),n.splice(r,1)):e.multiple?(a.push(t),n.push(c)):(a=[t],n=[c]),d(a),m(n),k&&(i(!1),e.datos_filtrados(a))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){return i(!n)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+S+" btn-block",onClick:function(){i(!n),e.datos_filtrados(o)},children:"ACEPTAR"})})]})})]}),void 0===e.ocultar_input&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"row",onClick:function(){return A?null:i(!n)},children:[e.titulo_label&&Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("span",{className:"label-selector-modal-registro",children:e.titulo_label})}),Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("input",{disabled:!0,type:"text",className:"form-control registro-selector-modal-input",readOnly:!0,value:b.join(", "),placeholder:e.placeholder}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{disabled:A,className:"btn btn-outline-secondary btn-registro-selector-modal",type:"button",children:Object(l.jsx)(w.a,{size:18,className:"",color:"#4e4e4e"})})})]})})]})})]})})),A=(a(486),a(487),a(1525)),R=a(1540),E=a(58),P=Object(r.a)((function(e){var t,a=Object(u.b)().loginStore,n=e.img_extra_class||"",i=e.extra_class||"",r=e.separador_dinero||!1,s=e.separador_miles||!1,o=Object(c.useState)(!1),d=Object(p.a)(o,2),j=d[0],b=d[1],m=window.screen.height;return!1===e.restriccion?null:(t=30===a.modo_uso_app?"#ff6f33":20===a.modo_uso_app?"#303AB2":"#000000",Object(l.jsxs)("div",{className:"col-"+e.columnas+"  "+i,children:[e.show_image_alert&&e.imagen||e.es_protegido&&e.imagen&&Object(l.jsxs)(x.q,{animated:!0,isOpen:j,cssClass:"modal-imagen-grande",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return b(!1)},children:[Object(l.jsxs)("div",{className:"transportista-header",style:{backgroundColor:t},children:[Object(l.jsx)("span",{className:"text-truncate",style:{maxWidth:330,color:"#fff",paddingLeft:10},children:e.titulo}),Object(l.jsx)(A.a,{className:"ml-auto mr-3",size:30,onClick:function(){return b(!1)},color:"white",style:{float:"right"}})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-auto",children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,style:{maxHeight:.7*m}})})})]}),e.titulo&&Object(l.jsxs)("div",{className:"text-gray mb-2 d-flex align-items-center",children:[Object(l.jsx)("strong",{children:e.titulo})," ",e.show_image_alert&&e.imagen&&Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)(R.a,{size:18,className:"ml-2"})})]}),Object(l.jsxs)("div",{className:"detalle-admin-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.html&&Object(l.jsx)("p",{dangerouslySetInnerHTML:{__html:e.html}}),r&&Object(l.jsx)("p",{className:"text-gray",children:Object(E.o)(e.texto)}),s&&Object(l.jsx)("p",{className:"text-gray",children:Object(E.b)(e.texto)}),void 0!==e.texto&&!s&&!r&&Object(l.jsx)("p",{className:"text-gray",children:e.texto}),e.info_icon&&Object(l.jsx)(l.Fragment,{children:e.info_icon})]}),e.imagen&&!e.show_image_alert&&!e.es_protegido&&Object(l.jsx)("p",{className:n,children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})}),e.imagen&&!e.show_image_alert&&e.es_protegido&&Object(l.jsx)("p",{className:n,children:Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})})]}))})),z=a(534),T=a(530),L=a(584),F=a(585),M=a.n(F),B=a(537),U=a(520),q=a(533),H=a(480),W=a.n(H),Y=(a(586),a(575)),V=a.n(Y),G=a(1541),J=a(1542);Object(z.registerLocale)("es",T.default);var Z=a(162),Q=Object(r.a)((function(e){var t=e.textAreaRows||2,a=e.extra_css||"",n=(e.columnas_sm||e.columnas,Object(c.useState)(!1)),i=Object(p.a)(n,2),r=i[0],s=(i[1],Object(c.useState)(!1)),o=Object(p.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(!0),b=Object(p.a)(j,2),m=b[0],f=b[1],O=e.verificar_boton_clase||"btn-outline-primary",x=Object(c.useState)(null),g=Object(p.a)(x,2),v=g[0],_=g[1],y=Object(c.useState)(null),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useRef)(null),I=Object(c.useRef)(null),D=Object(N.D)(v,500),A=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase();if(!1===e.restriccion)return null;var R=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(R=!0);var E=function(t,a,n){e.set_dato(t,a,n)},P=function(t){e.set_dato_blur(t)},z=function(t){t?(k(t.value),E(e.campo,t.value)):E(e.campo,null),e.select_onchange&&e.select_onchange(t)};return Object(c.useEffect)((function(){u(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(c.useEffect)((function(){f(!0===e.verificar_firebase_habilitado)}),[e.verificar_firebase_habilitado]),Object(c.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&k(e.valor.value),_("")}),[e.valor]),Object(c.useEffect)((function(){e.opciones_select&&S.current&&e.opciones_select(D).then((function(e){S.current(e)}))}),[D]),void 0!==e.horizontal&&e.horizontal?Object(l.jsx)("div",{className:"col-12 col-lg-6 col-xl-"+e.columnas+" "+a,children:Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo})}),Object(l.jsxs)("div",{className:"col-6",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:Z(e.valor).format("0,0"),onBlur:function(t){var a=Z(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,E(e.campo,a))},onChange:function(t){var a=Z(t.target.value).value();E(e.campo,a)}}),"texto"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return E(e.campo,t.target.value)},placeholder:e.placeholder}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99/99/9999",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99:99",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono"===e.tipo&&Object(l.jsx)(M.a,{disabled:R,country:"py",localization:L,value:e.valor?e.valor.toString():"",placeholder:"595 981 123 456",onChange:function(t){return E(e.campo,t)}}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){E(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){E(e.campo,!e.valor)},children:"Aprobado"})]})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})}):Object(l.jsxs)("div",{className:"col-12 col-lg-"+e.columnas+" "+a,children:[Object(l.jsxs)("div",{className:"form-group",children:[e.titulo&&Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo}),"numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:""!==e.valor?Z(e.valor).format("0,0"):"",onBlur:function(t){var a=Z(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,E(e.campo,a))},onChange:function(t){var a=Z(t.target.value).value();E(e.campo,a)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"text",className:"form-control",id:e.campo,value:e.valor,onBlur:function(t){E(e.campo,Z(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){E(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return E(e.campo,t.target.value)},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&P(e.campo)},placeholder:e.placeholder}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{disabled:R,className:"form-control",rows:t,id:e.campo,onChange:function(t){return E(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",placeholder:e.placeholder}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){return E(e.campo,t.editor.getData())},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]]},readOnly:R}),"ckeditor-full"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){return E(e.campo,t.editor.getData())},readOnly:R}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99/99/9999",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:R,className:"form-control",mask:"99:99",onChange:function(t){return E(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono-simple"===e.tipo&&Object(l.jsx)(V.a,{className:"form-control",placeholder:e.titulo,disabled:R,options:{phone:!0,phoneRegionCode:"PY"},value:e.valor,onChange:function(t){E(e.campo,t.target.rawValue)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-8",children:Object(l.jsx)(W.a,{disabled:R,className:"form-control",mask:"0\\999-999-999",onChange:function(t){E(e.campo,t.target.value)},value:e.valor})}),!d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center "+O+" py-1"+(m?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){m&&e.verificar_firebase_func()},children:Object(l.jsx)("span",{children:"Verificar"})})}),d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+O+" py-1",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})}),(r||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger ml-3 mt-2 pr-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(U.a,{isDisabled:R,value:e.opciones_select.filter((function(t){return t.value==e.valor}))[0],onChange:z,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(q.a,{ref:I,value:e.valor&&e.valor.value?e.valor.value:"",onChange:z,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){_(e),S.current=t},defaultOptions:e.opciones_select(null),placeholder:w||A,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&P(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:R,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){E(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){E(e.campo,!e.valor)},children:e.titulo})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})})),K=(a(545),a(476));Object(z.registerLocale)("es",T.default);var X=a(162),$=Object(r.a)((function(e){var t=Object(u.b)(),a=t.loginStore,n=t.registroStore,i=e.textAreaRows||2,r=e.extra_css||"",s=e.set_dato_registro_store||!1,o=e.verificar_boton_clase||"btn-outline-primary",d=e.columnas_sm||e.columnas,j=Object(c.useState)(!1),b=Object(p.a)(j,2),m=b[0],f=b[1],O=Object(c.useState)(!1),x=Object(p.a)(O,2),g=x[0],v=x[1],_=Object(c.useState)(!1),y=Object(p.a)(_,2),C=y[0],w=y[1],k=Object(c.useState)(null),S=Object(p.a)(k,2),I=S[0],D=S[1],A=Object(c.useState)(null),R=Object(p.a)(A,2),E=R[0],P=R[1],z=Object(c.useRef)(null),T=Object(c.useRef)(null),L=Object(N.D)(I,500),F=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),M={control:function(e){return Object(h.a)(Object(h.a)({},e),{},{border:0,borderBottom:"1px solid #afafaf",color:"#929292",fontWeight:"bolder"})},singleValue:function(e){return Object(h.a)(Object(h.a)({},e),{},{color:"#929292"})},valueContainer:function(e){return Object(h.a)(Object(h.a)({},e),{},{paddingLeft:0})}};if(!1===e.restriccion)return null;var H=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(H=!0);var Y=function(t,a,n){e.set_dato(t,a,n)},V=function(t){e.set_dato_blur(t)},G=function(t,c){e.prepare_dato_registro_store&&(c=e.prepare_dato_registro_store(c)),a.isLoggedIn||n.setDatoRegistroStore(t,c)},J=function(t){t?(P(t.value),Y(e.campo,t.value),s&&G(e.campo,t.value)):(Y(e.campo,null),s&&G(e.campo,null)),e.select_onchange&&e.select_onchange(t)};return Object(c.useEffect)((function(){v(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(c.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&P(e.valor.value),D("")}),[e.valor]),Object(c.useEffect)((function(){e.opciones_select&&z.current&&e.opciones_select(L).then((function(e){z.current(e)}))}),[L]),Object(l.jsxs)("div",{className:"col-"+e.columnas+" col-lg-"+d+" "+r,children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:e.color?e.color:"var(--naranja-abi)",isOpen:C,close:function(){return w(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)("div",{className:"form-group",children:[e.titulo_externo&&Object(l.jsxs)("span",{className:"titulo-externo-item-field",children:[" ",e.titulo_externo]}),Object(l.jsxs)("div",{style:e.info_internal_icon||e.infoBody?{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #afafaf"}:{},className:e.info_internal_icon||e.infoBody?"icono_interno form-control-container":"form-control-container",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:""!==e.valor?X(e.valor).format("0,0"):"",onBlur:function(t){var a=X(t.target.value).value();if(void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,Y(e.campo,a)),s){var n=X(t.target.value).value();G(e.campo,n)}},onChange:function(t){var a=X(t.target.value).value();Y(e.campo,a)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:e.valor,onBlur:function(t){Y(e.campo,X(t.target.value.replace(".",",")).format("0.00")),s&&G(e.campo,X(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){Y(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:e.tipo,className:"form-control registro",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){Y(e.campo,t.target.value)},onBlur:function(t){void 0!==e.campo_blur&&e.campo_blur&&V(e.campo),s&&G(e.campo,t.target.value)}}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{placeholder:e.titulo,disabled:H,className:"form-control registro",rows:i,id:e.campo,onChange:function(t){return Y(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",onBlur:function(t){s&&G(e.campo,t.target.value)}}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){Y(e.campo,t.editor.getData()),s&&G(e.campo,t.target.value)},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]],placeholder:""}}),"ckeditor-full"===e.tipo&&Object(l.jsx)(B.a,{initData:e.valor,onChange:function(t){Y(e.campo,t.editor.getData()),s&&G(e.campo,t.target.value)}}),"fecha"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99/99/9999",onChange:function(t){return Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){s&&G(e.campo,t.target.value)}}),"hora"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99:99",onChange:function(t){return Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){s&&G(e.campo,t.target.value)}}),"telefono-simple"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H||g,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){s&&G(e.campo,t.target.value)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){Y(e.campo,t.target.value)},value:e.valor,onBlur:function(t){s&&G(e.campo,t.target.value)}}),!g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center ml-2 "+o+" py-1"+(e.verificar_firebase_habilitado?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){e.verificar_firebase_habilitado?(f(!1),e.verificar_firebase_func()):f(!0)},children:Object(l.jsx)("span",{children:"Verificar"})})}),g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+o+" py-1 ml-2",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})})]}),(m||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger mt-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(U.a,{isDisabled:H,value:e.opciones_select.filter((function(t){return t.value===e.valor}))[0],onChange:J,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&null!==I&&Object(l.jsx)("div",{className:"asyncselect",children:Object(l.jsx)(q.a,{ref:T,styles:M,value:e.valor&&e.valor.value?e.valor.value:"",onChange:J,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){D(e),z.current=t},defaultOptions:e.opciones_select(null),placeholder:E||F,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(h.a)(Object(h.a)({},e),{},{colors:Object(h.a)(Object(h.a)({},e.colors),{},{primary:"#929292",neutral50:"#929292"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&V(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:H,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){Y(e.campo,!e.valor),s&&G(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){Y(e.campo,!e.valor)},children:e.titulo})]}),e.info_internal_icon&&Object(l.jsx)(l.Fragment,{children:e.info_internal_icon}),!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)("a",{onClick:function(){return w(!0)},children:Object(l.jsx)("img",{style:{height:"30px",width:"30px"},src:"assets/icon/info.png"})})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text}),e.error&&Object(l.jsx)("div",{className:"text-danger",children:e.error})]})]})})),ee=$,te=a(509),ae=a(478),ne=(a(491),a(511)),ce=(a(521),a(519),a(485),a(506),a(507),a(508),a(526),a(522),a(592)),ie=a(1544),re=a(1515),se=a(1543),oe=a(1545),le=(Object(r.a)((function(e){var t=e.duracion||5e3,a=e.titulo||"",n=e.tipo||"warning",c=e.texto||"Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos",i="#ffffff",r="#000000",s="#000000";switch(n){case"success":""===a&&(a="Exito"),i="#dfffef",r="#005837",s="#1DBF73";break;case"warning":""===a&&(a="Atenci\xf3n"),i="#fdffe5",r="#935604",s="#ff9100";break;case"danger":""===a&&(a="Atenci\xf3n"),i="#ffebe5",r="#c50000",s="#c50000";break;case"info":i="#ffffff",r="#54577b",s="#2633d0"}return Object(l.jsxs)(ce.a,{style:{position:"absolute",top:10,right:10,backgroundColor:i,zIndex:99999},onClose:function(){return e.setVisible(!1)},show:e.visible,delay:t,autohide:!0,children:[Object(l.jsx)(ce.a.Header,{children:Object(l.jsx)("strong",{className:"mr-auto",children:a})}),Object(l.jsx)(ce.a.Body,{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2 m-0 p-0 d-flex",children:["success"===n&&Object(l.jsx)(ie.a,{className:"mx-auto my-auto",color:s,size:25}),"warning"===n&&Object(l.jsx)(re.a,{className:"mx-auto my-auto",color:s,size:25}),"danger"===n&&Object(l.jsx)(se.a,{className:"mx-auto my-auto",color:s,size:25}),"info"===n&&Object(l.jsx)(oe.a,{className:"mx-auto my-auto",color:s,size:25})]}),Object(l.jsx)("div",{className:n?"col-10 pl-0":"col-10",children:Object(l.jsx)("span",{style:{color:r},children:c})})]})})]})})),a(501)),de=(a(555),Object(r.a)((function(e){return Object(l.jsxs)("div",{className:"header-body",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)(A.a,{size:30,onClick:e.direccion,color:"white"})}),Object(l.jsx)("div",{className:"col-8 px-0",children:Object(l.jsx)("span",{className:"titulo-header-app",children:e.titulo})}),e.boton_derecha&&Object(l.jsx)("div",{className:"col-2",children:e.boton_derecha})]})})),a(518)),ue=(a(228),a(497),a(124)),je=a(1733),be=a(570),me=(Object(r.a)((function(e){var t=Object(s.e)(),a=Object(u.b)(),n=a.loginStore,i=a.carritoStore,r=e.movil?120:200,o=e.movil?150:220,d=(e.movil,e.extra_css,Object(c.useState)(!1)),b=Object(p.a)(d,2),m=b[0],f=b[1],O=Object(c.useState)(""),g=Object(p.a)(O,2),v=g[0],_=g[1],y=Object(c.useState)(""),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)(null),I=Object(p.a)(S,2),D=I[0],A=I[1],R=Object(c.useState)(1),P=Object(p.a)(R,2),z=P[0],T=P[1],L=Object(N.L)(),F=e.item,M=F.imagenes.length>0?F.imagenes[0].imagen:"assets/abi-logo-producto.png",B=function(e){if(e.no_apto_menores){var t=L();if(10!==t.case)return _(t.title),k(t.message),A(t.action),f(!0),!1}var c;i.productos.find((function(t){return t.id===e.id}))?i.sumarProducto(e):(c=Object(h.a)(Object(h.a)({},e),{},{cantidad:1,fabricante:e.fabricante.nombre,imagenes:e.imagenes.length>0?e.imagenes[0].imagen:"",categoria:e.categoria.nombre}),i.addProducto(c)),n.isLoggedIn&&a.environment.api.agregarEliminarProductoCarrito(e.id,null).then((function(e){e.kind}))},U=function(e){t.push(j.m.PRODUCTO_DETAIL(e.id,Object(N.m)(e.nombre)))};return Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)(x.a,{isOpen:m,onDidDismiss:function(){return f(!1)},header:"Acceso restringido",message:w,buttons:D?[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:v,handler:D}]:[{text:"Cancelar",role:"cancel",cssClass:"secondary"}]}),Object(l.jsxs)("div",{className:"container-tarjeta-producto",children:[Object(l.jsx)("div",{style:{display:"flex",minHeight:o,justifyContent:"center",alignItems:"center"},onClick:function(){return U(F)},children:Object(l.jsx)("img",{className:"my-2",src:M,alt:"item",style:{height:"auto",width:r}})}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(l.jsx)("div",{children:Object(l.jsx)(je.a,{name:"read-only",size:"small",value:F.fabricante.rating,readOnly:!0})}),Object(l.jsx)("span",{className:"sub-titulo-producto-inicio",style:{whiteSpace:"pre-wrap",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis"},onClick:function(){return U(F)},children:F.nombre}),Object(l.jsx)("p",{onClick:function(){return U(F)},className:"sub-titulo-producto-inicio-precio",children:Object(E.o)(F.precio_mayorista)})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingLeft:5,paddingRight:5},children:[Object(l.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-start"},children:Object(l.jsx)("div",{onClick:function(){return B(F)},children:Object(l.jsx)("img",{src:"assets/icon/corazon.png",className:"icono-tarjeta-producto"})})}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(l.jsx)("div",{onClick:function(){return T(z+1)},children:Object(l.jsx)(be.b,{size:30,color:"var(--gris-claro-abi)"})}),Object(l.jsx)("span",{style:{marginLeft:10,marginRight:10},children:z}),Object(l.jsx)("div",{onClick:function(){return T(z+1)},children:Object(l.jsx)(be.a,{size:30,color:"var(--gris-claro-abi)",className:"icono-add"})})]}),Object(l.jsx)("div",{onClick:function(){return B(F)},style:{flex:1,display:"flex",justifyContent:"flex-end"},children:Object(l.jsx)("img",{src:"assets/icon/carrito-gray.png",className:"icono-tarjeta-producto"})})]}),Object(l.jsx)("br",{})]})]})})),a(0)),fe=a.n(me),he=a(2),Oe=(a(514),a(226)),pe=a(145),xe=a(510),ge=a.n(xe),ve=Object(r.a)((function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(""),s=Object(p.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(""),j=Object(p.a)(u,2),m=j[0],f=j[1],h=Object(c.useState)(!1),O=Object(p.a)(h,2),g=O[0],v=O[1],_=e.camera_direction?e.camera_direction:0,N=(/Mobi/.test(navigator.userAgent),e.color||"#303AB2"),y=e.class_boton_aceptar||"btn-outline-primary";"web"===b.Capacitor.getPlatform()&&(_=1);var C=function(){var e=Object(he.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:_});case 3:t=e.sent,f(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var t=Object(he.a)(fe.a.mark((function t(){var a,n,c,r;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==b.Capacitor.getPlatform()){t.next=9;break}return t.next=4,pe.a.getPhoto({resultType:pe.c.Uri,source:pe.d.Prompt,direction:0===_?pe.b.Rear:pe.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return a=t.sent,n=a.webPath||"",f(n),!1===e.open_modal&&(i(!1),d(n),e.on_select(n)),t.abrupt("return");case 9:return t.next=11,Oe.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 11:(c=t.sent)&&(r="ios"===b.Capacitor.getPlatform()?"":"file://",c.startsWith(r)||(c=r+c)),f(c||""),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),k=function(){!1!==e.open_modal||"web"!==b.Capacitor.getPlatform()?(f(o),i(!0)):w()},S=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsx)("div",{className:"helptext-div col-12",children:e.helptext}),Object(l.jsx)("div",{className:"helptext-img-div mt-2 col-12",children:e.img_path&&Object(l.jsx)("img",{src:m?b.Capacitor.convertFileSrc(m):e.img_path,className:m?"helptext-img-div-img":"helptext-img-div-img-smaller",width:150})}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:["web"!==b.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(l.jsx)("button",{className:"btn "+y+" col-12",onClick:C,children:"SACAR FOTO"}),Object(l.jsx)("button",{className:"btn "+y+" col-12 mt-2",onClick:w,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:N,isOpen:g,close:function(){return v(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:n,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:S}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){i(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+y+" btn-block",onClick:function(){i(!1),m&&(d(m),e.on_select(m,e.userdata))},disabled:""===m,children:"ACEPTAR"})})]})})]}),e.perfil&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center pt-2",children:Object(l.jsx)("div",{style:{borderColor:N},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.disable?function(){}:k,children:Object(l.jsx)("img",{alt:"Imagen de perfil",style:{width:"100%",height:"100%",objectFit:"cover"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),e.titulo_label&&Object(l.jsx)("div",{className:"input-group mb-3",children:Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(l.jsx)("img",{onClick:e.disable?function(){}:k,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:e.disable?function(){}:k,style:{color:N},children:e.titulo_label}),e.titulo_boton?Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(l.jsx)("img",{onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.perfil&&!!e.children&&Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.children}),!e.perfil&&!e.children&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.titulo_label}),m&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),!m&&Object(l.jsx)("img",{className:"info-image",onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]})})),_e=(a(556),Object(r.a)((function(e){var t=Object(u.b)().registroStore,a=Object(c.useState)(""),n=Object(p.a)(a,2),i=n[0],r=n[1],s=e.color||"#303AB2",d=e.class_boton_aceptar||"btn-outline-primary",j=Object(c.useState)(20),b=Object(p.a)(j,2),m=b[0],h=b[1],O=Object(c.useState)(0),g=Object(p.a)(O,2),v=g[0],_=g[1],N=Object(c.useRef)(0),y=Object(c.useRef)(null);Object(c.useEffect)((function(){e.animate&&(y.current=setInterval((function(){_(N.current+1),N.current=N.current+1,N.current>6&&clearInterval(y.current)}),100))}),[e.animate]),Object(c.useEffect)((function(){if(m>0){var e=setTimeout((function(){return h(m-1)}),1e3);return function(){return clearTimeout(e)}}}),[m]);return Object(l.jsxs)(x.q,{isOpen:!!e.visible,id:"modal-carrito",swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-codigo-firebase",children:[Object(l.jsx)(f,{color:s,botonIzquierdo:Object(l.jsx)("span",{onClick:function(){return e.callback(null)},children:Object(l.jsx)(o.a,{size:30,color:"#ffffff"})}),titulo:"Verifique su n\xfamero"}),Object(l.jsx)("div",{className:"text-center titulo",children:Object(l.jsxs)("span",{children:["Se ha enviado el c\xf3digo de verificaci\xf3n al n\xfamero ",Object(E.l)(t.nro_telefono)]})}),Object(l.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[v<1&&Object(l.jsxs)("div",{className:"pin-container",children:[Object(l.jsx)("input",{type:"number",pattern:"\\d*",className:"pin-input",maxLength:6,value:i,onChange:function(e){var t=e.target.value;r(t?t.substring(0,6):"")}}),Object(l.jsxs)("div",{className:"lineas",children:[Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"})]})]}),v>=1&&Object(l.jsx)("div",{className:"input-dot",children:"\u2022"}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:55},children:v>=2?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:100},children:v>=3?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:145},children:v>=4?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:190},children:v>=5?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:235},children:v>=6?"\u2022":""})]}),Object(l.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly"},children:[!m&&Object(l.jsxs)("div",{style:{textAlign:"center"},children:[Object(l.jsx)("div",{className:"sub-titulo-login-abi mt-3",children:"\xbfNo recibiste el c\xf3digo?"}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",children:Object(l.jsxs)("div",{className:"py-3 cpointer",onClick:function(){return e.close()},style:{color:s},children:["Solicit\xe1 un ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:" nuevo c\xf3digo"})]})})]}),Object(l.jsx)("p",{className:"cpointer text-center",onClick:function(){e.callback("-1")},children:"Omitir este paso"}),Object(l.jsx)("h5",{style:{textAlign:"center"},children:Object(l.jsx)("a",{style:{fontWeight:"bold",width:"fit-content",color:s},href:"https://wa.me/595981840840",children:"Contactanos"})})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-3"}),Object(l.jsx)(et,{className:"py-4 px-5 ",children:Object(l.jsx)("button",{style:s?{backgroundColor:s,color:"#FFF"}:{},className:d+" boton-continuar",onClick:function(){return e.callback(i)},children:"Continuar"})})]})}))),Ne=(a(557),a(527)),ye=a.n(Ne),Ce=(a(144).BASE_URL,ye()({iconFilled:{color:"var(--naranja-abi)"},iconHover:{color:"var(--naranja-abi)"}})(je.a)),we=Object(r.a)((function(e){var t=Object(u.b)(),a=Object(c.useState)(!1),n=Object(p.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)(""),o=Object(p.a)(s,2),d=o[0],j=o[1],b=Object(c.useState)(""),m=Object(p.a)(b,2),f=m[0],h=m[1],O=Object(c.useState)(3),g=Object(p.a)(O,2),v=g[0],_=g[1],y=Object(c.useState)(""),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)(!1),I=Object(p.a)(S,2),D=I[0],A=I[1],R=Object(N.A)();Object(c.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:D?"":"modal-calificacion-transportista",onDidPresent:function(){A(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:i,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var a=t.pedidoCalificar;a&&t.environment.api.calificar(a.id_pedido,a.tipo_calificacion,a.id_calificar,v,w).then((function(e){R(e,"Calificaci\xf3n enviada exitosamente!","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"calificaicion-header d-flex justify-content-between p-2 btn",style:{backgroundColor:e.color},children:[Object(l.jsxs)("span",{className:"text-truncate",style:{maxWidth:300,color:"#fff",fontWeight:"bolder"},children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al driver"]}),Object(l.jsx)(se.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",style:{flex:1},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsxs)("span",{className:"nombre-cliente",children:["\xbfC\xf3mo fue tu experiencia con ",t.pedidoCalificar.nombre,"?"]})}),Object(l.jsx)(Ce,{className:"mx-auto mt-2",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{style:{textAlign:"center",color:"var(--gris-oscuro)"},children:"Comentarios"}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"",style:{backgroundColor:"#fff",width:"80%",border:"3px solid var(--gris-claro)",borderRadius:4},onChange:function(e){k(e.target.value)}})]}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("div",{className:"boton-calificar w-100",onClick:function(){return function(){var e="",a=t.pedidoCalificar;e=a&&20===a.tipo_calificacion?"la experiencia":a&&10===a.tipo_calificacion?"al cliente":"al driver",r(!0),h("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"Valorar"})})})]})]})})})),ke=(a(558),a(528),a(1068)),Se=a(529),Ie=Object(r.a)((function(e){var t=Object(u.b)(),a=t.transportistaStore,n=Object(c.useState)(!0),i=Object(p.a)(n,2),r=(i[0],i[1],Object(c.useState)(!1)),o=Object(p.a)(r,2),d=o[0],b=o[1],m=Object(c.useState)(),f=Object(p.a)(m,2),h=f[0],O=f[1],g=Object(c.useState)(),v=Object(p.a)(g,2),_=v[0],N=v[1],y=Object(c.useState)(!1),C=Object(p.a)(y,2),k=C[0],S=C[1],I=Object(c.useState)([]),D=Object(p.a)(I,2),A=D[0],R=D[1],E=Object(c.useState)(!1),P=Object(p.a)(E,2),z=P[0],T=P[1],L=Object(s.e)();Object(c.useEffect)((function(){N(a.itinerarioActivo)}),[a.itinerarioActivo]),Object(c.useEffect)((function(){O(a.hojaRutaActiva)}),[a.hojaRutaActiva]);return Object(l.jsxs)("div",{className:d?"footer-home-transportista open":"footer-home-transportista closed",children:[_&&Object(l.jsxs)(x.q,{isOpen:k,onDidDismiss:function(){return S(!1)},swipeToClose:!0,backdropDismiss:!0,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:_.tipo===j.u.ENTREGA?"Entrega":"Retiro"})})}),Object(l.jsxs)(x.g,{children:[Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Ciudad: "}),_.direccion_itinerario&&_.direccion_itinerario.ciudad_nombre]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle principal: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_principal]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle secundaria: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_secundaria]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"N\xfamero: "}),_.direccion_itinerario&&_.direccion_itinerario.numero]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Referencia: "}),_.direccion_itinerario&&_.direccion_itinerario.referencia]})})]}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",onClick:function(){return S(!1)},children:"Cerrar"})})})})]}),e.loading?Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(l.jsx)(x.z,{name:"crescent",className:"loadingSpinner"})}):d||_?d?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex flex-column justify-content-start",style:{width:"100%"},children:[Object(l.jsx)("div",{className:"row",style:{width:"100%"},children:Object(l.jsxs)("div",{className:"col-12 buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw",width:"100%"},onClick:function(){return b(!1)},children:[Object(l.jsx)("div",{children:Object(l.jsx)(w.a,{size:32})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})}),z&&Object(l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"100%"},children:Object(l.jsx)(x.z,{})}),!z&&!!A&&(null===A||void 0===A?void 0:A.length)>0&&Object(l.jsx)(x.g,{children:A.map((function(e){var t,a,n,c;return Object(l.jsxs)("div",{className:"oportunidades-list-item col-12 pt-2",children:[Object(l.jsxs)("div",{className:"datos-empresa",style:{lineHeight:"0.8rem"},children:[Object(l.jsxs)("div",{className:"mb-1",style:{fontWeight:"bold",fontSize:"0.8rem"},children:[e.inicio.fabricante,(null===(t=e.inicio.direccion_itinerario)||void 0===t?void 0:t.nombre)&&", ",null===(a=e.inicio.direccion_itinerario)||void 0===a?void 0:a.nombre]}),Object(l.jsxs)("p",{children:[null===(n=e.inicio.direccion_itinerario)||void 0===n?void 0:n.calle_principal," N\u0970"," ",null===(c=e.inicio.direccion_itinerario)||void 0===c?void 0:c.numero]}),Object(l.jsxs)("div",{className:"datos-punto-itinerario",children:[Object(l.jsx)("img",{src:"assets/icon/oportunidades.png"}),Object(l.jsx)("strong",{children:"Punto de retiro: "}),Object(l.jsxs)("span",{children:[e.inicio.tiempo_en_transito+e.inicio.tiempo_parada_calculado," min -"," ",e.inicio.distancia," km"]}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:"assets/icon/arrival_flag.png"}),Object(l.jsx)("strong",{children:"Punto de entrega: "}),Object(l.jsxs)("span",{children:[e.fin.tiempo_en_transito+e.fin.tiempo_parada_calculado," min - ",e.fin.distancia," ","km"]})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{onClick:function(){var t=new URLSearchParams(window.location.search);t.set("oportunidad",String(e.id)),L.push(j.n.HOME+"?"+t.toString()),b(!1)},children:Object(l.jsx)(Se.b,{})})})]},"oportunidad-"+e.id)}))}),!z&&!!A&&0===(null===A||void 0===A?void 0:A.length)&&Object(l.jsx)("div",{className:"d-flex justify-content-center align-content-center",children:Object(l.jsx)("p",{className:"text-center",children:"Todav\xeda no se encuentran oportunidades."})})]})}):Object(l.jsx)("div",{children:h&&_&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container flex-fill",children:Object(l.jsxs)("div",{className:"row align-items-start",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista",style:{backgroundColor:"var(--danger)"},onClick:function(){return e.onAbandonarItinerarioCliked(_)},children:"Abandonar"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista ",style:{backgroundColor:"var(--success)"},onClick:function(){return e.onEjecutarItinerarioClicked(_)},children:"Llegu\xe9"})})]})})})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"col buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw"},onClick:function(){b(!0),T(!0),t.environment.api.oportunidades().then((function(e){"ok"===e.kind&&(T(!1),R(e.data))}))},children:[Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{size:40})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})})]})})),De=(a(517),a(560),a(1546)),Ae=[1,2,3,4,5,6,7,8,9],Re=Object(r.a)((function(e){var t=Object(c.useState)(""),a=Object(p.a)(t,2),n=a[0],i=a[1],r=function(t){null==t?i(n.substr(0,n.length-1)):n.length<e.maxlen&&i(n+t)};return e.visible?Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:"modal-numpad",onDidDismiss:function(){return e.onVolver()},children:[Object(l.jsxs)("div",{className:"oportunidades-header",style:e.color?{backgroundColor:e.color}:{backgroundColor:"#303ab2"},children:[Object(l.jsx)(A.a,{size:30,onClick:function(){e.onVolver(),i("")},color:"white"}),Object(l.jsx)("span",{style:{fontSize:18},children:e.titulo})]}),Object(l.jsx)(x.g,{children:Object(l.jsxs)("div",{className:"numpad-container",children:[Object(l.jsx)("div",{className:"col-12 numpad-maindiv",children:Object(l.jsx)("span",{children:n})}),Ae.map((function(e){return Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(e)},children:Object(l.jsx)("span",{children:e})},"numpad-".concat(e))})),Object(l.jsx)("div",{className:"col-4 numpad-key"}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(0)},children:Object(l.jsx)("span",{children:"0"})}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(null)},children:Object(l.jsx)("span",{children:Object(l.jsx)(De.a,{})})})]})}),Object(l.jsx)("div",{className:"mb-2 mx-2 p-2",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",style:e.color?{borderColor:e.color,color:e.color}:{},onClick:function(){e.onAceptar(n),i("")},children:"Aceptar"})})})})]}):null})),Ee=(a(561),a(144).BASE_URL),Pe=ye()({iconFilled:{color:"#303AB2"},iconHover:{color:"#303AB2"}})(je.a),ze={1:"Muy malo",2:"Malo",3:"Bueno",4:"Muy bueno",5:"Excelente!"},Te=(Object(r.a)((function(e){var t=Object(u.b)(),a=Object(c.useState)(!1),n=Object(p.a)(a,2),i=n[0],r=n[1],s=Object(c.useState)(""),o=Object(p.a)(s,2),d=o[0],j=o[1],b=Object(c.useState)(""),m=Object(p.a)(b,2),f=m[0],h=m[1],O=Object(c.useState)(3),g=Object(p.a)(O,2),v=g[0],_=g[1],y=Object(c.useState)(""),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)(!1),I=Object(p.a)(S,2),D=I[0],R=I[1],E=Object(N.A)();Object(c.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:D?"":"modal-calificacion",onDidPresent:function(){R(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:i,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var a=t.pedidoCalificar;a&&t.environment.api.calificar(a.id_pedido,a.tipo_calificacion,a.id_calificar,v,w).then((function(e){E(e,"Calificado correctamente","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"transportista-header",children:[Object(l.jsx)(A.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"}),Object(l.jsxs)("span",{children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al transportista"]})]}),Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("div",{className:"imagen-perfil-container mx-auto d-flex mb-4 ml-0",children:t.pedidoCalificar.imagen?Object(l.jsx)("img",{alt:"imagen de perfil",src:Ee+t.pedidoCalificar.imagen}):Object(l.jsxs)("span",{children:[" ",Object(l.jsx)("br",{})," "]})}),Object(l.jsx)("span",{className:"nombre-cliente",children:t.pedidoCalificar.nombre})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",children:[Object(l.jsx)(Pe,{className:"mx-auto mt-5",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}}),Object(l.jsx)("div",{className:"mt-3",children:null!==v&&Object(l.jsx)("h3",{className:"text-center",children:ze[v]})}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"mx-4 mt-2",onChange:function(e){k(e.target.value)}}),Object(l.jsx)("div",{className:"boton-calificar my-5 mx-5",onClick:function(){return function(){var e="",a=t.pedidoCalificar;e=a&&20===a.tipo_calificacion?"la experiencia":a&&10===a.tipo_calificacion?"al cliente":"al transportista",r(!0),h("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"CALIFICAR"})]})]})})})),a(516)),Le=(a(562),a(591)),Fe=a.n(Le),Me=a(479),Be=Object(r.a)((function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(p.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(null),m=Object(p.a)(j,2),f=m[0],h=m[1],O=Object(c.useState)(!1),g=Object(p.a)(O,2),v=g[0],_=g[1],y=Object(c.useRef)(null),C=e.color||"#303AB2",w=e.class_boton_aceptar||"btn-outline-primary",k=Object(N.J)();i.a.useEffect((function(){e.preview&&h(e.preview)}),[]);var S=function(){var e=Object(he.a)(fe.a.mark((function e(){var t,a,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),"web"!==b.Capacitor.getPlatform()){e.next=4;break}return y.current.click(),e.abrupt("return");case 4:return e.next=6,Oe.a.getPicture({sourceType:2,destinationType:1,mediaType:Oe.a.MediaType.VIDEO});case 6:if(!(t=e.sent)){e.next=14;break}return a="ios"===b.Capacitor.getPlatform()?"":"file://",t.startsWith(a)||(t=a+t),e.next=12,Me.a.readFile({path:t});case 12:n=e.sent,t="data:video/mp4;base64,".concat(n.data);case 14:h(t),r(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){u(!0)},D=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsxs)("div",{className:"helptext-div px-2",children:[Object(l.jsx)("p",{children:"Todos los videos que ser\xe1n publicadas en ABi, deben cumplir los siguientes est\xe1ndares:"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 col-lg-4 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/mp4.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:"Archivos MP4/ H.264"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold",textAlign:"center"},children:"FORMATO"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4 mt-2 mt-lg-0 text-center",children:[Object(l.jsxs)("div",{style:{textAlign:"center",fontSize:14},children:["Aspecto: 640 x 360 px",Object(l.jsx)("br",{}),"(ancho x alto)"]}),Object(l.jsx)("div",{className:"mt-2",children:"Proporci\xf3n 16:9"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"TAMA\xd1O"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4  mt-2 mt-lg-0 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/sync-file.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-1",children:"M\xe1x. 10MB"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"PESO"})]}),Object(l.jsxs)("div",{className:"col-12 mt-4",children:["Duraci\xf3n m\xednima: 3 seg",Object(l.jsx)("br",{}),"Duraci\xf3n m\xe1xima: 1 min",Object(l.jsx)("br",{}),"Relaci\xf3n o aspecto del video: 16:9",Object(l.jsx)("br",{}),"Formato: MP4/H.264",Object(l.jsx)("br",{}),"Subt\xedtulo de video: opcional, texto centrado, evitar ocupar los m\xe1rgenes del material.",Object(l.jsx)("br",{}),"Sonido de video: voz en off, m\xfasicas con permisos de copyright."]})]})]}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(l.jsx)("input",{type:"file",accept:"video/mp4",ref:y,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];if(t.size>10485760)k("El video no puede pesar m\xe1s de 10 megabytes");else{var a=new FileReader;a.onload=function(e){h(e.target.result),r(!1)},a.readAsDataURL(t)}}},style:{display:"none"}}),Object(l.jsx)("button",{className:"btn "+w+" col-12 mt-2",onClick:S,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)(K.a,{color:C,isOpen:v,close:function(){return _(!1)},titulo:e.infoTitulo,cssClass:"requisitos-foto-perfil",children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:d,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:D}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){u(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+w+" btn-block",onClick:function(){u(!1),e.on_select(f)},disabled:""===f||n,children:"ACEPTAR"})})]})})]})]}),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsx)("div",{style:{borderColor:C,width:640,height:360,maxWidth:"100%"},className:e.extra_css_class,children:Object(l.jsx)("video",{controls:!0,style:{width:640,height:360,maxWidth:"100%"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:f||""})})}),Object(l.jsxs)("div",{className:"input-group mb-3 justify-content-center",style:{flexDirection:"column"},children:[!e.disabled&&Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!f&&Object(l.jsx)(Fe.a,{onClick:I,style:{fontSize:22,color:"#67757c"}}),f&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:I,style:{color:C},children:e.titulo_label}),e.titulo_boton&&Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton})]}),f&&Object(l.jsx)("div",{className:"cpointer text-center",onClick:function(){e.on_select(null),h(null)},children:Object(l.jsx)("strong",{children:"Eliminar"})})]})]})]})})),Ue=(a(563),Object(r.a)((function(e){var t=Object(N.J)(),a=Object(c.useState)(e.url),n=Object(p.a)(a,2),r=n[0],s=n[1],d=Object(c.useState)(!1),u=Object(p.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(350),h=Object(p.a)(m,2),O=h[0],g=h[1],v=Object(c.useState)(!1),_=Object(p.a)(v,2),y=_[0],C=_[1];i.a.useEffect((function(){s(e.url)}),[e.url]),i.a.useEffect((function(){b(e.visible)}),[e.visible]);var w=function(a){a.data.message&&-1!==["add_new_card_fail","add_new_card_success"].indexOf(a.data.message)&&("add_new_card_fail"===a.data.message?alert(a.data.details):(t("Tarjeta agregada exitosamente","success"),e.successCallback()),b(!1),s(null)),g(a.data.iframeHeight+1)};return i.a.useEffect((function(){return window.addEventListener("message",(function(e){w(e)})),function(){window.removeEventListener("message",(function(e){w(e)}))}}),[]),j?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:j,id:"modal-agregar-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){b(!1),s(null)},children:Object(l.jsx)(o.a,{size:30,color:"#ffffff"})}),titulo:"Registrar tarjeta"}),Object(l.jsxs)("div",{className:"texto-info",children:["Introduc\xed todos los datos de tu tarjeta, \xa1dale guardar y empez\xe1 a hacer tus compras!",Object(l.jsx)("img",{alt:"Recomendaciones",onClick:function(){return C(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(l.jsx)("div",{style:{padding:20},children:!!r&&Object(l.jsx)("iframe",{src:r,height:"100%",width:"100%",style:{border:0,height:O}})}),Object(l.jsx)("div",{children:"\xa0"})]}),Object(l.jsx)(x.q,{isOpen:y,id:"info-tarjeta",cssClass:"modal-info-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Datos de las tarjetas"})}),Object(l.jsx)("div",{onClick:function(){return C(!1)},children:Object(l.jsx)(se.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("img",{alt:"Informaci\xf3n",src:"assets/info-datos-tarjeta.png",style:{padding:"24px"}})})]})})]}):null}))),qe=a(482),He=a(484),We=(a(483),a(564),a(1)),Ye=a(87),Ve=a.n(Ye),Ge=a(1547),Je=a(505),Ze=a(229),Qe=(a(565),i.a.forwardRef((function(e,t){var a=Object(u.b)(),n=a.carritoStore,r=Object(c.useState)(null),s=Object(p.a)(r,2),d=s[0],j=s[1],b=Object(c.useState)(!1),m=Object(p.a)(b,2),h=m[0],O=m[1],g=Object(c.useState)(350),v=Object(p.a)(g,2),_=v[0],N=v[1],y=3===n.medioPago?"Tigo Money":"Tarjeta de d\xe9bito o cr\xe9dito ocasional",C=Object(c.useRef)(null),w=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return{iniciarPago:function(e,t){w.current=e,j(t),O(!0)}}}));var k=function(t){w.current&&a.environment.api.verificarTransaccion(w.current,t).then((function(t){"ok"===t.kind&&(3===n.medioPago?"success"===t.data.status?(clearInterval(C.current),O(!1),e.successCallback()):"fail"===t.data.status||"reverted"===t.data.status?(clearInterval(C.current),alert("Lo sentimos, ocurri\xf3 un error al procesar el pago"),O(!1)):"cancel"===t.data.status&&(clearInterval(C.current),O(!1)):t.data.transaccion_error_description?(clearInterval(C.current),alert(t.data.transaccion_error_description),O(!1)):"00"===t.data.transaccion_response_code&&(clearInterval(C.current),O(!1),e.successCallback()))}))},S=function(t){t.data.message&&-1!==["payment_fail","payment_success"].indexOf(t.data.message)&&("payment_success"===t.data.message?e.successCallback():t.data.details?(alert(t.data.details),O(!1)):k("bancard")),t.data.iframeHeight&&N(t.data.iframeHeight+1)};return i.a.useEffect((function(){return window.addEventListener("message",S),function(){window.removeEventListener("message",S)}}),[]),i.a.useEffect((function(){return 3===n.medioPago&&(C.current=setInterval((function(){return k("tigo")}),3e3)),function(){C.current&&clearInterval(C.current)}}),[]),h?Object(l.jsxs)(x.q,{isOpen:h,id:"modal-singlebuy",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){O(!1),j(null)},children:Object(l.jsx)(o.a,{size:30,color:"#ffffff"})}),titulo:y}),Object(l.jsx)("div",{style:{padding:20},children:!!d&&Object(l.jsx)("iframe",{src:d,height:"100%",width:"100%",style:{border:0,height:_}})}),Object(l.jsx)("div",{children:"\xa0"})]}):null}))),Ke=(a(566),Object(r.a)((function(e){var t=Object(u.b)(),a=Object(c.useState)({}),n=Object(p.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(!1),d=Object(p.a)(o,2),j=d[0],b=(d[1],Object(N.A)()),m=Object(c.useState)(!1),f=Object(p.a)(m,2),O=f[0],g=f[1];i.a.useEffect((function(){g(e.visible)}),[e.visible]);var v=Object(c.useState)({id:null,razon_social:"",ruc:"",default:!1}),_=Object(p.a)(v,2),y=_[0],C=_[1],w=function(e,t){var a=Object(h.a)({},y);a[e]=t,C(a)};return O?Object(l.jsx)(x.q,{isOpen:O,cssClass:"modal-datos-facturacion-short",onDidDismiss:function(){return g(!1)},children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"A\xf1adir datos de facturaci\xf3n"})}),Object(l.jsx)("div",{onClick:function(){return g(!1)},children:Object(l.jsx)(se.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(l.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",paddingTop:20},children:[Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"RUC o C\xe9dula de identidad",tipo:"texto",campo:"ruc",valor:y.ruc?y.ruc:"",error:r&&r.ruc,set_dato:w,campo_blur:!0,set_dato_blur:function(){var e=y.ruc.indexOf("-")>0?{ruc:y.ruc}:{documento:y.ruc};t.environment.api.consultarRuc(e).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&C(Object.assign({},y,{id:y.id,ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social,default:y.default}))}})).catch((function(){}))},columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:y.razon_social?y.razon_social:"",error:r&&r.razon_social,set_dato:w,columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{className:"button-anadir-editar-perfil-modal-container",children:Object(l.jsx)("button",{className:"button-anadir-editar-perfil-modal",title:"Agregar guardar datos de facturaci\xf3n",onClick:function(){var a;a=y,s({}),t.environment.api.guardarDatoFacturacionUsuario(a).then((function(t){b(t,"Datos de facturaci\xf3n guardardos correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),C({id:null,razon_social:"",ruc:"",default:!1}),g(!1)):"bad-data"===t.kind&&s(t.errors)}))},children:"Guardar"})})]})]})}):null}))),Xe=a(162),$e=Object(r.a)((function(e){var t=e.index,a=e.setIndexCallback,n=Object(u.b)(),i=n.loginStore,r=n.carritoStore,o=n.tarjetaStore,d=Object(c.useState)(!1),b=Object(p.a)(d,2),m=b[0],f=b[1],O=Object(c.useState)(!0),g=Object(p.a)(O,2),v=g[0],_=g[1],y=Object(c.useState)(!1),w=Object(p.a)(y,2),k=w[0],S=w[1],I=Object(N.E)(),D=Object(c.useState)(),A=Object(p.a)(D,2),R=A[0],P=A[1],z=Object(c.useState)(),T=Object(p.a)(z,2),L=T[0],F=T[1],M=Object(c.useState)(!1),B=Object(p.a)(M,2),U=B[0],q=B[1],H=Object(N.J)(),Y=Object(N.A)(),V=Object(c.useState)("-"),G=Object(p.a)(V,2),J=G[0],Z=G[1],Q=Object(c.useState)(null),X=Object(p.a)(Q,2),$=(X[0],X[1]),ee=Object(c.useState)(Object(N.o)(i.nro_telefono)),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(!1),ie=Object(p.a)(ce,2),re=ie[0],se=ie[1],oe=Object(c.useState)(!0),le=Object(p.a)(oe,2),de=le[0],ue=(le[1],Object(c.useState)(!1)),je=Object(p.a)(ue,2),be=je[0],me=je[1],fe=Object(c.useState)(null),he=Object(p.a)(fe,2),Oe=he[0],pe=he[1],xe=Object(c.useState)(),ge=Object(p.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(c.useState)(),ye=Object(p.a)(Ne,2),Ce=ye[0],we=ye[1],ke=Object(c.useState)(r.envio_sin_hora),Se=Object(p.a)(ke,2),Ie=Se[0],De=Se[1],Ae=Object(c.useState)(null),Re=Object(p.a)(Ae,2),Ee=Re[0],Pe=Re[1],ze=Object(c.useState)(null),Te=Object(p.a)(ze,2),Le=Te[0],Fe=Te[1],Me=Object(s.e)(),Be=Ve()(),qe=Object(c.useState)(null),Ye=Object(p.a)(qe,2),$e=Ye[0],et=Ye[1],tt=Object(c.useState)(!1),at=Object(p.a)(tt,2),nt=at[0],ct=at[1],it=Object(c.useState)(!1),rt=Object(p.a)(it,2),st=rt[0],ot=rt[1],lt=Object(c.useRef)(null),dt=Object(c.useState)(!1),ut=Object(p.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(c.useState)(""),ft=Object(p.a)(mt,2),ht=ft[0],Ot=ft[1],pt=Object(c.useState)(""),xt=Object(p.a)(pt,2),gt=xt[0],vt=xt[1],_t=Object(c.useState)(""),Nt=Object(p.a)(_t,2),yt=Nt[0],Ct=Nt[1],wt=Object(c.useState)(""),kt=Object(p.a)(wt,2),St=kt[0],It=kt[1];Object(c.useEffect)((function(){Dt(),r.total>0&&At()}),[i.id]),Object(c.useEffect)((function(){Dt(),S(!0),se(window.innerWidth<=500);var e=i.datos_facturacion.find((function(e){return e.default}));e&&F({id:e.id,default:e.default,razon_social:e.razon_social,ruc:e.ruc})}),[]),Object(c.useEffect)((function(){Ie?(r.setEnvioSinHora(),r.setCompraMejorada(!1)):(r.setEnvioConHora(r.entregaDesde?r.entregaDesde:"",r.entregaHasta?r.entregaHasta:""),r.setCompraMejorada(!1))}),[Ie]),Object(c.useEffect)((function(){r.total>0&&At()}),[r.total]),Object(c.useEffect)((function(){pe(r.medioPago),r.medioPago===Ze.b.tarjeta_registrada&&_e(o.tarjetas.find((function(e){return e.card_id===r.tarjeta})))}),[r.medioPago,r.tarjeta]),Object(c.useEffect)((function(){var e=I();P(e)}),[]),Object(c.useEffect)((function(){(null===ve||void 0===ve?void 0:ve.card_brand)&&we(Object(N.r)(null===ve||void 0===ve?void 0:ve.card_brand))}),[ve]);var Dt=function(){n.environment.api.fechaEstimada().then((function(e){if("ok"===e.kind){var t=Ve()(),a=Ve.a.duration(t.diff(Ve()(e.data.express.fecha))).humanize();$(e.data),Z(a)}else $(null),Z("-")}))},At=function(){n.environment.api.costoEnvio(r.total).then((function(e){"ok"===e.kind?(console.log(r.total+e.data.costo_envio),Pe(e.data.costo_envio),Fe(e.data.envio_gratuito_apartir),_(!1)):H("No se pudo obtener detalles del env\xedo","warning")}))},Rt=function(){_(!0);var e=r.compra_mejorada,t=!r.envio_sin_hora,a=r.envio_sin_hora?"":Ve()(r.entregaDesde).format("HH:mm"),n=r.envio_sin_hora?"":Ve()(r.entregaHasta).format("HH:mm"),c=r.envio_sin_hora?Ve()().format("YYYY-MM-DD HH:mm:ss"):Ve()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),s=i.environment.api,o=Xe(r.total).value(),l=L?L.id:null;s.singleBuy(R,r.medioPago,r.productos,o,e,t,a,n,de,Object(N.p)(ae),c,l).then((function(e){_(!1),"ok"===e.kind?r.medioPago===Ze.b.billetera_personal?e.exitoso?(H("Pago registrado con \xe9xito!","success"),r.reset(),Me.replace(j.m.PEDIDOS)):H(e.mensaje_transaccion,"error"):lt.current.iniciarPago(e.transaccion_id,e.url):"bad-data"===e.kind?e.errors.non_field_errors&&H(e.errors.non_field_errors[0],"warning"):H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}))},Et=function(){n.environment.api.getCliente(i.id).then((function(e){if("ok"===e.kind){var t=Object(h.a)({},e.cliente);i.setDirecciones(t.direcciones),i.setDatosFacturacion(t.datos_facturacion)}else H("Ocurri\xf3 un error al actualizar las direcciones","error")}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Qe,{ref:lt,successCallback:function(){H("Pago registrado con \xe9xito!","success"),r.reset(),Me.replace(j.m.PEDIDOS)}}),Object(l.jsx)(K.a,{close:function(){bt(!1)},isOpen:jt,color:"var(--naranja-abi)",titulo:"Fecha de compra programada",cssClass:"modal-compra-programada",children:Object(l.jsxs)("div",{className:"mt-4",children:[Object(l.jsx)("span",{children:"Fecha:"}),Object(l.jsx)(x.m,{type:"date",value:ht,onIonChange:function(e){return Ot(e.detail.value)},min:Be.format("YYYY-MM-DD"),className:"form-control"}),Object(l.jsx)("span",{children:"Desde las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return vt(e.target.value)},value:gt}),Object(l.jsx)("span",{children:"Hasta las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Ct(e.target.value)},value:yt}),Object(l.jsx)("div",{className:"metodos-pago-container",children:Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!function(){var e=new RegExp("^([01]?[0-9]|2[0-3]):[0-5][0-9]$"),t=function(t){return e.test(t)};if(ht)if(t(gt)&&t(yt)){var a=Ve()(ht).format("DD/MM/YYYY");Ot(a.toString());var n=Ve()(ht).format("D \\d\\e MMMM");n="".concat(n," de ").concat(gt," a ").concat(yt," hs"),r.setEntregaDesde(ht+" "+gt),r.setEntregaHasta(ht+" "+yt),It(n),bt(!1)}else H("Ingrese una hora v\xe1lida","warning");else H("Ingrese una fecha","warning")}()},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"Guardar"})})})})]})}),nt&&Object(l.jsx)(He.a,{visible:!0,successCallback:function(){Et()}}),k&&i.direcciones.length>0&&Object(l.jsx)(C.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:i.direcciones,listado_elementos_seleccionados:R&&0!==R.id?R.id:[],datos_filtrados:function(e){!function(e){var t=i.direcciones.find((function(t){return t.id===e}));t&&P(Object(We.d)(t))}(e[0])},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:m,mostrar_modal_cambio_estado:function(e){f(e)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){ct(!1),setTimeout((function(){return ct(!0)}),100)}}),$e&&Object(l.jsx)(Ue,{visible:!0,url:$e,successCallback:function(){et(null),_(!0),i.environment.api.obtenerTarjetas().then((function(e){_(!1),"ok"===e.kind?o.setTarjetas(e.tarjetas):Y(e,"","obtener las tarjetas")}))}}),st&&Object(l.jsx)(Ke,{visible:!0,successCallback:function(){Et()}}),Object(l.jsx)(K.a,{close:function(){return q(!1)},isOpen:U,color:"var(--naranja-abi)",titulo:"Datos de facturaci\xf3n",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsx)(x.g,{style:{flexGrow:3},children:i.datos_facturacion.map((function(e,t){return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return F(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:(null===L||void 0===L?void 0:L.id)===e.id})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{style:(null===L||void 0===L?void 0:L.id)===e.id?{color:"var(--verde-claro)"}:{},children:e.razon_social})}),Object(l.jsx)("p",{className:"help",children:e.ruc})]})]},t)}))}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){ot(!1),setTimeout((function(){return ot(!0)}),100)},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir datos de facturaci\xf3n"})})})]})}),Object(l.jsx)(K.a,{close:function(){return me(!1)},isOpen:be,color:"var(--naranja-abi)",titulo:"M\xe9todo de Pago",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsxs)(x.g,{style:{flexGrow:3},children:[o.tarjetas.map((function(e,t){var a=e.card_brand?Object(N.r)(e.card_brand):null;return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&function(e){r.setTarjeta(e.card_id)}(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.tarjeta===e.card_id})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("strong",{style:r.tarjeta===e.card_id?{color:"var(--verde-claro)"}:{},children:["Tarjeta ",t+1," "]}),a&&Object(l.jsx)("img",{src:a,height:18})]}),Object(l.jsx)("p",{className:"help",children:e.card_masked_number})]})]},t)})),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.tarjeta_no_registrada)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.tarjeta_no_registrada})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.tarjeta_no_registrada?{color:"var(--verde-claro)"}:{},children:"Tarjeta de d\xe9bito o cr\xe9dito ocasional"}),Object(l.jsx)("p",{className:"help",children:"De esta forma se ingresa los datos de la tarjeta todas las veces al momento de pagar."})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"",onClick:function(){return!v&&r.setMedioPago(Ze.b.zimple)},children:Object(l.jsx)("div",{className:"checkbox",children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.zimple})})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.zimple?{color:"var(--verde-claro)"}:{},children:"Billetera Zimple Bancard"}),Object(l.jsxs)("p",{className:"help",children:["Billetera: ",i.nro_telefono]})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.tigo_money)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.tigo_money})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.tigo_money?{color:"var(--verde-claro)"}:{},children:"Tigo Money"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control  registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ne(e.target.value)},value:ae})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.billetera_personal)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.billetera_personal})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.billetera_personal?{color:"var(--verde-claro)"}:{},children:"Billetera Personal"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ne(e.target.value)},value:ae})]})]}),n.isDebug&&Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Ze.b.test)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Ze.b.test})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Ze.b.test?{color:"var(--verde-claro)"}:{},children:"Test"}),Object(l.jsx)("p",{className:"help",children:"Medio de pago para pruebas."})]})]})]}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!v&&(et(null),_(!0),i.environment.api.crearTarjeta().then((function(e){if(_(!1),"ok"===e.kind){var t=e.url,a=t.split("/")[2].split(":")[1],n=t.split("process_id=")[1];et("https://vpos.infonet.com.py:".concat(a,"/checkout/register_card/new?process_id=").concat(n))}else H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")})))},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir met\xf3do de pago"})})})]})}),"metodo-envio"===t&&Object(l.jsxs)("div",{className:"datos-carrito-container",children:[!re&&Object(l.jsxs)("div",{className:"d-flex",style:{gap:10},children:[Object(l.jsx)("a",{onClick:function(){return Me.goBack()},children:Object(l.jsx)(Ge.a,{size:re?15:20})}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Seguir Comprando"})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:" Tipo de compra"}),Object(l.jsx)("div",{className:"container-tipo-delivery cpointer py-1",onClick:function(){De(!0)},children:Object(l.jsxs)("div",{className:Ie?"seleccionado-checkout":"no-seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[Ie&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),!Ie&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Express"})})]})}),Object(l.jsxs)("div",{className:"container-tipo-delivery cpointer py-1",style:{flexDirection:"column"},onClick:function(){bt(!0),De(!1)},children:[Object(l.jsxs)("div",{className:Ie?"no-seleccionado-checkout":"seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[!Ie&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),Ie&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Programada"})})]}),!Ie&&Object(l.jsx)("div",{className:"set-horatio-entrega-container",style:{width:"90%",display:"block",fontSize:14,textAlign:"center",paddingTop:8,borderRadius:8},children:!r.envio_sin_hora&&Object(l.jsx)("div",{children:St})})]})]}),v&&Object(l.jsx)("div",{className:"detalle-envio-checkout-container",children:Object(l.jsx)(x.z,{name:"crescent",color:"primary"})}),!v&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Subtotal"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:Object(E.o)(r.total)}),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Delivery gratis con compras a partir de ",Object(E.o)(Le)," ",Object(l.jsx)("br",{})," V\xe1lido para Asunci\xf3n y Gran Asunci\xf3n."]})]}),Le&&r.total<Le&&Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:["Faltan ",Object(E.o)(Le-r.total)," para que tu delivery sea gratuito."]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Tiempo estimado de entrega"}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:Ie?J:"-"})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",children:Object(l.jsx)("button",{className:"btn btn-info px-5 py-2 my-2",type:"button",onClick:function(){if(!i.isLoggedIn){H("Inicie sesi\xf3n para finalizar su compra");var e=new URLSearchParams(window.location.search);return e.set("login","1"),e.set("checkout","1"),void Me.push(window.location.pathname+"?"+e.toString())}i.perfil_completo?r.envio_sin_hora||r.entregaDesde&&r.entregaHasta||!de?a("tarjeta-direcion"):H("Debe seleccionar el horario de entrega del pedido","warning"):Me.replace("".concat(j.m.CLIENTE,"?checkout=1"))},children:"Finalizar compra"})})]}),"tarjeta-direcion"===t&&Object(l.jsxs)("div",{className:"container-checkout-carrito",style:{display:"flex"},children:[Object(l.jsxs)("div",{className:" container-tarjeta-direccion-checkout datos-carrito-container ",style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Direcci\xf3n de entrega"}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[!!R&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:R.icono&&j.d[R.icono]?j.d[R.icono]:"assets/icon/ubicacion-gray.png",className:"icono-direccion-checkout"}),!!R.nombre&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:[R.nombre," "]}),Object(l.jsx)("br",{})]})]}),Object(l.jsxs)("div",{children:[R.calle_principal," ",R.numero]})]}),Object(l.jsx)("div",{className:"cpointer",onClick:function(){f(!0)},style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},children:"Cambiar"})]}),!(i.direcciones.length>0)&&Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsx)("div",{className:"icono-direccion-tarjeta-container"}),Object(l.jsx)("div",{className:"pl-lg-4 icono-direccion-tarjeta-container",children:Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){ct(!1),setTimeout((function(){return ct(!0)}),100)},children:"Agregar direcci\xf3n"})})]})]})]}),i.datos_facturacion.length>0&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Datos de facturaci\xf3n"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:L?L.razon_social:i.defaultDatoFacturacion?i.defaultDatoFacturacion.razon_social:""}),Object(l.jsxs)("div",{children:[L?L.ruc:i.defaultDatoFacturacion?i.defaultDatoFacturacion.ruc:""," "]})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){q(!0)},children:L?"Cambiar":"Elegir"})]})})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" M\xe9todo de pago"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Oe===Ze.b.tarjeta_no_registrada&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:"Tarjeta Ocasional"})})]}),Oe===Ze.b.test&&Object(l.jsxs)("div",{className:"direccion-checkout-carrito",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Test "}),Object(l.jsx)("br",{})]}),Oe===Ze.b.zimple&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Zimple "}),Object(l.jsx)("br",{})]}),Oe===Ze.b.billetera_personal&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Billetera Personal"}),Object(l.jsx)("br",{})]}),Oe===Ze.b.tigo_money&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Tigo Money"}),Object(l.jsx)("br",{})]}),Oe===Ze.b.tarjeta_registrada&&ve&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:["Tarjeta ",Ce?Object(l.jsx)("img",{src:Ce,height:18}):null]}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:ve.card_masked_number})]})}),Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){me(!0)},children:"Cambiar"})]})})})]})]}),Object(l.jsxs)("div",{className:"datos-carrito-container p-4 costos-checkout-container",children:[Object(l.jsxs)("div",{style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:" Mi pedido"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontSize:"0.875rem"},onClick:function(){return a("metodo-envio")},children:"Ver detalles"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:Object(E.o)(r.total)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:" Env\xedo"})}),Object(l.jsx)("div",{children:Ee?Object(l.jsx)("strong",{children:Object(E.o)(Ee)}):Object(l.jsx)("strong",{children:Object(E.o)(0)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:" Total"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"0.875rem"},children:"Incluye IVA"})]}),Object(l.jsx)("div",{children:Ee?Object(l.jsx)("strong",{children:Object(E.o)(r.total+Ee)}):Object(l.jsx)("strong",{children:Object(E.o)(r.total)})})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",style:{flex:2},children:Object(l.jsx)("button",{onClick:function(){!function(){if(!r.envio_sin_hora&&(!r.entregaDesde||!r.entregaHasta)&&de)return H("Debe seleccionar el horario de entrega del pedido","warning"),!1;var e=r.compra_mejorada,t=!r.envio_sin_hora,a=t?Ve()(r.entregaDesde).format("HH:mm"):null,n=t?Ve()(r.entregaHasta).format("HH:mm"):null,c=r.envio_sin_hora?null:Ve()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),s=L?L.id:null;if(0===(null===R||void 0===R?void 0:R.id)&&de)return H("Debe seleccionar una direcci\xf3n de entrega para realizar la compra","warning"),!1;if(r.medioPago===Ze.b.tarjeta_no_registrada||r.medioPago===Ze.b.zimple||r.medioPago===Ze.b.tigo_money||r.medioPago===Ze.b.billetera_personal)Rt();else if(r.tarjeta||r.medioPago===Ze.b.test){_(!0);var o=Xe(r.total).value();i.environment.api.crearPedido(R,r.medioPago,r.productos,r.tarjeta,o,e,t,a,n,de,c,s).then((function(e){if(_(!1),"ok"===e.kind)r.reset(),H("Pago realizado satisfactoriamente","success"),Me.push(j.m.PEDIDOS);else if("bad-data"===e.kind){if(e.errors.non_field_errors)return H(e.errors.non_field_errors[0],"warning"),!1;H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}}))}}()},disabled:v,className:"btn btn-info px-5 py-2 mt-2",type:"button",children:"Confirmar Compra"})})]})]})]})})),et=(a(492),a(494),function(e){var t=e.movil?e.movil:Object(N.s)();return Object(l.jsx)("div",{style:e.style?e.style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:t?"var(--gris-claro)":"#fff",marginBottom:"env(safe-area-inset-bottom)",flexDirection:"column"},className:"footer-formulario py-3 px-3 "+e.className,children:e.children})}),tt=(a(489),a(490),a(515),a(488),a(495),a(1732)),at=a(1521),nt=a(1741),ct=a(412),it=a(413),rt=a(142),st=(a(287),a(523)),ot=(a(567),function(e){var t=Object(c.useState)(""),a=Object(p.a)(t,2),n=a[0],r=a[1];return i.a.useEffect((function(){if(""!==n&&""!==e.fecha){var t=Ve()("".concat(e.fecha," ").concat(n),st.a.DATEHOURMINUTE).format(st.a.ISO);e.setFecha(t)}else""===n&&e.setFecha("")}),[e.fecha,n]),Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[e.orden.fabricante,Object(l.jsx)("br",{}),Object(l.jsx)("small",{children:Ve()(e.orden.fecha_retiro).format(st.a.DATEHOURMINUTE)})]}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:n,error:"",set_dato:function(e,t){return r(t)},columnas:6,columnas_sm:6})})})]},"orden-"+e.orden.id)}),lt=Object(r.a)((function(e){var t=Object(u.b)(),a=Object(c.useState)(),n=Object(p.a)(a,2),r=n[0],o=n[1],d=Object(c.useState)(),b=Object(p.a)(d,2),m=b[0],f=b[1],h=Object(c.useState)(""),g=Object(p.a)(h,2),v=g[0],_=g[1],y=Object(c.useState)(""),C=Object(p.a)(y,2),w=C[0],k=C[1],S=Object(c.useState)({lng:-57.63591,lat:-25.30066}),I=Object(p.a)(S,2),D=I[0],A=I[1],R=Object(c.useState)(!1),E=Object(p.a)(R,2),P=E[0],z=E[1],T=Object(c.useState)([[-57.63591,-25.30066]]),L=Object(p.a)(T,2),F=L[0],M=L[1],B=Object(c.useState)(),U=Object(p.a)(B,2),q=U[0],H=U[1],W=Object(N.J)(),Y=Object(N.A)(),V=Object(s.e)();i.a.useEffect((function(){var t,a=e.pedido;if(a&&a.ordenes_venta&&(null===(t=a.ordenes_venta)||void 0===t?void 0:t.length)>0){var n=a.direccion.ubicacion.split(",");H({lat:Number(n[0]),lng:Number(n[1])});var c=Object(O.a)(a.ordenes_venta);c.sort((function(e,t){var a=new Date(e.fecha_confirmado),n=new Date(t.fecha_confirmado);return a.getTime()<n.getTime()?-1:1})),o(c)}}),[e.pedido]),i.a.useEffect((function(){if(r&&r.length>0){var e=r.map((function(e){return{orden_id:e.id,fecha:""}}));f(e)}}),[r]),i.a.useEffect((function(){var e=setTimeout((function(){z(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),i.a.useEffect((function(){if(r&&e.pedido&&q&&m){var t=[],a=Object(O.a)(m),n=!1;a.sort((function(e,t){""!==e.fecha&&""!==t.fecha||(n=!0);var a=new Date(e.fecha),c=new Date(t.fecha);return a.getTime()<c.getTime()?-1:1})),a.forEach((function(e){var a=r.find((function(t){return t.id===e.orden_id}));a&&t.push(a)}));var c=t.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));c.push([q.lat,q.lng]),M(""===v||n?null:c)}}),[m]),i.a.useEffect((function(){if(r&&e.pedido&&q){var t=r.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));t.push([q.lat,q.lng]),M(""===v?null:t);var a={lat:t.reduce((function(e,t){return e+t[0]}),0)/t.length,lng:t.reduce((function(e,t){return e+t[1]}),0)/t.length};A(a)}}),[r,q]);var G=Object(N.C)((function(e){})),J=Object(p.a)(G,2),Z=(J[0],J[1]);return Object(l.jsxs)(x.q,{isOpen:e.visible,onDidDismiss:e.setVisible,swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ruteo-pedido",children:[Z,Object(l.jsxs)("div",{className:"content-container",children:[Object(l.jsxs)("div",{className:"container d-flex flex-column pt-3",children:[Object(l.jsx)("h3",{children:"Itinerario"}),Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)("strong",{children:"Fecha"})}),Object(l.jsx)($,{deshabilitado:!0,titulo:"dd/mm/aaaa",tipo:"fecha",campo:"fecha_retiro",valor:v,error:"",set_dato:function(e,t){return _(t)},columnas:6,columnas_sm:6})]}),Object(l.jsx)(x.g,{style:{flex:1},children:r&&r.length>0&&Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Paradas"}),Object(l.jsx)("th",{})]})}),Object(l.jsxs)("tbody",{children:[!!m&&m.length>0&&r.map((function(e,t){return Object(l.jsx)(ot,{orden:e,setFecha:function(e){var a=Object(O.a)(m);a[t].fecha=e,f(a)},fecha:v},e.id)})),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Cliente"}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:w,error:"",set_dato:function(e,t){return k(t)},columnas:6,columnas_sm:6})})})]})]})]})})})})})}),Object(l.jsxs)("div",{className:"row justify-content-center",children:[Object(l.jsx)(tt.a,{className:"btn btn-light ml-3 mb-3",onClick:e.setVisible,children:"Cancelar"}),Object(l.jsx)(tt.a,{className:"btn btn-primary ml-3 mb-3",onClick:function(){var a=Ve()("".concat(v," ").concat(w),st.a.DATEHOURMINUTE),n=!1;if(null===m||void 0===m||m.forEach((function(e){a.isBefore(e.fecha)&&(n=!0,W("La hora de entrega debe ser posterior a las dem\xe1s."))})),!n&&r&&m){var c={pedido_id:e.pedido.id,fecha_entrega:a.format(st.a.ISO),itinerarios_retiro:Object(O.a)(m)};t.environment.api.ruteoManualStaff(c).then((function(t){Y(t,"Pedido ruteado correctamente","rutear"),"ok"===t.kind?(e.setVisible(!1),V.push(j.m.ADMIN_PEDIDO_DETAIL(e.pedido.id)+"?r=true")):"bad-data"===t.kind&&W("Fecha/hora err\xf3nea.")}))}},children:"Guardar"})]})]}),Object(l.jsx)("div",{children:P&&Object(l.jsxs)(at.a,{zoom:13,center:D,style:{height:"100%",width:"100%"},attributionControl:!1,children:[Object(l.jsx)(nt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!!F&&Object(l.jsx)(ct.a,{positions:F}),!!r&&(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return Object(l.jsx)(it.a,{position:e.punto_retiro.ubicacion.split(","),icon:N.b.fabricante,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsx)("span",{className:"",children:e.fabricante})}),Object(l.jsxs)("div",{className:"itinerario-columna2",children:[Object(l.jsx)("span",{children:e.punto_retiro.nombre}),Object(l.jsxs)("span",{children:[e.punto_retiro.calle_principal," c/ ",e.punto_retiro.calle_secundaria]})]})]})})},e.id)})),!!q&&!!e.pedido&&Object(l.jsx)(it.a,{position:q,icon:N.b.usuario,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsxs)("span",{className:"",children:[e.pedido.usuario.first_name," ",e.pedido.usuario.last_name]})}),Object(l.jsx)("div",{className:"itinerario-columna2",children:Object(l.jsxs)("span",{children:[e.pedido.direccion.calle_principal," c/ ",e.pedido.direccion.calle_secundaria]})})]})})})]})})]})]})})),dt=(a(568),a(197)),ut=Object(r.a)((function(e){return Object(l.jsxs)(x.q,{isOpen:!0,id:"modal-upgrade-required",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)("img",{src:"assets/abi-v.svg",alt:"ABi",height:"80px"}),Object(l.jsx)("div",{className:"mt-3 text-bold",children:"Actualizaci\xf3n requerida"}),Object(l.jsx)("div",{className:"mt-3 text-center",children:"Para poder seguir utilizando ABi es necesario que actualice su app a la \xfaltima versi\xf3n."}),Object(l.jsxs)("div",{className:"mt-3",children:["Versi\xf3n instalada: ",dt.RELEASE.split("@")[1]]})]})}))},476:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(546);var n=a(40),c=(a(3),a(1543)),i=a(161),r=a(9),s=Object(i.a)((function(e){var t=e.cssClass?e.cssClass:"";return Object(r.jsxs)(n.q,{isOpen:e.isOpen,onDidDismiss:function(){return e.close()},cssClass:"modal-info "+t,children:[Object(r.jsxs)("div",{className:"header-modal-info",style:{backgroundColor:e.color?e.color:"var(--naranja-abi)"},children:[Object(r.jsx)("div",{children:Object(r.jsx)("span",{children:e.titulo})}),Object(r.jsx)("div",{onClick:function(){return e.close()},children:Object(r.jsx)(c.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"fit-content",width:"100%",backgroundColor:"#fff",borderBottomLeftRadius:"0.3rem",borderBottomRightRadius:"0.3rem"},children:Object(r.jsx)("div",{className:"modal-info-childen-container",children:e.children})})]})}))},478:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(33),c=a(0),i=a.n(c),r=a(2),s=a(24),o=a(123),l=a(40),d=a(576),u=a.n(d),j=a(161),b=a(3),m=a(1515),f=a(1521),h=a(1522),O=a(1020),p=a(1741),x=a(1523),g=a(413),v=a(101),_=a(86),N=a(9),y=Object(j.a)((function(e){var t=Object(_.b)(),a=Object(b.useState)(!1),c=Object(s.a)(a,2),d=c[0],j=c[1],y=Object(b.useState)(!1),C=Object(s.a)(y,2),w=C[0],k=C[1],S=Object(b.useState)(e.lat),I=Object(s.a)(S,2),D=I[0],A=I[1],R=Object(b.useState)(e.lng),E=Object(s.a)(R,2),P=E[0],z=E[1],T=Object(b.useState)(e.zoom||14),L=Object(s.a)(T,2),F=L[0],M=L[1],B=Object(b.useState)(e.center),U=Object(s.a)(B,2),q=U[0],H=U[1],W=Object(b.useState)(!1),Y=Object(s.a)(W,2),V=Y[0],G=Y[1],J=e.bloquear_cambio_ubicacion||!1,Z=e.bloquear_interaccion||!1,Q=e.style||{width:"100%",height:e.full_screen?"100%":300},K=e.color||"#303AB2",X=Object(v.J)(),$=Object(b.useRef)(null),ee=function(){var a=Object(r.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!e.bloquear_interaccion||t.hasLocationPermission||e.noSolicitarPermiso||G(!0),setTimeout((function(){return k(!0)}),500);case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(b.useEffect)((function(){ee()}),[]);var te=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),o.a.getCurrentPosition({enableHighAccuracy:!0,timeout:3e4,maximumAge:6e4}).then((function(e){j(!1);var a=e.coords.latitude,n=e.coords.longitude,c=$.current;c&&c.flyTo([a,n],c.getZoom()),A(a),z(n),t.setPosicion(a,n)})).catch((function(e){console.log("getCurrentPosition err",e),String(e).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada."),j(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){e.lat&&e.lng&&e.lat!==D&&e.lng!==P&&(A(e.lat),z(e.lng))}),[e.lat,e.lng]),Object(b.useEffect)((function(){if(e.center){H(e.center);var t=$.current;t&&t.flyTo(e.center,t.getZoom())}}),[e.center]),Object(b.useEffect)((function(){if(D&&P){var t=$.current;t&&M(t.getZoom()),H({lng:P,lat:D}),e.ubicacion&&e.ubicacion(D,P)}}),[P]),Object(b.useEffect)((function(){e.zoom&&e.zoom!=F&&(M(e.zoom),H({lng:P,lat:D}))}),[e.zoom]);var ae=function(){var e=Object(r.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.locationService.askPermissionAndOrTurnOnGPS();case 2:a=e.sent,t.setHasLocationPermission(a),G(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{style:Object(n.a)(Object(n.a)({},Q),{},{position:"relative"}),onClick:function(){!V&&e.onClick&&e.onClick()},children:[V&&Object(N.jsxs)("div",{className:"mensaje-permiso",children:[Object(N.jsx)("div",{children:Object(N.jsx)(m.a,{size:36,color:"#FFD700",style:{pointerEvents:"none"}})}),"Para una mejor experiencia necesitamos acceder a tu ubicaci\xf3n",Object(N.jsxs)("div",{className:"mensaje-botones",children:[Object(N.jsx)("button",{className:"btn btn-light ml-2",onClick:function(){return G(!1)},children:"Denegar"}),Object(N.jsx)("button",{className:"btn btn-primary ml-2",onClick:ae,children:"Aceptar"})]})]}),!Z&&!J&&Object(N.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,backgroundColor:K,borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:te,title:"Centrar posici\xf3n",children:Object(N.jsx)(u.a,{style:{fontSize:20,color:"white"}})}),d&&Object(N.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,opacity:.8,backgroundColor:"#777777",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:Object(N.jsx)(l.z,{name:"crescent",color:"primary"})}),w&&Object(N.jsxs)(f.a,{attributionControl:!1,center:q,zoom:F,style:Q,dragging:!Z,scrollWheelZoom:!Z,zoomControl:!Z,doubleClickZoom:!Z,closePopupOnClick:!Z,trackResize:!Z,touchZoom:!Z,children:[Object(N.jsx)(h.a,{children:function(e){return $.current=e,Object(O.b)({click:function(t){if(!J&&!Z){var a=t.latlng;A(a.lat),z(a.lng),M(e.getZoom())}},moveend:function(){if(!J&&!Z){var t=e.getCenter();A(t.lat),z(t.lng),M(e.getZoom())}}}),null}}),(!!e.disableMultiLayer||e.bloquear_interaccion)&&Object(N.jsx)(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!e.disableMultiLayer&&!e.bloquear_interaccion&&Object(N.jsxs)(x.a,{children:[Object(N.jsx)(x.a.BaseLayer,{checked:!0,name:"Calles",children:Object(N.jsx)(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(N.jsx)(x.a.BaseLayer,{name:"Calles GMaps",children:Object(N.jsx)(p.a,{url:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(N.jsx)(x.a.BaseLayer,{name:"Satelital",children:Object(N.jsx)(p.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(N.jsx)(x.a.BaseLayer,{name:"Satelital con info",children:Object(N.jsx)(p.a,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})})]}),D&&P&&Object(N.jsx)(g.a,{position:{lat:D,lng:P},draggable:!J&&!Z,eventHandlers:{dragend:function(e){if(!J&&!Z){var t=e.target.getLatLng();A(t.lat),z(t.lng)}}},icon:v.c.pin})]})]})}))},481:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(26),c=a(24),i=a(3),r=a(161),s=a(40),o=a(9),l=Object(r.a)((function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),r=a[0],l=a[1],d=Object(i.useState)([]),u=Object(c.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)([]),f=Object(c.a)(m,2),h=f[0],O=f[1],p=Object(i.useState)([]),x=Object(c.a)(p,2),g=x[0],v=x[1],_=Object(i.useState)(""),N=Object(c.a)(_,2),y=N[0],C=N[1],w=e.auto_aceptar||!1,k=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(k=!0);var S=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var a=[];null!==e.listado_elementos&&(a=e.listado_elementos.filter((function(a){return a[e.llave_label_opcion]&&t&&a[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?a:e.listado_elementos)}};return Object(i.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)b(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){b([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&O([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id?(b(e.listado_elementos_seleccionados.map((function(e){return e.id}))),O(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):(b([]),O([])):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(b([e.listado_elementos_seleccionados.id]),O([e.listado_elementos_seleccionados[e.llave_label_opcion]]));S("")}),[e.listado_elementos_seleccionados]),Object(i.useEffect)((function(){e.mostrar_modal&&l(!0),e.mostrar_modal_cambio_estado&&!r&&e.mostrar_modal_cambio_estado(r)}),[e.mostrar_modal,r]),Object(o.jsxs)("div",{className:"selector-modal",children:[Object(o.jsxs)(s.q,{isOpen:r,onDidDismiss:function(){C(""),S("")},backdropDismiss:!1,children:[Object(o.jsxs)(s.j,{children:[Object(o.jsxs)(s.C,{children:[Object(o.jsx)(s.A,{slot:"start",children:e.titulo}),void 0!==e.boton_extra_text&&Object(o.jsx)(s.A,{slot:"end",children:Object(o.jsx)("div",{className:"text-primary cpointer",title:"Agregar "+e.boton_extra_text,onClick:function(){e.boton_extra_funcion()},children:Object(o.jsx)("small",{children:"Agregar"})})})]}),Object(o.jsx)(s.C,{children:Object(o.jsx)(s.w,{showCancelButton:"focus",placeholder:"Buscar",value:y,onIonChange:function(e){S(e.detail.value),C(e.detail.value)}})})]}),Object(o.jsx)(s.g,{children:Object(o.jsx)(s.p,{children:g&&g.length>0&&g.map((function(t){return Object(o.jsxs)(s.n,{children:[Object(o.jsx)(s.o,{children:t[e.llave_label_opcion]}),Object(o.jsx)(s.f,{slot:"end",value:t.id,checked:j.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var a=Object(n.a)(j),c=Object(n.a)(h),i=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=a.indexOf(t);a.includes(t)?(a.splice(r,1),c.splice(r,1)):e.multiple?(a.push(t),c.push(i)):(a=[t],c=[i]),b(a),O(c),w&&(l(!1),e.datos_filtrados(a))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(o.jsx)(s.i,{children:Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return l(!1)},children:"Cancelar"}),Object(o.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},onClick:function(){l(!r),e.datos_filtrados(j)},children:"Aceptar"})]})})]}),void 0===e.ocultar_input&&Object(o.jsx)("label",{className:"font-weight-bold text-gray",children:e.titulo_label}),void 0===e.ocultar_input&&Object(o.jsxs)("div",{className:"input-group mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:h.join(", ")}),Object(o.jsx)("div",{className:"input-group-append",children:Object(o.jsx)("button",{disabled:k,className:"btn btn-outline-secondary",type:"button",onClick:function(){return k?null:l(!r)},children:"Seleccionar"})})]})]})}));t.b=l},482:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),c=a.n(n),i=a(2),r=a(24),s=a(3),o=a(161),l=a(40),d=(a(514),a(30)),u=a(226),j=a(145),b=a(510),m=a.n(b),f=a(476),h=a(9),O=function(e){var t=e.itemImage,a=t.preview?t.preview:null,n=Object(s.useState)(null),o=Object(r.a)(n,2),l=o[0],b=o[1],m=e.camera_direction?e.camera_direction:0,f=(e.color,e.class_boton_aceptar||"btn-outline-primary");"web"===d.Capacitor.getPlatform()&&(m=1),Object(s.useEffect)((function(){l&&e.on_select(l,t.userDataLabel)}),[l]);var O=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:m});case 3:t=e.sent,b(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=Object(i.a)(c.a.mark((function t(){var a,n,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==d.Capacitor.getPlatform()){t.next=7;break}return t.next=4,j.a.getPhoto({resultType:j.c.Uri,source:j.d.Prompt,direction:0===m?j.b.Rear:j.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return a=t.sent,b(a.webPath||""),t.abrupt("return");case 7:return t.next=9,u.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 9:(n=t.sent)&&(i="ios"===d.Capacitor.getPlatform()?"":"file://",n.startsWith(i)||(n=i+n)),b(n||""),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(h.jsx)("h4",{style:{textAlign:"center",color:"var(--gris-oscuro)",fontWeight:"bolder"},children:t.titulo}),Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[!a&&!!l&&Object(h.jsx)("img",{className:"preview-imagen-item",src:d.Capacitor.convertFileSrc(l)}),a&&Object(h.jsx)("img",{className:"preview-imagen-item",src:l?d.Capacitor.convertFileSrc(l):a})]}),Object(h.jsxs)("div",{style:{display:"flex",gap:20},children:["web"!==d.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(h.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12  mt-2",onClick:O,children:"Sacar foto"}),Object(h.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12 mt-2",onClick:p,children:"Seleccionar desde la galer\xeda"})]})]})})},p=Object(o.a)((function(e){var t=Object(s.useState)(!1),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(""),o=Object(r.a)(i,2),u=o[0],j=(o[1],Object(s.useState)()),b=Object(r.a)(j,2),p=b[0],x=b[1],g=Object(s.useState)(!1),v=Object(r.a)(g,2),_=v[0],N=v[1],y=(e.camera_direction&&e.camera_direction,e.color||"#303AB2"),C=e.class_boton_aceptar||"btn-outline-primary";d.Capacitor.getPlatform();var w=function(){x(u),c(!0)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(h.jsx)(f.a,{color:y,isOpen:_,close:function(){return N(!1)},titulo:e.infoTitulo,cssClass:e.modalInfoCssClass?e.modalInfoCssClass:"requisitos-foto-perfil",children:Object(h.jsx)("p",{children:e.infoBody})}),Object(h.jsxs)(l.q,{isOpen:n,backdropDismiss:!1,children:[Object(h.jsx)(l.j,{children:Object(h.jsx)(l.C,{children:Object(h.jsx)(l.A,{children:e.titulo_modal})})}),Object(h.jsxs)(l.g,{children:[e.imageItems.map((function(t,a){return Object(h.jsx)(O,{itemImage:t,class_boton_aceptar:C,on_select:e.on_select},a)})),e.extra_component?e.extra_component:null]}),Object(h.jsx)("div",{style:{padding:10},children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){c(!1)},children:"CANCELAR"})}),Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn "+C+" btn-block",onClick:function(){e.on_accept&&e.on_accept(),c(!1)},children:Object(h.jsx)("span",{children:"ACEPTAR"})})})]})})]})]}),!e.custom_boton&&!!e.perfil&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(h.jsx)("div",{style:{borderColor:y},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.bloqueado?function(){}:w,children:Object(h.jsx)("img",{alt:"",className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),Object(h.jsx)("div",{className:"input-group mb-3",children:Object(h.jsxs)("div",{className:"boton-photo-loader-registro btn btn-outline-orange btn-font-sm d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(h.jsx)("img",{onClick:e.bloqueado?function(){}:w,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(h.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),Object(h.jsx)("span",{className:"mx-2",onClick:e.bloqueado?function(){}:w,style:{color:y},children:e.titulo_label}),e.titulo_boton?Object(h.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(h.jsx)("img",{onClick:function(){return N(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.custom_boton&&!e.perfil&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(h.jsx)("div",{className:"boton-photo-loader-registro-no-perfil btn btn-outline-orange btn-font-sm mr-2",onClick:e.bloqueado?function(){}:w,children:e.titulo_label}),p&&Object(h.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),!p&&Object(h.jsx)("img",{className:"info-image",onClick:function(){return N(!0)},alt:"",src:"assets/icon/info.png"})]})}),!!e.custom_boton&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{onClick:e.bloqueado?function(){}:w,children:e.custom_boton})})]})}));t.b=p},483:function(e,t,a){"use strict";var n=a(33),c=a(24),i=a(161),r=a(3),s=a(101),o=a(86),l=a(484),d=a(481),u=a(9),j=Object(i.a)((function(e){var t=Object(o.b)(),a=t.loginStore,i=Object(r.useState)(null),j=Object(c.a)(i,2),b=j[0],m=j[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),O=h[0],p=h[1],x=Object(s.J)();Object(r.useEffect)((function(){m(a.direcciones.find((function(e){return e.default})))}),[]);var g=function(){a.direcciones.forEach((function(e){t.environment.api.guardarDireccion(e).then((function(e){"ok"===e.kind||"bad-data"===e.kind&&console.log(e.errors)}))}))};return Object(u.jsxs)(u.Fragment,{children:[O&&Object(u.jsx)(l.a,{visible:!0,successCallback:function(){t.environment.api.getCliente(a.id).then((function(e){if("ok"===e.kind){var t=Object(n.a)({},e.cliente);a.setDirecciones(t.direcciones),a.setDatosFacturacion(t.datos_facturacion)}else x("Ocurri\xf3 un error al actualizar las direcciones","error")}))}}),Object(u.jsx)(d.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:a.direcciones,listado_elementos_seleccionados:b||[],datos_filtrados:function(t){a.direcciones.forEach((function(e){(t[0]===e.id||e.default)&&e.toggleDefault()})),g(),function(e){var t=a.direcciones.filter((function(t){return t.id===e}))[0];m(t)}(t[0]),e.setDireccionPredeterminada("a")},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:e.visible,mostrar_modal_cambio_estado:function(t){return e.onDismiss(t)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){p(!1),setTimeout((function(){return p(!0)}),100)}})]})}));t.a=j},484:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(33),c=a(0),i=a.n(c),r=a(2),s=a(24),o=(a(540),a(40)),l=a(3),d=a.n(l),u=a(161),j=a(96),b=a.n(j),m=a(86),f=a(475),h=a(101),O=a(123),p=a(504),x=a(1524),g=a(9);b.a.Icon.Default.imagePath="images/";var v=Object(u.a)((function(e){var t=Object(m.b)(),a=t.loginStore,c=Object(l.useState)(!1),u=Object(s.a)(c,2),j=u[0],b=u[1],v=Object(l.useState)(!0),_=Object(s.a)(v,2),N=_[0],y=_[1],C=Object(l.useState)({}),w=Object(s.a)(C,2),k=w[0],S=w[1],I=Object(l.useState)({}),D=Object(s.a)(I,2),A=D[0],R=D[1],E=Object(l.useState)(!1),P=Object(s.a)(E,2),z=P[0],T=P[1],L=Object(h.A)(),F=Object(h.J)(),M=Object(l.useRef)(),B=Object(l.useState)({lng:-57.63591,lat:-25.30066}),U=Object(s.a)(B,2),q=U[0],H=U[1],W=Object(l.useState)(null),Y=Object(s.a)(W,2),V=Y[0],G=Y[1],J=Object(l.useState)(null),Z=Object(s.a)(J,2),Q=Z[0],K=Z[1],X=Object(l.useState)(null),$=Object(s.a)(X,2),ee=$[0],te=$[1];d.a.useEffect((function(){T(e.visible)}),[e.visible]),d.a.useEffect((function(){if(!e.direccion)return R({}),void ce();ne(e.direccion.id)}),[e.direccion]);var ae=function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ie(),e.direccion||y(!1),setTimeout((function(){b(!0)}),700);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){ae()}),[]);var ne=function(e){y(!0),t.environment.api.getDireccion(e).then((function(e){if("ok"===e.kind){var t=Object(n.a)({},e.data);if(t.calle_principal={label:t.calle_principal,value:t.calle_principal},t.calle_secundaria={label:t.calle_secundaria,value:t.calle_secundaria},R(t),e.data.ubicacion){var a=e.data.ubicacion.split(",");G(parseFloat(a[0])),K(parseFloat(a[1])),H({lat:parseFloat(a[0]),lng:parseFloat(a[1])})}}else F("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error");y(!1)}))};Object(l.useEffect)((function(){t.hasLocationPermission&&ce().catch((function(e){console.log(e),String(e).includes("location disabled")&&F("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]);var ce=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,te([t.coords.latitude,t.coords.longitude]),G(t.coords.latitude),K(t.coords.longitude),H({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){t.ciudades.length||(y(!0),t.actualizarDatosInicio(!1).then((function(){y(!1)})))},re=function(e,t){var a=Object(n.a)({},A);a[e]=t,R(a)};Object(l.useEffect)((function(){(j||!e.direccion)&&V&&Q&&t.environment.api.infoCalle(V,Q).then((function(e){if("ok"===e.kind){if(e.response.info){var a=e.response.info,c=Object(n.a)({},A);a.calle&&(c.calle_principal={value:a.calle,label:a.calle}),a.ciudad_obj&&(c.ciudad=t.ciudades.find((function(e){return e.id===a.ciudad_obj.id}))),a.secondary&&(c.calle_secundaria={value:a.secondary,label:a.secondary}),R(c)}}else console.log("error infoCalle",e)}))}),[V,Q]);var se=function(e,t){re(e,t)};return z?Object(g.jsxs)(o.q,{isOpen:z,id:"modal-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(g.jsx)(f.k,{color:"var(--naranja-abi)",botonIzquierdo:Object(g.jsx)("span",{onClick:function(){T(!1)},children:Object(g.jsx)(x.a,{size:30,color:"#ffffff"})}),titulo:"".concat(A.id?"Editar":"Crear"," direcci\xf3n")}),!j&&Object(g.jsx)("div",{style:{display:"flex",flexGrow:1,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(o.z,{})}),j&&Object(g.jsxs)("div",{style:{padding:20,overflowY:"auto"},children:[Object(g.jsx)(p.a,{ref:M,lat:V,lng:Q,onAccept:function(e,t){G(e),K(t),H([e,t])}}),Object(g.jsx)("p",{children:"Ingrese la direcci\xf3n de su casa o destino deseado para la entrega de los pedidos realizados en la plataforma."}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:A?A.nombre:"",error:k&&k.nombre,set_dato:se,columnas:12,columnas_sm:6}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)("div",{className:"row my-2",children:[Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)("label",{className:"font-weight-bold text-primary",children:"Seleccione la ubicaci\xf3n"})}),j&&Object(g.jsx)("div",{className:"col-12",style:{height:300,width:"100%",cursor:"pointer"},children:Object(g.jsx)(f.z,{lat:V,lng:Q,zoom:V?16:14,center:q,bloquear_interaccion:!0,onClick:function(){setTimeout((function(){M.current.open()}),300)}})})]})}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:A?A.calle_principal:"",error:k&&k.calle_principal,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(h.z)(t,re,R,A,"calle_principal",e)},opciones_select:function(e){return Object(h.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:A?A.calle_secundaria:"",error:k&&k.calle_secundaria,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(h.z)(t,re,R,A,"calle_secundaria",e)},opciones_select:function(e){return Object(h.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:A?A.numero:"",error:k&&k.numero,set_dato:se,columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Referencia",tipo:"textarea",campo:"referencia",valor:A?A.referencia:"",error:k&&k.referencia,set_dato:se,columnas:12})]}),Object(g.jsx)(f.A,{titulo:"Ciudad",titulo_label:"Seleccion\xe1 la ciudad",listado_elementos:t.ciudades,listado_elementos_seleccionados:A.ciudad,datos_filtrados:function(e){re("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre"}),k.ciudad&&Object(g.jsx)("div",{className:"text-danger",children:k.ciudad}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"font-weight-bold text-gray",children:"Eleg\xed un icono distintivo"}),Object(g.jsxs)("div",{className:"campo-registro-abi",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(g.jsx)("div",{onClick:function(){return re("icono","casa")},className:"casa"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","empresa")},className:"empresa"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===A.icono?"filter-invert-imagen":""})}),Object(g.jsx)("div",{onClick:function(){return re("icono","maletin")},className:"maletin"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","corazon")},className:"corazon"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===A.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","alfiler")},className:"alfiler"===A.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===A.icono?"filter-invert-imagen":"",height:32})})]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"checkbox",id:"chk-default",checked:A.default}),Object(g.jsx)("label",{onClick:function(e){re("default",!A.default)},children:"Direcci\xf3n por defecto"})]})]}),Object(g.jsx)(o.i,{children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return T(!1)},children:"Cancelar"}),Object(g.jsxs)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},disabled:N,onClick:function(){y(!0),S({});var c=V+","+Q,i=A.calle_principal,r=A.calle_secundaria,s=Object(n.a)(Object(n.a)({},A),{},{ubicacion:c,calle_principal:i?i.value:"",calle_secundaria:r?r.value:""});s.ciudad&&"object"===typeof s.ciudad&&(s.ciudad=s.ciudad.id),s.usuario=a.id,t.environment.api.guardarDireccion(s).then((function(t){L(t,"Direcci\xf3n guardada correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),T(!1)):"bad-data"===t.kind&&S(t.errors),y(!1)}))},children:[N&&Object(g.jsx)(o.z,{name:"crescent"}),!N&&Object(g.jsx)("span",{children:"Guardar"})]})]})})]}):null}))},485:function(e,t,a){},486:function(e,t,a){"use strict";var n=a(24),c=a(3),i=a(195),r=a(1527),s=a(161),o=a(86),l=a(57),d=a(40),u=a(8),j=a(101),b=a(9),m=Object(s.a)((function(){var e=Object(o.b)(),t=(e.adminStore,e.loginStore),a=Object(l.e)(),s=Object(c.useState)(!1),m=Object(n.a)(s,2),f=m[0],h=m[1],O=Object(j.J)(),p=Object(j.B)();return Object(b.jsxs)("header",{className:"topbar",style:{zIndex:500},children:[Object(b.jsx)(d.a,{isOpen:f,onDidDismiss:function(){return h(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return O("Sesi\xf3n finalizada","dark"),p(),void(document.location.href="/")}}]}),Object(b.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md navbar-light",children:[Object(b.jsx)("div",{className:"navbar-header",children:Object(b.jsxs)("a",{href:u.m.ADMIN,className:"navbar-brand",onClick:function(e){e.preventDefault(),document.location.pathname==u.m.ADMIN&&document.location.reload(),t.administrador?a.push(u.m.ADMIN):20===t.modo_uso_app?a.push(u.o.PERFIL):10===t.modo_uso_app?a.push(u.m.CLIENTE):a.push(u.p.INICIO)},children:[Object(b.jsxs)("b",{children:[Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"30px"}),Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"light-logo",height:"30px"})]}),Object(b.jsx)("span",{className:"logo-text",children:Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"50px"})})]})}),Object(b.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(b.jsx)("ul",{className:"navbar-nav mr-auto float-left"}),Object(b.jsxs)("ul",{className:"navbar-nav my-lg-0",children:[30!==t.modo_uso_app&&Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){t.fabricante?a.push({pathname:"/admin/staff/detail",origen:"header"}):a.push("/admin")},children:Object(b.jsx)("div",{className:"profile-pic-container",children:Object(b.jsx)(i.a,{className:"profile-pic"})})}),Object(b.jsx)("div",{className:"dropdown-menu mailbox dropdown-menu-right animated bounceInDown",children:Object(b.jsx)("ul",{className:"dropdown-user list-style-none",children:Object(b.jsx)("li",{className:"user-list",children:Object(b.jsxs)("a",{className:"px-3 py-2",href:"#",children:[Object(b.jsx)(i.a,{className:"profile-pic",style:{width:18}}),Object(b.jsx)("i",{"data-feather":"user",className:"feather-icon"}),t.username]})})})})]}),Object(b.jsx)("li",{className:"nav-item dropdown",children:Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return h(!0)},style:{cursor:"pointer"},children:Object(b.jsx)("div",{children:Object(b.jsx)(r.a,{className:"profile-pic"})})})})]})]})]})]})}));t.a=m},487:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=a(2),r=a(33),s=a(24),o=a(3),l=a(1529),d=a(1530),u=a(1531),j=a(1532),b=a(1533),m=a(1534),f=a(1033),h=a(1535),O=a(1536),p=a(1537),x=a(1527),g=a(195),v=a(1538),_=a(1539),N=a(161),y=a(86),C=a(57),w=a(40),k=a(8),S=a(124),I=a(101),D=a(30),A=a(502),R=a(9),E=Object(N.a)((function(){var e,t=Object(y.b)(),a=t.loginStore,n=t.adminStore,N=t.transportistaStore,E=Object(o.useState)(!1),P=Object(s.a)(E,2),z=P[0],T=P[1],L=Object(C.e)(),F=L.location.pathname,M=Object(o.useState)(!1),B=Object(s.a)(M,2),U=B[0],q=B[1],H=Object(o.useState)(F),W=Object(s.a)(H,2),Y=W[0],V=W[1],G=(Object(I.A)(),Object(I.B)()),J=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Array.prototype.some.call(t,(function(e){return-1!==F.indexOf(e)}))},Z=function(e){return J(e)?"active":""},Q=function(){return J("admin/configuracion","admin/staff","admin/tipo-vehiculo",k.m.ADMIN_RUBRO,k.m.ADMIN_CATEGORIA,k.m.ADMIN_PREGUNTAS_FRECUENTES)},K=function(){return J("admin/pedido","admin/orden_venta","admin/hoja_ruta",k.m.ADMIN_BALANCE)},X=function(){return J(k.m.ADMIN_RENDICION,k.m.ADMIN_PAGO_PROVEEDOR,k.m.ADMIN_PAGO_CLIENTE,k.m.ADMIN_FACTURA_PROVEEDOR,k.m.ADMIN_FACTURA_CLIENTE)},$=function(){return J("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},ee=function(){return J("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},te=function(){return J("admin/precio","admin/inventario","admin/producto/moderado")},ae=function(){return J(k.m.ADMIN_API_CONFIG,k.m.ADMIN_API_VIEW,k.m.ADMIN_API_DOC,k.m.ADMIN_API_LOG)},ne={administracion:Q(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ae()},ce=Object(o.useState)(ne),ie=Object(s.a)(ce,2),re=ie[0],se=ie[1],oe=function(e){e.preventDefault();var t=Object(r.a)({},re),a=e.target.dataset.menu;return t[a]=!t[a],se(t),!1};return Object(o.useEffect)((function(){"full"===n.sidebarType?se({administracion:Q(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ae()}):se({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[Y]),Object(w.N)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(L.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(R.jsxs)("aside",{className:"left-sidebar","data-sidebarbg":"skin5",children:[Object(R.jsx)(A.b,{pedido:null===(e=N.hojaRutaActiva)||void 0===e?void 0:e.pedido,setVisible:function(){return q(!1)},visible:U}),Object(R.jsxs)("div",{className:"scroll-sidebar",children:[Object(R.jsx)(w.a,{isOpen:z,onDidDismiss:function(){return T(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(I.h)(t,L,10)}}]}),Object(R.jsxs)("nav",{className:"sidebar-nav",children:[30!==a.modo_uso_app&&Object(R.jsxs)("ul",{id:"sidebarnav",children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){L.push("/admin"),"/admin"==F&&window.location.reload()},"aria-expanded":"false",children:[Object(R.jsx)(l.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"Inicio"})]})}),Object(R.jsxs)("li",{className:re.movimientos?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"movimientos",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(d.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"movimientos",onClick:oe,children:"Movimientos"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.movimientos?"in":""),children:[a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/pedido",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pedidos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/orden_venta",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Ordenes de Venta"})})}),!a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_BALANCE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Balance"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/hoja_ruta",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Hojas de ruta"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_TORRE_DE_CONTROL,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Torre de Control"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_BUSQUEDA,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"No encontrados"})})})]})]}),a.administrador&&Object(R.jsxs)("li",{className:re.facturacion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"facturacion",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(u.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"facturacion",onClick:oe,children:"Facturaci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.facturacion?"in":""),children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FACTURA_CLIENTE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Facturas cliente"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FACTURA_PROVEEDOR,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Facturas proveedor"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PAGO_CLIENTE,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pagos cliente"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PAGO_PROVEEDOR,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Pagos proveedor"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_RENDICION,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Rendici\xf3n"})})})]})]}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:Z(k.m.ADMIN_REPORTES),onClick:function(){return L.push(k.m.ADMIN_REPORTES)},"aria-expanded":"false",children:[Object(R.jsx)(j.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"Reportes"})]})}),Object(R.jsxs)("li",{className:re.moderacion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"moderacion",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(b.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"moderacion",onClick:oe,children:"Moderaci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.moderacion?"in":""),children:[a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)("a",{className:Z("admin/proveedor/pendiente/"),onClick:function(){se({administracion:!1,movimientos:!1,moderacion:!0,maestros:!1,facturacion:!1,productos:!1,api:!1}),L.push("/admin/proveedor/pendiente/")},"aria-expanded":"false",children:Object(R.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/transportista/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/vehiculo/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/producto/pendiente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Productos"})})})]})]}),a.administrador&&Object(R.jsxs)("li",{className:re.maestros?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"maestros",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(m.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"maestros",onClick:oe,children:"Maestros"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.maestros?"in":""),children:[a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/cliente",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Clientes"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FABRICANTES("moderado"),urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/transportista/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/vehiculo/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})})]})]}),Object(R.jsxs)("li",{className:re.productos?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"productos",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(f.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"productos",onClick:oe,children:"Cat\xe1logo"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.productos?"in":""),children:[Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/producto/moderado",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Productos"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/precio",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Precios"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/inventario",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Inventario"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_COMENTARIO_PRODUCTO,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Comentarios de productos"})})})]})]}),Object(R.jsxs)("li",{className:re.administracion?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"administracion",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(h.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"administracion",onClick:oe,children:"Configuraci\xf3n"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.administracion?"in":""),children:[a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/staff",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Usuarios"})})}),!a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_FABRICANTE_DETAIL("pendiente",a.fabricante_id),urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Mi perfil"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item active",children:Object(R.jsx)(S.b,{href:"/admin/configuracion",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Par\xe1metros"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:"/admin/tipo-vehiculo",urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Tipos de veh\xedculo"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_RUBRO,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Rubros"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_CATEGORIA,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Categor\xedas"})})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_PREGUNTAS_FRECUENTES,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Preguntas frecuentes"})})})]})]}),Object(R.jsxs)("li",{className:re.api?"active":"",children:[Object(R.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"api",onClick:oe,"aria-expanded":"false",href:"#",children:[Object(R.jsx)(O.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3","data-menu":"api",onClick:oe,children:"API"})]}),Object(R.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.api?"in":""),children:[a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_CONFIG,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Configuraci\xf3n"})})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_DOC,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Documentaci\xf3n"})})}),!a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsx)(S.b,{href:k.m.ADMIN_API_VIEW,urlConditionalClassName:"active",children:Object(R.jsx)("span",{className:"hide-menu",children:"Mi Acceso"})})})]})]}),!a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:"",onClick:function(){return T(!0)},"aria-expanded":"false",children:[Object(R.jsx)(p.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),a.administrador&&Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{className:"",onClick:function(){return L.push(k.m.ROOT)},"aria-expanded":"false",children:[Object(R.jsx)(p.a,{}),Object(R.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==D.Capacitor.getPlatform()?L.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(R.jsx)(x.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]}),30===a.modo_uso_app&&Object(R.jsxs)("ul",{id:"sidebarnav",children:[t.isDebug&&Object(R.jsx)("li",{className:"sidebar-item mt-3",children:Object(R.jsxs)("div",{onClick:function(){t.environment.api.getHojaRutaActiva().then((function(e){if("ok"===e.kind&&e.data){var t=e.data;N.setHojaRutaActiva(t),t&&t.next&&N.setItinerarioActivo(t.next)}}))},children:[Object(R.jsx)(g.a,{}),Object(R.jsx)("span",{onClick:function(){return q(!0)},className:"ml-3",children:"Hoja de ruta activa"})]})}),Object(R.jsx)("li",{className:"sidebar-item mt-3",children:Object(R.jsxs)(S.b,{href:k.p.INICIO,urlConditionalClassName:"active",children:[Object(R.jsx)(g.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Mi perfil"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)(S.b,{href:k.p.BALANCE,urlConditionalClassName:"active",children:[Object(R.jsx)(v.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Balance"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)(S.b,{href:k.p.VEHICULOS,urlConditionalClassName:"active",children:[Object(R.jsx)(_.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Veh\xedculos"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){T(!0)},children:[Object(R.jsx)(p.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"La tienda"})]})}),Object(R.jsx)("li",{className:"sidebar-item",children:Object(R.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==D.Capacitor.getPlatform()?L.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(R.jsx)(x.a,{}),Object(R.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]})]})]})]})}));t.a=E},488:function(e,t,a){"use strict";var n=a(26),c=a(24),i=a(40),r=a(161),s=a(3),o=a(1068),l=a(1513),d=a(1021),u=a(1543),j=a(573),b=a(57),m=a(477),f=a(86),h=(a(547),a(502)),O=a(512),p=a(9),x=(a(144).WSS_BASE_URL,Object(r.a)((function(e){var t=Object(f.b)(),a=Object(s.useState)(),r=Object(c.a)(a,2),x=r[0],g=r[1],v=Object(s.useState)(),_=Object(c.a)(v,2),N=_[0],y=_[1],C=Object(s.useState)(null),w=Object(c.a)(C,2),k=w[0],S=w[1],I=Object(s.useState)(),D=Object(c.a)(I,2),A=D[0],R=D[1],E=Object(s.useState)(""),P=Object(c.a)(E,2),z=P[0],T=P[1],L=Object(s.useState)(!1),F=Object(c.a)(L,2),M=F[0],B=F[1],U=Object(s.useState)(!1),q=Object(c.a)(U,2),H=q[0],W=q[1],Y=Object(s.useState)(!1),V=Object(c.a)(Y,2),G=V[0],J=V[1],Z=Object(s.useState)(!1),Q=Object(c.a)(Z,2),K=Q[0],X=Q[1],$=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ee=Object(b.f)().search,te=Object(b.e)(),ae=Object(s.useState)(!1),ne=Object(c.a)(ae,2),ce=ne[0],ie=ne[1];Object(s.useEffect)((function(){M&&(y([]),re())}),[M]),Object(s.useEffect)((function(){var e=new URLSearchParams(ee),t="1"===e.get("chat"),a=Number(e.get("pedido"));t&&a?(S(a),re()):a||S(null)}),[ee]),Object(s.useEffect)((function(){k&&N&&(g(N.find((function(e){return e.id===k}))),$?X(!0):(W(!0),J(!0),X(!1)))}),[N,k]),Object(s.useEffect)((function(){if(z&&N&&N.length>0){var e=Object(n.a)(N),t=z.toLowerCase();R(e.filter((function(e){return e.transportista.usuario.last_name.toLowerCase().includes(t)||e.transportista.usuario.first_name.toLowerCase().includes(t)||String(e.id).includes(t)})))}else""===z&&R(N)}),[z,N]),Object(s.useEffect)((function(){if(H){if(x){var e=new URLSearchParams(ee);e.set("chat","1"),e.set("pedido",String(x.id)),te.push(window.location.pathname+"?"+e)}}else{var t=new URLSearchParams(ee);t.delete("chat"),t.delete("pedido"),te.push(window.location.pathname+"?"+t)}}),[H,x]);var re=function(){ie(!0),t.environment.api.pedidosChat().then((function(e){"ok"===e.kind&&y(e.data),ie(!1)}))};return Object(p.jsxs)(p.Fragment,{children:[$&&!!x&&Object(p.jsx)(h.b,{visible:K,setVisible:function(){X(!1)},pedido:x}),!$&&Object(p.jsxs)("div",{id:"chat-interno-container",className:"col-12 col-lg-3 col-xl-2",children:[Object(p.jsxs)("div",{className:"listado-container",children:[Object(p.jsxs)("div",{className:"d-flex titulo cpointer px-1 py-3",onClick:function(){return B(!M)},children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1},children:[Object(p.jsx)(j.a,{size:20,style:{transform:"rotateY(180deg)",marginRight:"0.2rem"}}),Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("h4",{children:"Chat interno"}),t.mensajes>0&&Object(p.jsx)("div",{className:" ml-1 txt-dot",children:Object(p.jsx)("span",{className:"dot"})})]})]}),Object(p.jsxs)("div",{children:[!M&&Object(p.jsx)(o.a,{}),M&&Object(p.jsx)(l.a,{})]})]}),M&&Object(p.jsx)(i.g,{className:"lista",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"input-group align-items-center",children:[Object(p.jsx)("input",{type:"search",className:"form-control",placeholder:"\xbfA qui\xe9n est\xe1s buscando?",value:z,onChange:function(e){T(e.target.value)}}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("div",{className:"search-container",children:Object(p.jsx)(d.a,{size:20})})})]}),Object(p.jsxs)("a",{className:"chat-link px-2 py-2",href:"https://wa.me/595981840840",target:"_blank",children:[Object(p.jsx)("div",{className:"icono",children:m.a.atencion_cliente}),Object(p.jsx)("div",{className:"nombre ",children:Object(p.jsx)("span",{style:{color:"var(--naranja-abi)"},children:"Staff ABi"})})]}),ce&&Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:Object(p.jsx)(i.z,{})}),!ce&&!!A&&(null===A||void 0===A?void 0:A.length)>0&&A.map((function(e){var t=e.transportista;return Object(p.jsx)(p.Fragment,{children:!!e.transportista&&Object(p.jsxs)("a",{className:"chat-link px-1 py-2",onClick:function(){g(null),setTimeout((function(){g(e),J(!0),B(!1)}),10),W(!0)},children:[Object(p.jsx)("div",{className:"img-perfil-container",children:Object(p.jsx)("img",{src:t.usuario.imagen_perfil})}),Object(p.jsxs)("div",{style:{lineHeight:"0.91rem"},children:[Object(p.jsxs)("div",{className:"nombre",children:[t.usuario.first_name," ",t.usuario.last_name]}),Object(p.jsxs)("small",{style:{lineHeight:"0.91rem"},children:["id#",e.id]})]})]},e.id)})}))]})})]}),H&&Object(p.jsxs)("div",{className:"chat-interno-seleccionado",style:{position:"absolute",left:"20rem"},children:[Object(p.jsxs)("div",{className:"d-flex titulo px-2 py-3",onClick:function(){return J(!G)},children:[Object(p.jsx)("div",{className:"d-flex align-items-center justify-content-start",style:{flex:1},children:Object(p.jsx)("div",{children:x&&Object(p.jsxs)("h4",{children:[x.transportista.usuario.first_name," ",x.transportista.usuario.last_name]})})}),Object(p.jsxs)("div",{children:[!G&&Object(p.jsx)(o.a,{}),G&&Object(p.jsx)(l.a,{})]}),Object(p.jsx)("a",{onClick:function(){return W(!1)},children:Object(p.jsx)(u.a,{})})]}),G&&Object(p.jsx)("div",{className:"chat-component-container d-flex flex-column",children:x&&Object(p.jsx)(O.a,{containerStyle:{flex:1},pedido:x,ocultarHeader:!0})})]})]})]})})));t.a=x},489:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=a(2),r=a(24),s=(a(569),a(40)),o=a(531),l=a.n(o),d=a(161),u=a(87),j=a.n(u),b=a(3),m=a.n(b),f=a(1021),h=a(1524),O=a(57),p=a(475),x=a(8),g=a(101),v=a(477),_=a(86),N=a(9),y=Object(d.a)((function(e){var t=Object(_.b)(),a=t.loginStore,n=Object(b.useState)(!1),o=Object(r.a)(n,2),d=o[0],u=o[1],y=Object(b.useState)("hide"),C=Object(r.a)(y,2),w=C[0],k=C[1],S=Object(O.e)(),I=/Mobi/.test(navigator.userAgent),D=Object(g.J)(),A=Object(b.useState)(""),R=Object(r.a)(A,2),E=R[0],P=R[1];m.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&P(e.get("s")||"")}),[]);var z=function(){u(!1),a.administrador?S.push(x.m.ADMIN):20===a.modo_uso_app?S.push(x.o.PERFIL):10===a.modo_uso_app?S.push(x.m.CLIENTE):S.push(x.p.INICIO)},T=function(e){13===e.keyCode&&L(e.target.value.trim())},L=function(e){S.push("".concat(x.o.CATALOGO).concat(e?"?s="+encodeURIComponent(e):""))},F=function(){var e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.api.simple_get("/notificacion/");case 2:"ok"===(a=e.sent).kind?k(a.data.results):D("No se pudo obtener las notificaciones","error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{style:{height:I?136:"auto"},children:[!I&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"header header-fabricante",style:{zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(N.jsx)("div",{className:"",style:{display:"flex",justifyContent:"center",backgroundColor:"var(--azul-fabricante)"},children:Object(N.jsxs)("div",{className:"container-lg top-cliente",children:[Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(N.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.transportista)S.push(x.p.INICIO);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),S.push(window.location.pathname+"?"+e.toString())}},children:[Object(N.jsx)("span",{className:"icn-driver mr-2",children:v.a.driver}),Object(N.jsx)("span",{className:"texto-header",children:"Driver"})]}),Object(N.jsxs)("div",{className:"boton-header-cliente",onClick:function(){a?Object(g.h)(t,S,10):S.push(x.m.ROOT)},children:[Object(N.jsx)("span",{className:"icn-proveedor",children:v.a.tienda}),Object(N.jsx)("span",{className:"texto-header",children:"Tienda ABi"})]})]}),Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(N.jsx)("a",{className:"boton-header-cliente",children:Object(N.jsxs)("div",{id:"icon-notificacion",style:{height:30,width:30,position:"relative"},children:[Object(N.jsxs)("span",{className:"icn-notificacion",onClick:function(){var e="hide"!==w?"hide":null;k(e),"hide"!==e&&F()},children:[v.a.notificacion,t.notificaciones>0&&Object(N.jsx)("span",{className:"cantidad",children:t.notificaciones})]}),"hide"!==w&&Object(N.jsxs)("div",{className:"notificaciones-container",children:[Object(N.jsx)("div",{className:"titulo",children:"Notificaciones"}),Object(N.jsxs)("div",{className:"lista-notificaciones",children:[null===w&&Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(s.z,{name:"crescent",className:"loadingSpinner"})}),null!==w&&w.map((function(e){return Object(N.jsxs)("div",{className:"notificacion-container",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:[Object(N.jsx)("img",{className:"img",src:"assets/icon/perfil.png"}),Object(N.jsxs)("div",{className:"titulo-fecha",children:[Object(N.jsx)("div",{className:"titulo-notificacion",children:e.titulo}),Object(N.jsx)("div",{className:"fecha",children:j()(e.fecha).fromNow()})]})]})}))]}),Object(N.jsx)("div",{className:"btn-ver-mas",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:"Ver m\xe1s notificaciones"})]})]})}),a.isLoggedIn&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("a",{onClick:z,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(N.jsxs)("div",{className:"nombre-usuario-header",children:[a.first_name," ",a.last_name]}),Object(N.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",a.id]})]}),Object(N.jsx)("a",{className:"centrado-flex",onClick:z,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(N.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil?a.imagen_perfil:"assets/icon/person-line.png",width:a.imagen_perfil?50:30,height:a.imagen_perfil?50:30,style:a.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!a.isLoggedIn&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(N.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(N.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(N.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("registro","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(N.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(N.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(N.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(N.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(N.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(N.jsx)("a",{title:"Ir al inicio",href:x.o.PEDIDOS,onClick:function(e){e.preventDefault(),S.push(x.o.PEDIDOS)},children:Object(N.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(N.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(N.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(N.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:E,onChange:function(e){P(e.target.value)},onKeyDown:T}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return L(E)},children:Object(N.jsx)(f.a,{size:20})})})]})}),Object(N.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:Object(N.jsx)("span",{className:"cpointer",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(N.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"70px"})})})]})})]})}),I&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"header header-fabricante w-100",style:{position:"fixed",zIndex:999},children:[Object(N.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:Object(N.jsx)("div",{onClick:function(){return u(!0)},className:"centrado-flex",children:Object(N.jsx)(l.a,{style:{fontSize:30}})})}),Object(N.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(N.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return S.push(x.m.ROOT)},children:v.a.abi})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(N.jsx)("span",{className:"cpointer boton-header-cliente",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(N.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"35px"})}),Object(N.jsx)("span",{className:"cpointer boton-header-cliente",style:{height:30,width:30,position:"relative"},onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:Object(N.jsxs)("span",{className:"icn-notificacion",children:[v.a.notificacion,t.notificaciones>0&&Object(N.jsx)("span",{className:"cantidad",children:t.notificaciones})]})})]})]}),Object(N.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(N.jsx)("div",{onClick:function(){return S.goBack()},children:Object(N.jsx)(h.a,{})}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:E,style:{},onChange:function(e){P(e.target.value)},onClick:function(){P("")},onKeyDown:T}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return L(E)},children:Object(N.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(N.jsx)(p.l,{visible:d,set_visible:function(e){u(e)},fabricante:a.fabricante?a.fabricante:null})]})]})}));t.a=y},490:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=a(2),r=(a(33),a(24)),s=(a(548),a(40)),o=a(161),l=a(3),d=a(57),u=a(8),j=a(101),b=a(477),m=a(86),f=a(9),h=Object(o.a)((function(){var e=Object(m.b)(),t=(e.loginStore,e.adminStore),a=(e.transportistaStore,Object(l.useState)(!1)),n=Object(r.a)(a,2),o=n[0],h=n[1],O=Object(d.e)(),p=O.location.pathname,x=Object(l.useState)(p),g=Object(r.a)(x,2),v=g[0],_=g[1],N=Object(j.s)(),y=(Object(j.A)(),Object(d.g)(),function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Array.prototype.some.call(t,(function(e){return-1!==p.indexOf(e)}))}),C=function(){return y("admin/configuracion","admin/staff","admin/tipo-vehiculo",u.m.ADMIN_RUBRO,u.m.ADMIN_CATEGORIA,u.m.ADMIN_PREGUNTAS_FRECUENTES)},w=function(){return y("admin/pedido","admin/orden_venta","admin/hoja_ruta",u.m.ADMIN_BALANCE)},k=function(){return y(u.m.ADMIN_RENDICION,u.m.ADMIN_PAGO_PROVEEDOR,u.m.ADMIN_PAGO_CLIENTE,u.m.ADMIN_FACTURA_PROVEEDOR,u.m.ADMIN_FACTURA_CLIENTE)},S=function(){return y("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},I=function(){return y("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},D=function(){return y("admin/precio","admin/inventario","admin/producto/moderado")},A=function(){return y(u.m.ADMIN_API_CONFIG,u.m.ADMIN_API_VIEW,u.m.ADMIN_API_DOC,u.m.ADMIN_API_LOG)},R={administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:I(),productos:D(),api:A()},E=Object(l.useState)(R),P=Object(r.a)(E,2),z=(P[0],P[1]);return Object(l.useEffect)((function(){"full"===t.sidebarType?z({administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:I(),productos:D(),api:A()}):z({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[v]),Object(s.N)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(O.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(f.jsx)(f.Fragment,{children:!N&&Object(f.jsx)("div",{id:"sidebar-fabricante",className:"col-12 col-md-3 col-lg-3 col-xl-2 mb-3",children:Object(f.jsxs)("div",{className:"scroll-sidebar",children:[Object(f.jsx)(s.a,{isOpen:o,onDidDismiss:function(){return h(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(j.h)(e,O,10)}}]}),Object(f.jsxs)("nav",{className:"sidebar-nav",children:[Object(f.jsx)("a",{className:y("proveedor/pedidos/pendiente")?"resaltado":"",onClick:function(){return O.replace(u.o.PEDIDOS_PENDIENTES)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Pendientes",e.pendientes>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsx)("a",{className:y("proveedor/pedidos/retiro")?"resaltado-naranja":"",onClick:function(){return O.replace(u.o.PEDIDOS_RETIRO)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Retiro",e.retiro>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsxs)("a",{className:y("proveedor/pedidos/todo")?"resaltado":"",onClick:function(){return O.replace(u.o.PEDIDOS)},children:[Object(f.jsx)("img",{src:"assets/icon/todo.png"}),Object(f.jsx)("div",{children:"Todos"})]}),Object(f.jsxs)("a",{className:y(u.o.CATALOGO,u.o.PRODUCTO_CREATE)?"resaltado":"",onClick:function(){return O.replace(u.o.CATALOGO)},children:[b.a.caja,Object(f.jsx)("div",{children:"Cat\xe1logo"})]}),Object(f.jsxs)("a",{className:y("proveedor/balance")?"resaltado":"",onClick:function(){return O.replace(u.o.BALANCE)},children:[b.a.facturacion,Object(f.jsx)("div",{children:"Balance"})]}),Object(f.jsxs)("a",{className:y(u.o.VENTAS)?"resaltado":"",onClick:function(){return O.replace(u.o.VENTAS)},children:[b.a.movimientos,Object(f.jsx)("div",{children:"Ventas"})]}),Object(f.jsxs)("a",{className:y("/proveedor/configuracion","/proveedor/configuracion/api","/proveedor/configuracion/documentos","/proveedor/configuracion/horario")?"resaltado":"",onClick:function(){return O.replace(u.o.CONFIGURACION)},children:[Object(f.jsx)("img",{src:"assets/icon/permisos.png"}),Object(f.jsx)("div",{children:"Configuraci\xf3n"})]})]})]})})})}));t.a=h},491:function(e,t,a){"use strict";var n=a(24),c=a(3),i=a(40),r=a(195),s=a(1539),o=a(161),l=a(86),d=a(524),u=a.n(d),j=a(535),b=a.n(j),m=a(587),f=a.n(m),h=a(588),O=a.n(h),p=a(505),x=a(57),g=a(101),v=a(8),_=a(197),N=(a(525),a(9)),y=a(198),C=Object(o.a)((function(e){var t=Object(l.b)(),a=t.loginStore,o=Object(c.useState)(!1),d=Object(n.a)(o,2),j=d[0],m=d[1],h=Object(c.useState)(""),C=Object(n.a)(h,2),w=C[0],k=C[1],S=Object(c.useState)(""),I=Object(n.a)(S,2),D=I[0],A=I[1],R=Object(c.useState)(""),E=Object(n.a)(R,2),P=E[0],z=E[1],T=Object(c.useState)(!1),L=Object(n.a)(T,2),F=L[0],M=L[1],B=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),U={width:20,height:20,marginLeft:10},q=Object(x.e)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(i.q,{isOpen:j,cssClass:"modal-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return m(!1)},children:Object(N.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(N.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[!a.imagen_perfil&&Object(N.jsx)(r.a,{size:25}),a.imagen_perfil&&Object(N.jsx)("img",{style:{borderRadius:"50%",width:50,height:50},alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil,onError:function(e){return e.target.style.display="none"}}),Object(N.jsxs)("strong",{style:{lineHeight:1,marginTop:5,marginLeft:10},children:["HOLA ",a.isLoggedIn&&a.first_name,"!"]})]}),a.isLoggedIn&&Object(N.jsx)("small",{className:"d-flex pt-2 text-white",style:{marginLeft:10},children:"Cliente"}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(N.jsx)("a",{onClick:function(){q.push(v.m.ROOT),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:a.isLoggedIn?Object(N.jsx)("a",{onClick:function(){m(!1),a.administrador?q.push(v.m.ADMIN):20===a.modo_uso_app?q.push(v.o.PERFIL):10===a.modo_uso_app?a.perfil_completo||a.administrador||q.push(v.m.CLIENTE):q.push(v.p.INICIO)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:a.administrador?"Panel":a.perfil_completo?"Mi perfil":"COMPLETAR PERFIL"}):null}),a.isLoggedIn&&Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(N.jsx)("a",{onClick:function(){q.push("/pedido"),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Pedidos"})}),a.isLoggedIn&&Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Comprar de nuevo"}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Perfil"}),Object(N.jsxs)("div",{className:"row my-3 d-flex justify-content-center",children:[Object(N.jsxs)("div",{className:"col-6 text-center icono",onClick:function(){a.fabricante?(k("Cambiar a modo fabricante"),A("Confirma que desea cambiar a modo fabricante?"),z("cambiar-fabricante"),M(!0)):(m(!1),q.push(v.m.REGISTRO_FABRICANTE))},children:[Object(N.jsx)(i.k,{icon:v.w,color:"light",className:"d-block mx-auto",style:{fontSize:28}}),Object(N.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Proveedor"})]}),Object(N.jsxs)("div",{className:"col-6 text-center",onClick:function(){if(a.transportista)M(!0),k("Cambiar a modo driver"),A("Confirma que desea cambiar a modo driver?"),z("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),q.push(window.location.pathname+"?"+e.toString())}},children:[Object(N.jsx)(s.a,{size:26,className:"d-block mx-auto",style:{color:"#ffffff"}}),Object(N.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Driver"})]})]}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]})]})})}),Object(N.jsx)(i.a,{isOpen:F,onDidDismiss:function(){return M(!1)},header:""!==w?w:"Cerrar sesi\xf3n",message:""!==D?D:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-fabricante"===P?Object(g.h)(t,q,20):"cambiar-transportista"===P&&Object(g.h)(t,q,30)}}]}),!B&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{id:"footer",style:{backgroundColor:"#efefef"},children:[Object(N.jsx)("div",{className:"scroll-to-top",onClick:function(){e.content&&e.content.current.scrollToTop(100),e.container.current.scrollTop=0},style:{backgroundColor:"#efefef",color:"var(--gris-oscuro-abi)"},children:Object(N.jsxs)("div",{className:"d-flex flex-column  align-items-center pb-3 pt-3",children:[Object(N.jsx)(p.d,{}),Object(N.jsx)("span",{className:"ml-2",children:"Ir al inicio de la p\xe1gina"})]})}),Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(N.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(N.jsx)("div",{className:"footer p-0",children:Object(N.jsx)("div",{className:"top",children:Object(N.jsx)("div",{className:"container pt-4",children:Object(N.jsxs)("div",{className:"row pt-2",children:[Object(N.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"#",children:[Object(N.jsx)("span",{children:"Qui\xe9nes somos"}),Object(N.jsx)("img",{alt:"Qui\xe9nes somos",style:U,src:"assets/abi-logo-gray.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(N.jsx)("span",{children:"Condiciones de uso"}),Object(N.jsx)("img",{alt:"Condiciones de uso",style:U,src:"assets/icon/documento.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(N.jsx)("span",{children:"Pol\xedticas de privacidad"}),Object(N.jsx)("img",{alt:"Pol\xedticas de privacidad",style:U,src:"assets/icon/documento.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:v.m.PREGUNTAS_FRECUENTES,children:[Object(N.jsx)("span",{children:"Preguntas frecuentes"}),Object(N.jsx)("img",{alt:"Preguntas frecuentes",style:U,src:"assets/icon/info.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://wa.me/595981840840",target:"_blank",children:[Object(N.jsx)("span",{children:"Contactanos"}),Object(N.jsx)("img",{alt:"Contactanos",style:U,src:"assets/icon/atencion-cliente.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:Object(N.jsx)("span",{children:"Comentarios y Sugerencias"})})})]}),Object(N.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(N.jsx)("p",{children:Object(N.jsx)("a",{onClick:function(){if(a.isLoggedIn&&a.transportista)M(!0),k("Cambiar a modo driver"),A("Confirma que desea cambiar a modo driver?"),z("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),q.push(window.location.pathname+"?"+e.toString())}},children:"Drivers"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{onClick:function(){if(a.isLoggedIn&&a.fabricante)k("Cambiar a modo fabricante"),A("Confirma que desea cambiar a modo fabricante?"),z("cambiar-fabricante"),M(!0);else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrop","1"),q.push(window.location.pathname+"?"+e.toString())}},children:"Proveedores"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"Marcas adheridas"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"\xc1reas de cobertura"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"Informaci\xf3n \xdatil"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"mailto:directorio@abi.com.py?subject=Quiero trabajar en ABi",children:"Trabaj\xe1 con nosotros"})})]}),Object(N.jsxs)("div",{className:"col-lg-4 col-xl-6 col-12 text-lg-right",children:[Object(N.jsx)("p",{children:Object(N.jsxs)("a",{target:"_blank",href:"https://wa.me/595981840840",children:[Object(N.jsx)(u.a,{style:{marginRight:5,marginBottom:3,fontSize:40}}),"(0981) 840-840"]})}),Object(N.jsxs)("p",{children:[Object(N.jsx)("a",{href:"https://www.facebook.com/ABiparaguay",target:"_blank",children:Object(N.jsx)(b.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(N.jsx)("a",{href:"https://twitter.com",target:"_blank",children:Object(N.jsx)(f.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(N.jsx)("a",{href:"https://instagram.com/abiparaguay/",target:"_blank",children:Object(N.jsx)(O.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})})]})]})]})})})}),Object(N.jsxs)("div",{className:"footer p-0",children:[Object(N.jsx)("div",{className:"d-flex justify-content-center",style:{backgroundColor:"#efefef"},children:Object(N.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(N.jsx)("div",{className:"top pb-4 pb-lg-4",children:Object(N.jsx)("div",{className:"container ",children:Object(N.jsx)("div",{className:"row pt-3 justify-content-center",children:Object(N.jsxs)("div",{className:"",children:[Object(N.jsxs)("p",{className:"mb-0",children:["ABi. \xa9 ",y().format("YYYY")," TODOS LOS DERECHOS RESERVADOS"]}),Object(N.jsxs)("div",{id:"release-container",children:["v",_.RELEASE.split("@")[1]]})]})})})})]})]})})]})}));t.a=C},492:function(e,t,a){"use strict";var n=a(33),c=a(0),i=a.n(c),r=a(2),s=a(24),o=(a(549),a(40)),l=a(3),d=a(536),u=a.n(d),j=a(161),b=a(86),m=a(18),f=a(225),h=(a(286),a(123)),O=a(479),p=a(30),x=a(1514),g=a(1524),v=a(1543),_=a(500),N=a(535),y=a.n(N),C=a(503),w=a(475),k=a(101),S=a(593),I=a(230),D=a(574),A=a(8),R=a(493),E=a(57),P=a(87),z=a.n(P),T=a(9),L={first_name:"",last_name:"",fecha_nacimiento:"",nro_documento:"",email:"",nro_telefono:"",razon_social:"",ruc:"",contrasena:"",imagen_perfil:"",repetir_contrasena:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,email_oferta:!0,notificacion_oferta:!0},F={password:"",username:""},M={imagen_perfil:""},B=Object(j.a)((function(e){var t=Object(b.b)(),a=Object(E.e)(),c=t.loginStore,d=t.registroStore,j=t.adminStore,N=t.carritoStore,P=Object(l.useState)(!1),B=Object(s.a)(P,2),U=B[0],q=B[1],H=Object(l.useState)(L),W=Object(s.a)(H,2),Y=W[0],V=W[1],G=Object(l.useState)(L),J=Object(s.a)(G,2),Z=J[0],Q=J[1],K=Object(k.A)(),X=Object(k.J)(),$=(Object(k.B)(),Object(l.useState)(!1)),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(""),ce=Object(s.a)(ne,2),ie=ce[0],re=ce[1],se=Object(l.useState)(0),oe=Object(s.a)(se,2),le=oe[0],de=oe[1],ue=Object(l.useState)(M),je=Object(s.a)(ue,2),be=je[0],me=je[1],fe=Object(l.useState)(F),he=Object(s.a)(fe,2),Oe=he[0],pe=he[1],xe=Object(l.useState)(F),ge=Object(s.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(l.useState)(0),ye=Object(s.a)(Ne,2),Ce=ye[0],we=ye[1],ke=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),Se=0,Ie=1,De=2,Ae=3,Re=4,Ee=5,Pe=Object(l.useState)(e.login?Se:Ie),ze=Object(s.a)(Pe,2),Te=ze[0],Le=ze[1],Fe=Object(l.useState)(!1),Me=Object(s.a)(Fe,2),Be=Me[0],Ue=Me[1],qe=Object(l.useState)(!1),He=Object(s.a)(qe,2),We=He[0],Ye=He[1],Ve=Object(l.useState)(""),Ge=Object(s.a)(Ve,2),Je=Ge[0],Ze=Ge[1],Qe=Object(l.useState)(""),Ke=Object(s.a)(Qe,2),Xe=Ke[0],$e=Ke[1],et=Object(l.useState)(""),tt=Object(s.a)(et,2),at=tt[0],nt=tt[1],ct=Object(l.useState)(!1),it=Object(s.a)(ct,2),rt=it[0],st=it[1],ot=Object(l.useRef)(""),lt=Object(l.useRef)(!1),dt=Object(l.useState)(!1),ut=Object(s.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(l.useState)(null),ft=Object(s.a)(mt,2),ht=(ft[0],ft[1]),Ot=Object(l.useState)(!1),pt=Object(s.a)(Ot,2),xt=pt[0],gt=pt[1],vt=Object(l.useState)(!1),_t=Object(s.a)(vt,2),Nt=(_t[0],_t[1]),yt=Object(l.useState)(!1),Ct=Object(s.a)(yt,2),wt=Ct[0],kt=Ct[1],St=Object(l.useState)(""),It=Object(s.a)(St,2),Dt=It[0],At=It[1],Rt=Object(l.useState)(0),Et=Object(s.a)(Rt,2),Pt=Et[0],zt=Et[1],Tt=Object(l.useRef)(0),Lt=Object(l.useRef)(null),Ft=Object(l.useRef)(),Mt=Object(l.useState)({lng:-57.63591,lat:-25.30066}),Bt=Object(s.a)(Mt,2),Ut=(Bt[0],Bt[1]),qt=Object(l.useState)(null),Ht=Object(s.a)(qt,2),Wt=Ht[0],Yt=Ht[1],Vt=Object(l.useState)(null),Gt=Object(s.a)(Vt,2),Jt=Gt[0],Zt=Gt[1],Qt=Object(l.useState)(null),Kt=Object(s.a)(Qt,2),Xt=Kt[0],$t=Kt[1];Object(l.useEffect)((function(){xt&&(Lt.current=setInterval((function(){zt(Tt.current+1),Tt.current=Tt.current+1,Tt.current>6&&clearInterval(Lt.current)}),100))}),[xt]),Object(l.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");Le(t)}),[t.locationSearch]),Object(l.useEffect)((function(){if(Ce>0){var e=setTimeout((function(){return we(Ce-1)}),1e3);return function(){return clearTimeout(e)}}}),[Ce]);Object(l.useEffect)((function(){"web"===p.Capacitor.getPlatform()&&S.a.init()}),[]),Object(l.useEffect)((function(){!0===e.login?Le(Se):Le(Ie)}),[e.login]),Object(l.useEffect)((function(){"web"!==p.Capacitor.getPlatform()&&("android"===p.Capacitor.getPlatform()?C.a.backgroundColorByHexString("#ffa101"):"ios"===p.Capacitor.getPlatform()&&(document.body.style.background="#ffa101"),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),c.isLoggedIn?d.reset():setTimeout((function(){d.setTipoFormulario(10),Q({contrasena:"",repetir_contrasena:"",imagen_perfil:"",calle_principal:d.calle_principal?d.calle_principal:"",calle_secundaria:d.calle_secundaria?d.calle_secundaria:"",ciudad:d.ciudad?d.ciudad:0,email:d.email?d.email:"",first_name:d.first_name?d.first_name:"",last_name:d.last_name?d.last_name:"",nombre_direccion:d.nombre_direccion?d.nombre_direccion:"",nro_documento:d.nro_documento?d.nro_documento:"",nro_telefono:Object(k.o)(d.nro_telefono),numero:d.numero?d.numero:"",razon_social:d.razon_social?d.razon_social:"",referencia:d.referencia?d.referencia:"",ruc:d.ruc?d.ruc:"",ubicacion:d.ubicacion?d.ubicacion:"",fecha_nacimiento:d.fecha_nacimiento?d.fecha_nacimiento:"",notificacion_oferta:!!d.notificacion_oferta&&d.notificacion_oferta,email_oferta:!!d.email_oferta&&d.email_oferta})})),na()}),[]),Object(l.useEffect)((function(){Te<0?e.setVisible(!1):Te===Ie?(Ze(""),$e("")):Te===De?(Ze("Datos Personales"),$e("Paso 1 de 3")):Te===Ae?(we(25),wt||(bt(!0),setTimeout(xa,500)),Ze("Verifique su n\xfamero"),$e("")):Te===Re?(Ze("Marque su Ubicaci\xf3n"),$e("Paso 2 de 3")):Te===Ee&&(Ze("Direcci\xf3n"),$e("Paso 3 de 3"))}),[Te]),Object(l.useEffect)((function(){t.hasLocationPermission&&ea().catch((function(e){console.log(e)}))}),[t.hasLocationPermission]);var ea=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 3:(t=e.sent)&&($t([t.coords.latitude,t.coords.longitude]),Yt(t.coords.latitude),Zt(t.coords.longitude),Ut({lat:t.coords.latitude,lng:t.coords.longitude})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Geolocation.getCurrentPosition err",e.t0),String(e.t0).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ta=function(){var e=Object(r.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt(!0),wt&&kt(!1),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),bt(!0),ht(null),gt(!1),setTimeout((function(){lt.current=!0,Nt(lt.current)}),2e3),a=Object(k.p)(d.nro_telefono),t.isDebug&&console.log("verifyPhoneNumber",a),_.a.verifyPhoneNumber("+"+a,3e4).then(function(){var e=Object(r.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isDebug&&console.log("FirebaseAuthentication.verifyPhoneNumber result",a),bt(!1),!wt){e.next=5;break}return ht(null),e.abrupt("return");case 5:ot.current=a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),kt(!1),bt(!1),lt.current=!1,Nt(lt.current),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),aa=function(){bt(!0);var e=Object(k.p)(d.nro_telefono),t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){lt.current=!0,Nt(lt.current),bt(!1),ot.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),bt(!1),kt(!1),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error");try{t.clear()}catch(a){console.log(a)}}))},na=function(){t.ciudades.length||(q(!0),t.actualizarDatosInicio(!1).then((function(){q(!1)})))},ca=function(e){de(e),100===e?(q(!1),setTimeout((function(){de(0),re("")}),500)):q(!0)},ia=function(){var e=Object(r.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===p.Capacitor.getPlatform()){e.next=5;break}return e.next=3,O.a.readFile({path:t});case 3:n=e.sent,t="data:image/jpeg;base64,".concat(n.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(k.k)(r,a,ca);case 10:s=e.sent,ra("imagen_perfil",t),re(a),sa("imagen_perfil",s),c.isLoggedIn||d.setDatoRegistroStore(a,s);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra=function(e,t){var a=Object(n.a)({},be);a[e]=t,me(a)},sa=function(e,t){var a=Object(n.a)({},Z);a[e]=t,Q(a),c.isLoggedIn||"calle_principal"===e||"calle_secundaria"===e||d.setDatoRegistroStore(e,t)},oa=function(e,t){ae(!0),ke&&va(Te+1),Yt(e),Zt(t),Ut([e,t]),c.isLoggedIn||d.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t))};Object(l.useEffect)((function(){Wt&&Jt&&t.environment.api.infoCalle(Wt,Jt).then((function(e){if("ok"===e.kind&&e.response.info){var a=e.response.info,c=Object(n.a)({},Z);a.calle&&(c.calle_principal={value:a.calle,label:a.calle}),a.ciudad_obj&&(c.ciudad=t.ciudades.find((function(e){return e.id===a.ciudad_obj.id}))),a.secondary&&(c.calle_secundaria={value:a.secondary,label:a.secondary}),Q(c)}})).catch()}),[Wt,Jt]);var la=function(){if(1===Te){if(!Z.email)return void X("Cargue su email para continuar","warning");if(!Z.contrasena)return void X("Cargue una contrase\xf1a para continuar","warning");if(!Z.repetir_contrasena)return void X("Confirme la contrase\xf1a ingresada para continuar","warning")}else if(2===Te){var e;if(!Z.first_name)return void X("Cargue su nombre para continuar","warning");if(!Z.last_name)return void X("Cargue su apellido para continuar","warning");if(!Z.fecha_nacimiento)return void X("Cargue su fecha de nacimiento para continuar","warning");var t=z()(Z.fecha_nacimiento,"DD/MM/YYYY HH:mm"),a=z()();if(!!!t.isValid()||t>a)return void X("Ingrese una fecha de nacimiento v\xe1lida para continuar","warning");if(12!==(null===d||void 0===d||null===(e=d.nro_telefono)||void 0===e?void 0:e.length))return void X("Ingrese un n\xfamero v\xe1lido para continuar","warning")}else if(3===Te){if(!wt)return void X("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning")}else if(5===Te)return Z.calle_principal&&Z.calle_secundaria?!!Z.numero||void X("Cargue su numero de casa para continuar"):void X("Cargue su calle principal");return!0},da=function(e,t){sa(e,t)},ua=function(e,t){!function(e,t){var a=Object(n.a)({},Oe);a[e]=t,pe(a)}(e,t)};Object(l.useEffect)((function(){var e=null;return"web"!==p.Capacitor.getPlatform()&&(e=_.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&lt.current&&(gt(!0),setTimeout((function(){kt(!0),ht(null),X("N\xfamero verificado exitosamente"),lt.current=!1,Nt(lt.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var ja,ba=function(e){if(console.log("modalCodigoFirebaseCallback",e),!e)return ht(null),lt.current=!1,void Nt(lt.current);if(!ot.current)return ht(null),lt.current=!1,Nt(lt.current),void X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(bt(!0),lt.current=!1,Nt(lt.current),"web"===p.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(ot.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),va(Te+1)})).catch((function(e){-1!==e.message.toString().toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):(X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),console.log("Error firebase",e.message)),bt(!1),kt(!1)})):(bt(!1),kt(!1),X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else _.a.signInWithVerificationId(ot.current,e).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),va(Te+1)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),kt(!1),bt(!1)}))},ma=function(){S.a.signIn().then((function(e){t.environment.api.loginGoogle(e,e.authentication.idToken).then((function(e){ha(e)}))})).catch((function(e){console.log("GoogleAuth.signIn() error",e),e&&X("No se pudo iniciar sesi\xf3n con Google","warning")}))},fa=function(){var e=Object(r.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["public_profile","email"],e.next=3,I.a.login({permissions:a});case 3:(n=e.sent)&&n.accessToken?t.environment.api.loginFacebook(n.accessToken.token).then((function(e){ha(e)})):X("No se pudo iniciar sesi\xf3n con Facebook","warning");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ha=function(e){if(q(!1),"ok"===e.kind){if(Object(m.u)((function(){c.setUser(e.user),c.setApiToken(e.user.token),c.setModoUsoApp(10)})),e.user.transportista&&j.setTransportistaDetalle(e.user.transportista),"web"===p.Capacitor.getPlatform()){var t=window.dataLayer||[];!function(){t.push(arguments)}("event","login",{method:"Formulario",usuario_id:e.user.id})}else D.a.logEvent({name:"login",params:{usuario_id:e.user.id}}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));if(pa(),X("Bienvenido "+e.user.first_name+"!","success"),"1"===new URLSearchParams(window.location.search).get("checkout"))if(c.perfil_completo){var n=new URLSearchParams(window.location.search);n.delete("login"),n.delete("registro"),n.delete("i"),n.delete("checkout"),Object(k.y)(c),a.push(window.location.pathname+"?"+n.toString())}else Object(k.y)(c),a.push("".concat(A.m.CLIENTE,"?checkout=1"));else c.fabricante||c.transportista?(Object(k.y)(c),Oa()):setTimeout((function(){return document.location.href=A.m.ROOT}),500)}else"bad-data"===e.kind?("bad-data"===e.kind?(console.log("@errors",e.errors),_e(e.errors),e.errors.non_field_errors&&(X(e.errors.non_field_errors[0],"warning"),ua("contrasena",""))):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning"),e.errors.non_field_errors&&X(e.errors.non_field_errors[0],"warning")):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning")},Oa=function(){var e=new URLSearchParams(window.location.search);e.set("smodo","1"),e.delete("login"),a.push(window.location.pathname+"?"+e.toString())},pa=function(){var e=t.carritoStore;t.environment.api.carrito().then((function(a){"ok"===a.kind&&(0===a.data.productos.length&&e.productos.length>0?e.productos.map((function(e){t.environment.api.agregarEliminarProductoCarrito(e.id,null,e.cantidad)})):e.setProductosAPI(a.data))}))},xa=function(){("web"===p.Capacitor.getPlatform()?aa:ta)()},ga=function(){ke&&1===Te?e.setVisible(!1):va(Te-1)},va=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),a.push(window.location.pathname+"?"+t.toString())},_a=function(){var t={height:50,display:"flex",alignContent:"center",justifyContent:"flex-start",padding:10,backgroundColor:"#f7f7f7ff"},a={height:20,fontSize:"0.875rem",fontWeight:"bold"},n={height:20,fontSize:"0.875rem",fontWeight:"bolder"},c=Object(T.jsx)("div",{style:a,children:Object(T.jsx)(x.a,{size:10,color:"#000"})}),i=Object(T.jsx)("div",{style:a,onClick:function(){return e.setVisible(!1)},children:Object(T.jsx)("img",{alt:"Logo de ABi",style:{height:20},src:"assets/abi-logo-gray.png"})}),r=Object(T.jsx)("div",{style:2===Te?a:n,onClick:function(){return Le(2)},children:"Datos Personales"}),s=Object(T.jsx)("div",{style:1===Te?a:n,onClick:function(){return Le(1)},children:"Registro"}),o=Object(T.jsx)("div",{style:3===Te?a:n,onClick:function(){return Le(3)},children:"Verificaci\xf3n"}),l=Object(T.jsx)("div",{style:4===Te?a:n,onClick:function(){return Le(4)},children:"Ubicaci\xf3n"}),d=Object(T.jsx)("div",{style:5===Te?a:n,onClick:function(){return Le(5)},children:"Direcci\xf3n"});return 1===Te?Object(T.jsxs)("div",{style:t,children:[i,c,s]}):2===Te?Object(T.jsxs)("div",{style:t,children:[i,c,s,c,r]}):3===Te?Object(T.jsxs)("div",{style:t,children:[i,c,s,c,r,c,o]}):4===Te?Object(T.jsxs)("div",{style:t,children:[i,c,o,c,l]}):5===Te?Object(T.jsxs)("div",{style:t,children:[i,c,o,c,l,c,d]}):null};return ja=Object(T.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#fff",overflowY:"auto",overflowX:"hidden"},children:[Object(T.jsxs)("div",{className:"izquierda-container-registro-abi",style:{background:"#FFF"},children:[!ke&&Te>1&&Object(T.jsx)("div",{onClick:ga,style:{position:"absolute",top:10,left:10,zIndex:9999,cursor:"pointer"},children:Object(T.jsx)(g.a,{size:30,color:"#000"})}),Te===Se&&Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(T.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(T.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Iniciar sesi\xf3n?"})]}),Object(T.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(T.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:ma,children:[Object(T.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(T.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(T.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:fa,children:[Object(T.jsx)(y.a,{style:{marginRight:5,fontSize:25}}),Object(T.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(T.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(T.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(T.jsx)("div",{className:"campo-registro-abi",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"nombre@email.com",tipo:"email",campo:"username",valor:Oe?Oe.username:"",error:ve&&ve.username,set_dato:ua,columnas:12,columnas_sm:12,extra_css:"flex-fill"})}),Object(T.jsx)("div",{className:"campo-registro-abi ",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Contrase\xf1a",tipo:"password",campo:"password",valor:Oe?Oe.password:"",error:ve&&ve.password,set_dato:ua,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(T.jsx)("div",{className:"btn-container-principal-login",children:Object(T.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){q(!0),t.environment.api.login(Oe.username,Oe.password).then((function(e){ha(e)}))},children:"Iniciar sesi\xf3n"})}),Object(T.jsx)("div",{className:"btn-container-principal-login",style:{paddingTop:"0.5rem",paddingBottom:0},children:Object(T.jsx)("a",{href:A.m.RECUPERAR_CONTRASENA,children:Object(T.jsx)("h6",{className:"titulo-login-abi ",style:{fontWeight:"bolder",margin:"1rem 0"},children:"Olvid\xe9 mi contrase\xf1a"})})}),Object(T.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(T.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(T.jsx)("h6",{style:{fontWeight:"bolder",background:"#efefef"},className:"sub-titulo-login-abi",children:"\xbfNo tienes cuenta?"}),Object(T.jsx)("h5",{className:"titulo-login-abi cpointer",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("login"),e.delete("registro"),e.set("sregistro","1"),a.push(window.location.pathname+"?"+e.toString())},children:"Crear cuenta"})]})})]})}),Te===Ie&&Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(T.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(T.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Registrarte?"})]}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(T.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:ma,children:[Object(T.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(T.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(T.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:fa,children:[Object(T.jsx)(y.a,{style:{marginRight:5,fontSize:25}}),Object(T.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(T.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(T.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(T.jsxs)("div",{className:"campo-registro-abi",children:[Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Email",tipo:"email",campo:"email",valor:Z?Z.email:"",error:Y&&Y.email,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"})," "]}),Object(T.jsxs)("div",{className:"campo-registro-abi ",children:[Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:Z?Z.contrasena:"",error:Y&&Y.contrasena,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"}),Object(T.jsx)("img",{alt:"Recomendaciones",onClick:function(){return st(!0)},className:"icono-info-registro",src:"assets/icon/info.png",style:{marginLeft:"-30px",zIndex:99}})]}),Object(T.jsx)("div",{className:"campo-registro-abi ",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:Z?Z.repetir_contrasena:"",error:Y&&Y.repetir_contrasena,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(T.jsx)("div",{className:"btn-container-principal-login",children:Object(T.jsx)("button",{className:"btn-principal-registro-abi",disabled:U,onClick:function(){la()&&va(Te+1)},children:"Registrarme"})}),Object(T.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(T.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(T.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(T.jsx)("h6",{style:{fontWeight:"bolder",backgroundColor:"#efefef"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(T.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(T.jsx)("a",{onClick:function(){Le(Se)},children:Object(T.jsx)("h5",{className:"titulo-login-abi ",children:"Iniciar Sesi\xf3n"})})})]})}),Object(T.jsx)(o.q,{isOpen:rt,cssClass:"modal-info-registro modal-info-contrasena",onDidDismiss:function(){return st(!1)},children:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{children:"Recomendaciones"})}),Object(T.jsx)("div",{onClick:function(){return st(!1)},children:Object(T.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(T.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(T.jsxs)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:[Object(T.jsxs)("p",{children:["-La contrase\xf1a debe tener como ",Object(T.jsx)("strong",{children:"m\xednimo 6 caracteres"}),"."]}),Object(T.jsx)("p",{children:"-Combin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(T.jsx)("p",{children:'-No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(T.jsxs)("p",{children:[Object(T.jsx)("strong",{children:"Ning\xfan miembro del Staff ABi solicitar\xe1 tu contrase\xf1a."}),"\xa1No la compartas con nadie!"]})]})})]})})]})}),Te===De&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(o.q,{isOpen:Be,cssClass:"modal-info-registro-short",onDidDismiss:function(){return Ue(!1)},children:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(T.jsx)("div",{style:{fontSize:"0.9em"},children:Object(T.jsx)("span",{children:"Ofertas exclusivas al correo"})}),Object(T.jsx)("div",{onClick:function(){return Ue(!1)},children:Object(T.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(T.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(T.jsx)("div",{style:{textAlign:"initial",padding:15,fontSize:"1rem"},children:Object(T.jsx)("h6",{className:"sub-titulo-login-abi",children:"Desde ABi te enviaremos noticias sobre ofertas exclusivas en nuestras tiendas."})})})]})}),Object(T.jsx)(o.q,{isOpen:We,cssClass:"modal-info-registro-short",onDidDismiss:function(){return Ye(!1)},children:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{children:"Recibir notificaciones"})}),Object(T.jsx)("div",{onClick:function(){return Ye(!1)},children:Object(T.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(T.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(T.jsx)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:Object(T.jsx)("h6",{className:"sub-titulo-login-abi",children:"Pod\xe9s recibir notificaciones con las novedades acerca de los productos que te gustan."})})})]})}),Object(T.jsx)("div",{style:{height:150,display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(T.jsx)(w.w,{titulo_modal:"Subir Foto de perfil",titulo_label:"imagen_perfil"===ie&&le>0?le+"%":"",titulo_boton:"Subir foto de perfil",helptext:"",img_path:"assets/id.png",on_select:ia,userdata:"imagen_perfil",preview:""!==be.imagen_perfil?be.imagen_perfil:"",source:0,color:"#ffa300",editor:!1,perfil:!0,extra_css_class:"foto-perfil-loader-small",preview_css_class:"preview-foto-loader-registro"})}),Y.imagen_perfil&&Object(T.jsx)("div",{className:"text-danger",children:Y.imagen_perfil}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(T.jsx)("div",{style:{flexGrow:1},children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:Z?Z.first_name:"",set_dato:da,columnas:12,columnas_sm:12,error:Y&&Y.first_name})}),Object(T.jsx)("div",{style:{flexGrow:1},children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:Z?Z.last_name:"",set_dato:da,columnas:12,columnas_sm:12,error:Y&&Y.last_name})})]}),Object(T.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(T.jsx)("div",{style:{flex:"1 1 50%"},children:Object(T.jsx)(w.c,{deshabilitado:!U&&!c.isLoggedIn||wt,titulo:"N\xfamero de celular",tipo:"telefono-simple",campo:"nro_telefono",valor:Z?Z.nro_telefono:"",set_dato:da,columnas:12,columnas_sm:12,verificar_firebase_autenticado:wt,verificar_firebase_reset:function(){kt(!1),"web"!==p.Capacitor.getPlatform()&&_.a.signOut()}})}),wt&&Object(T.jsx)("div",{style:{flex:"1 1 50%",paddingLeft:"4%",paddingRight:"4%"},children:Object(T.jsx)("button",{className:"background-color-naranja-abi",style:{borderRadius:3,height:38,width:"100%",color:"#fff"},title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){kt(!1),"web"!==p.Capacitor.getPlatform()&&_.a.signOut()},children:Object(T.jsx)("span",{children:"Cambiar"})})})]}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:Z?Z.fecha_nacimiento:"",error:Y&&Y.fecha_nacimiento,set_dato:da,columnas:12,columnas_sm:12})}),Object(T.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(T.jsx)(o.B,{className:"toggle-registro-abi",checked:Z.email_oferta,onIonChange:function(e){return sa("email_oferta",e.detail.checked)}}),Object(T.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(T.jsx)(o.o,{children:"Quiero recibir ofertas exclusivas a mi correo. "})}),Object(T.jsx)("img",{alt:"Informaci\xf3n",onClick:function(){return Ue(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(T.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(T.jsx)(o.B,{className:"toggle-registro-abi",checked:Z.notificacion_oferta,onIonChange:function(e){return sa("notificacion_oferta",e.detail.checked)}}),Object(T.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(T.jsx)(o.o,{children:"Quiero recibir notificaciones. "})}),Object(T.jsx)("img",{onClick:function(){return Ye(!0)},alt:"",className:"icono-info-registro",src:"assets/icon/info.png"})]})]}),Object(T.jsx)("div",{className:"centrado-texto-flex",children:Object(T.jsx)("div",{style:{width:"80%",textAlign:"center"},children:Object(T.jsxs)("h6",{className:"sub-titulo-login-abi",style:{marginTop:10},children:["Al continuar, aceptas las",Object(T.jsx)("a",{target:"_blank",href:"https://app.abi.com.py/terminos/",children:Object(T.jsx)("span",{className:"resaltado-registro-abi",children:" Condiciones de uso y T\xe9rminos de privacidad."})})]})})}),Object(T.jsx)("div",{className:"btn-container-principal-login",children:Object(T.jsxs)("button",{className:"btn-principal-registro-abi",disabled:U,onClick:function(){la()&&va(Te+1)},children:[U&&Object(T.jsx)(o.z,{name:"crescent"}),!U&&Object(T.jsx)("span",{children:"Continuar"})]})})]}),Te===Ae&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),wt&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",marginTop:"50%",marginBottom:"40%"},children:Object(T.jsx)("span",{className:"mx-auto",children:"Su n\xfamero ya fue verificado."})}),Object(T.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(e){Le(Te+1)},children:"Continuar"})]}),!jt&&!wt&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:56},className:"mx-auto",children:Object(T.jsx)("div",{style:{textAlign:"center"},children:Object(T.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",d.nro_telefono,". "]})})}),Object(T.jsxs)("div",{className:"text-center d-flex align-self-center mx-auto",style:{position:"relative",width:270,height:35,marginTop:42,marginBottom:"2rem"},children:[Pt<1&&Object(T.jsx)(u.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return At(e)},onComplete:function(e){ba(e)}}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",children:"\u2022"}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",style:{left:55},children:Pt>=2?"\u2022":""}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",style:{left:100},children:Pt>=3?"\u2022":""}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",style:{left:145},children:Pt>=4?"\u2022":""}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",style:{left:190},children:Pt>=5?"\u2022":""}),Pt>=1&&Object(T.jsx)("div",{className:"input-dot",style:{left:235},children:Pt>=6?"\u2022":""})]}),Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(T.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(T.jsxs)("a",{onClick:0===Ce?function(){return xa()}:function(){},children:[Object(T.jsx)("span",{className:"resaltado-registro-abi",children:" nuevo c\xf3digo"})," ",Ce>0&&Object(T.jsxs)("span",{children:["en ",Ce," seg."]})]})]})]}),Object(T.jsxs)("div",{style:{margin:"2.5rem"},children:[Object(T.jsx)("p",{className:"cpointer",onClick:function(){kt(!0),ht(null),lt.current=!1,Nt(lt.current)},children:"Omitir este paso"}),Object(T.jsx)("a",{href:"https://wa.me/595981840840",children:Object(T.jsx)("h5",{className:"resaltado-registro-abi",children:"Contactanos"})})]}),Object(T.jsx)("div",{className:"btn-container-principal-login",children:Object(T.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){ba(Dt)},children:"Continuar"})})]})]}),Te===Re&&ke&&Object(T.jsx)(R.a,{ref:Ft,lat:Wt,lng:Jt,onAccept:oa}),(Te===Re&&!ke||Te===Ee&&ke)&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"centrado-texto-flex",children:Object(T.jsx)("div",{className:"campo-registro-abi ",children:Object(T.jsx)("h6",{className:"sub-titulo-login-abi",style:{textAlign:"center",marginTop:30,marginBottom:10,marginLeft:15},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"})})}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:Z?Z.calle_principal:"",error:Y&&Y.calle_principal,set_dato:function(e,t){t&&(sa(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle principal",select_onchange:function(e){Object(k.z)(t,sa,Q,Z,"calle_principal",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:Z?Z.calle_secundaria:"",error:Y&&Y.calle_secundaria,set_dato:function(e,t){t&&(sa(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(k.z)(t,sa,Q,Z,"calle_secundaria",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:Z?Z.numero:"",error:Y&&Y.numero,set_dato:da,columnas:12,columnas_sm:12})}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Referencia (Color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc)",tipo:"textarea",campo:"referencia",valor:Z?Z.referencia:"",error:Y&&Y.referencia,set_dato:da,columnas:12,columnas_sm:12})}),Object(T.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(T.jsx)(w.c,{deshabilitado:!U,titulo:"Nombre (casa, oficina, etc)",tipo:"texto",campo:"nombre_direccion",valor:Z?Z.nombre_direccion:"",error:Y&&Y.nombre_direccion,set_dato:da,columnas:12,columnas_sm:12})}),Object(T.jsx)("div",{className:"centrado-texto-flex mx-auto",children:Object(T.jsx)("div",{className:"campo-registro-abi",style:{paddingLeft:"3%"},children:Object(T.jsx)("h6",{style:{color:"#000",fontWeight:"bolder"},children:"Eleg\xed un icono distintivo"})})}),Object(T.jsxs)("div",{className:"campo-registro-abi mx-auto",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(T.jsx)("div",{onClick:function(){return nt("casa")},className:"casa"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(T.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===at?"filter-invert-imagen":"",height:32})}),Object(T.jsx)("div",{onClick:function(){return nt("empresa")},className:"empresa"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(T.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===at?"filter-invert-imagen":""})}),Object(T.jsx)("div",{onClick:function(){return nt("maletin")},className:"maletin"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(T.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===at?"filter-invert-imagen":"",height:32})}),Object(T.jsx)("div",{onClick:function(){return nt("corazon")},className:"corazon"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(T.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===at?"filter-invert-imagen":"",height:32})}),Object(T.jsx)("div",{onClick:function(){return nt("alfiler")},className:"alfiler"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(T.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===at?"filter-invert-imagen":"",height:32})})]}),Object(T.jsx)("div",{className:"btn-container-principal-login",children:Object(T.jsxs)("button",{className:te?"btn btn-info px-5 py-2":"px-5 py-2",disabled:!te,onClick:function(){if(wt){q(!0),V(L);var e="";Wt&&Jt&&(e=Wt+","+Jt);var a=Z.calle_principal,s=Z.calle_secundaria,o=Object(n.a)(Object(n.a)({},Z),{},{ubicacion:e,calle_principal:a?a.value:"",calle_secundaria:s?s.value:"",icono_direccion:at});o.nro_telefono=Object(k.p)(o.nro_telefono),"object"===typeof o.ciudad&&(o.ciudad=o.ciudad.id),t.environment.api.clienteRegistro(o).then(function(){var e=Object(r.a)(i.a.mark((function e(a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(!1),K(a,"Cliente registrado satisfactoriamente","guardar"),"ok"!==a.kind){e.next=15;break}Object(m.u)((function(){c.setUser(a.user),c.setApiToken(a.user.token),c.setModoUsoApp(a.user.modo_uso_app),d.reset()})),n=0;case 5:if(!(n<N.productos.length)){e.next=12;break}return r=N.productos[n],e.next=9,t.environment.api.agregarEliminarProductoCarrito(r.id,null,r.cantidad,!1).then((function(e){"ok"!==e.kind&&console.log("No se pudo agregar al carrito")}));case 9:n++,e.next=5;break;case 12:"/carrito"===document.location.pathname?document.location.reload():document.location.href=A.m.ROOT,e.next=16;break;case 15:"bad-data"===a.kind&&(q(!1),V(a.errors),"nombre_direccion"===(s=Object.keys(a.errors)[0])||Le("first_name"===s||"last_name"===s||"nro_documento"===s||"nro_telefono"===s?2:1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else X("El n\xfamero debe estar verificado para continuar","warning")},children:[U&&Object(T.jsx)(o.z,{name:"crescent"}),!U&&Object(T.jsx)("span",{children:"Finalizar"})]})})]})]}),ke||Te===Re?null:Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"derecha-container-registro-abi background-color-naranja-abi",children:[Object(T.jsx)("div",{className:"banner-registro-cliente"}),!1!==e.closable&&Object(T.jsx)("div",{style:{position:"absolute",top:"13px",right:"13px",cursor:"pointer"},onClick:function(){return e.setVisible(!1)},children:Object(T.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]})}),ke||Te!==Re?null:Object(T.jsx)("div",{className:"derecha-container-registro-abi",style:{position:"relative"},children:Object(T.jsx)(R.a,{ref:Ft,lat:Wt,lng:Jt,onAccept:oa})})]}),Object(T.jsxs)(o.q,{isOpen:e.isOpen,backdropDismiss:!1,onDidDismiss:function(){return e.setVisible(!1)},cssClass:ke?"":"modal-registro-abi",children:[ke&&Object(T.jsx)(w.k,{color:"#ffb433ff",titulo:Je,sub_titulo:Xe,botonIzquierdo:!1!==e.closable?null:Object(T.jsx)(T.Fragment,{}),accion_boton_izquierdo:function(){return ga()}}),ke&&Object(T.jsx)(_a,{}),ja]})}));t.a=B},493:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=a(2),r=a(24),s=a(3),o=a.n(s),l=(a(485),a(506),a(507),a(508),a(478)),d=a(101),u=a(475),j=a(86),b=a(8),m=a(57),f=a(9),h=o.a.forwardRef((function(e,t){var a=Object(j.b)(),n=Object(m.e)(),h=Object(d.J)(),O=Object(s.useState)(!1),p=Object(r.a)(O,2),x=p[0],g=p[1],v=Object(s.useState)(e.lat),_=Object(r.a)(v,2),N=_[0],y=_[1],C=Object(s.useState)(e.lng),w=Object(r.a)(C,2),k=w[0],S=w[1],I=Object(s.useState)(14),D=Object(r.a)(I,2),A=D[0],R=D[1],E=Object(s.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),P=Object(r.a)(E,2),z=P[0],T=P[1],L=Object(s.useState)(e.onAccept?[e.onAccept]:null),F=Object(r.a)(L,2),M=F[0],B=F[1],U=Object(s.useState)(e.userdata?[e.userdata]:null),q=Object(r.a)(U,2),H=q[0],W=q[1],Y=Object(s.useState)(e.onCancel?[e.onCancel]:null),V=Object(r.a)(Y,2),G=V[0],J=V[1],Z=e.color||"#303AB2",Q=e.Movil?e.Movil:window.innerWidth<=500||/Mobi/.test(navigator.userAgent),K=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.environment.locationService.checkGPSPermission();case 2:if(e.sent){e.next=8;break}return e.next=6,a.environment.locationService.askPermissionAndOrTurnOnGPS();case 6:t=e.sent,a.setHasLocationPermission(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.a.useEffect((function(){K(),setTimeout((function(){g(!0)}),700)}),[]),o.a.useEffect((function(){e.lat&&(N||y(e.lat))}),[e.lat]),o.a.useEffect((function(){e.lng&&(k||S(e.lng))}),[e.lng]),Object(s.useImperativeHandle)(t,(function(){return{open:function(t,a,n){t&&B([t]),a&&J([a]),n&&W([n]),e.lat&&e.lng&&R(16),y(e.lat),S(e.lng)},close:function(){$()}}}));var X=function(e,t){y(e),S(t),T({lat:e,lng:t})},$=function(){g(!1),G&&G[0](H?H[0]:null)},ee=function(){M&&N&&k?M[0](N,k,H?H[0]:null):(h("Seleccione una ubicaci\xf3n para continuar","warning"),n.push(b.n.VEHICULO))};return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[Q?Object(f.jsx)("div",{style:{height:"100%",width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:N,lng:k,zoom:A,center:z,ubicacion:function(e,t){X(e,t)},full_screen:!0,color:Z})}):Object(f.jsx)("div",{style:{flexGrow:1,width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:N,lng:k,zoom:A,center:z,ubicacion:X,full_screen:!0,color:Z})}),Q?Object(f.jsx)(u.h,{children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi my-2",onClick:ee,children:"Seleccionar"})}):Object(f.jsx)("div",{style:{position:"absolute",bottom:30,left:"50%",textAlign:"center",zIndex:9999,marginLeft:-94},children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi",onClick:ee,children:"Seleccionar"})})]})}));t.a=h},494:function(e,t,a){"use strict";var n=a(0),c=a.n(n),i=a(33),r=a(2),s=a(24),o=(a(552),a(30)),l=a(479),d=a(123),u=a(500),j=a(503),b=a(40),m=a(227),f=a(225),h=(a(286),a(18)),O=a(161),p=a(87),x=a.n(p),g=a(3),v=a(160),_=a(1524),N=a(1544),y=a(475),C=a(504),w=a(476),k=a(482),S=a(493),I=a(498),D=a(8),A=a(101),R=a(86),E=a(589),P=a.n(E),z=a(57),T=a(9),L={first_name:"",last_name:"",fecha_nacimiento:"",email:"",nro_documento:"",ruc:"",razon_social:"",nro_telefono:"",ciudades:[],contrasena:"",repetir_contrasena:"",imagen_perfil:"",registro_frente:"",registro_dorso:"",antecedentesj:"",antecedentesp:"",constancia_ruc:"",tipo_vehiculo:[],marca:"",modelo:"",ano:"",numero_chapa:"",color:"",kilometraje:"",numero_chassis:"",habilitacion_frente:"",habilitacion_dorso:"",poliza_seguro:"",registro_vencimiento:"",habilitacion_vencimiento:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0},F={imagen_perfil:""},M=Object(O.a)((function(e){var t=Object(R.b)(),a=t.loginStore,n=t.registroStore,O=Object(z.e)(),p=Object(g.useState)(!1),E=Object(s.a)(p,2),M=E[0],B=E[1],U=Object(g.useState)({}),q=Object(s.a)(U,2),H=q[0],W=q[1],Y=Object(g.useState)(L),V=Object(s.a)(Y,2),G=V[0],J=V[1],Z=Object(g.useState)([]),Q=Object(s.a)(Z,2),K=Q[0],X=Q[1],$=Object(g.useState)(0),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(g.useRef)(0),ce=Object(g.useRef)(null),ie=Object(g.useState)(!0),re=Object(s.a)(ie,2),se=re[0],oe=(re[1],Object(g.useState)(!1)),le=Object(s.a)(oe,2),de=le[0],ue=le[1],je=Object(g.useState)(null),be=Object(s.a)(je,2),me=be[0],fe=be[1],he=(Object(A.A)(),Object(A.J)()),Oe=Object(g.useState)(!1),pe=Object(s.a)(Oe,2),xe=pe[0],ge=pe[1],ve=Object(g.useState)(0),_e=Object(s.a)(ve,2),Ne=_e[0],ye=_e[1],Ce=Object(g.useState)(""),we=Object(s.a)(Ce,2),ke=we[0],Se=we[1],Ie=Object(g.useState)(!1),De=Object(s.a)(Ie,2),Ae=(De[0],De[1]),Re=Object(g.useState)(!1),Ee=Object(s.a)(Re,2),Pe=(Ee[0],Ee[1]),ze=Object(g.useState)(""),Te=Object(s.a)(ze,2),Le=(Te[0],Te[1]),Fe=Object(g.useState)(""),Me=Object(s.a)(Fe,2),Be=(Me[0],Me[1]),Ue=Object(g.useState)(F),qe=Object(s.a)(Ue,2),He=qe[0],We=qe[1],Ye=Object(g.useState)(!1),Ve=Object(s.a)(Ye,2),Ge=Ve[0],Je=Ve[1],Ze=Object(g.useState)(!1),Qe=Object(s.a)(Ze,2),Ke=Qe[0],Xe=Qe[1],$e=Object(g.useState)(),et=Object(s.a)($e,2),tt=et[0],at=et[1],nt=Object(g.useState)(!1),ct=Object(s.a)(nt,2),it=ct[0],rt=ct[1],st=Object(g.useState)("10"),ot=Object(s.a)(st,2),lt=ot[0],dt=ot[1],ut=Object(A.C)((function(){return O.replace(D.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario",!0,"#ff6f33","btn-outline-orange"),jt=Object(s.a)(ut,2),bt=(jt[0],jt[1]),mt=Object(g.useRef)(""),ft=Object(g.useRef)(!1),ht=Object(g.useState)(!1),Ot=Object(s.a)(ht,2),pt=Ot[0],xt=Ot[1],gt=Object(g.useState)(null),vt=Object(s.a)(gt,2),_t=vt[0],Nt=vt[1],yt=Object(g.useState)(!1),Ct=Object(s.a)(yt,2),wt=Ct[0],kt=Ct[1],St=Object(g.useState)(!1),It=Object(s.a)(St,2),Dt=It[0],At=It[1],Rt=Object(g.useState)(!1),Et=Object(s.a)(Rt,2),Pt=Et[0],zt=Et[1],Tt=Object(g.useRef)(),Lt=Object(g.useState)({lng:-57.63591,lat:-25.30066}),Ft=Object(s.a)(Lt,2),Mt=Ft[0],Bt=Ft[1],Ut=Object(g.useState)(null),qt=Object(s.a)(Ut,2),Ht=qt[0],Wt=qt[1],Yt=Object(g.useState)(null),Vt=Object(s.a)(Yt,2),Gt=Vt[0],Jt=Vt[1],Zt=Object(g.useState)(null),Qt=Object(s.a)(Zt,2),Kt=Qt[0],Xt=Qt[1];Object(g.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");ae(t)}),[t.locationSearch]);var $t=function(){var e=Object(r.a)(c.a.mark((function e(){var s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"web"!==o.Capacitor.getPlatform()&&("android"===o.Capacitor.getPlatform()?j.a.backgroundColorByHexString("#ff4b00"):"ios"===o.Capacitor.getPlatform()&&(document.body.style.background="#ff4b00"),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),a.isLoggedIn?(n.reset(),s=Object(i.a)({},L),J(Object(i.a)(Object(i.a)({},s),{},{first_name:a.first_name?a.first_name:"",last_name:a.last_name?a.last_name:"",fecha_nacimiento:a.fecha_nacimiento?x()(a.fecha_nacimiento).format("DD/MM/YYYY"):"",nro_documento:a.nro_documento?a.nro_documento:"",nro_telefono:Object(A.o)(a.nro_telefono),razon_social:a.razon_social?a.razon_social:"",ruc:a.ruc?a.ruc:"",email:a.email?a.email:""}))):setTimeout(Object(r.a)(c.a.mark((function e(){var a,i,r,s,o,l,d,u,j,b,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setTipoFormulario(30),a=t.ciudades.filter((function(e){return n.ciudades.includes(e.id)})),i=t.tiposVehiculos.filter((function(e){return n.tipo_vehiculo.includes(e.id)})),!n.imagen_perfil){e.next=8;break}return e.next=6,m.a.getFilefromDataUrl(n.imagen_perfil,"imagen_perfil");case 6:r=e.sent,ta("imagen_perfil",n.imagen_perfil);case 8:if(!n.antecedentesp){e.next=12;break}return e.next=11,m.a.getFilefromDataUrl(n.antecedentesp,"antecedentesp");case 11:s=e.sent;case 12:if(!n.antecedentesj){e.next=16;break}return e.next=15,m.a.getFilefromDataUrl(n.antecedentesj,"antecedentesj");case 15:o=e.sent;case 16:if(!n.habilitacion_dorso){e.next=20;break}return e.next=19,m.a.getFilefromDataUrl(n.habilitacion_dorso,"habilitacion_dorso");case 19:l=e.sent;case 20:if(!n.habilitacion_frente){e.next=24;break}return e.next=23,m.a.getFilefromDataUrl(n.habilitacion_frente,"habilitacion_frente");case 23:d=e.sent;case 24:if(!n.poliza_seguro){e.next=28;break}return e.next=27,m.a.getFilefromDataUrl(n.poliza_seguro,"poliza_seguro");case 27:u=e.sent;case 28:if(!n.registro_dorso){e.next=32;break}return e.next=31,m.a.getFilefromDataUrl(n.registro_dorso,"registro_dorso");case 31:j=e.sent;case 32:if(!n.registro_frente){e.next=36;break}return e.next=35,m.a.getFilefromDataUrl(n.registro_frente,"registro_frente");case 35:b=e.sent;case 36:if(!n.constancia_ruc){e.next=40;break}return e.next=39,m.a.getFilefromDataUrl(n.constancia_ruc,"constancia_ruc");case 39:f=e.sent;case 40:J({ano:n.ano?n.ano:"",antecedentesp:s,antecedentesj:o,ciudades:a,color:n.color?n.color:"",habilitacion_dorso:l,habilitacion_frente:d,habilitacion_vencimiento:n.habilitacion_vencimiento?n.habilitacion_vencimiento:"",imagen_perfil:r,kilometraje:n.kilometraje?n.kilometraje:"",marca:n.marca?n.marca:"",modelo:n.modelo?n.modelo:"",numero_chapa:n.numero_chapa?n.numero_chapa:"",numero_chassis:n.numero_chassis?n.numero_chassis:"",poliza_seguro:u,registro_dorso:j,registro_frente:b,constancia_ruc:f,registro_vencimiento:n.registro_vencimiento?n.registro_vencimiento:"",tipo_vehiculo:i,contrasena:"",repetir_contrasena:"",email:n.email?n.email:"",first_name:n.first_name?n.first_name:"",last_name:n.last_name?n.last_name:"",fecha_nacimiento:n.fecha_nacimiento?n.fecha_nacimiento:"",nro_documento:n.nro_documento?n.nro_documento:"",nro_telefono:Object(A.o)(n.nro_telefono),razon_social:n.razon_social?n.razon_social:"",ruc:n.ruc?n.ruc:"",calle_principal:n.calle_principal?n.calle_principal:"",calle_secundaria:n.calle_secundaria?n.calle_secundaria:"",ciudad:n.ciudad?n.ciudad:0,nombre_direccion:n.nombre_direccion?n.nombre_direccion:"",numero:n.numero?n.numero:"",referencia:n.referencia?n.referencia:"",ubicacion:n.ubicacion?n.ubicacion:""});case 41:case"end":return e.stop()}}),e)})))),l=window.innerWidth<=500,ge(l),aa(),na(),setTimeout((function(){return Je(!0)}),700);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){$t()}),[]),Object(g.useEffect)((function(){t.hasLocationPermission&&ea().catch((function(e){console.log(e),String(e).includes("location disabled")&&he("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]),Object(g.useEffect)((function(){te===sa.requisitos?at([{titulo:"Registro",callback:function(){oa(sa.requisitos)}}]):te===sa.datosPersonales?(Be("Datos Personales"),Le("Iniciar Sesi\xf3n - Paso 1 de 2"),at([{titulo:"Registro",callback:function(){oa(sa.requisitos)}},{titulo:"Datos personales",callback:function(){oa(sa.datosPersonales)}}])):te===sa.mapa?(Be("Direcci\xf3n"),Le(""),at([{titulo:"Registro",callback:function(){oa(sa.requisitos)}},{titulo:"Datos personales",callback:function(){oa(sa.datosPersonales)}},{titulo:"Direcci\xf3n legal",callback:function(){oa(sa.mapa)}}])):te===sa.direccionCampos?(Be("Direcci\xf3n"),Le(""),at([{titulo:"Registro",callback:function(){oa(sa.requisitos)}},{titulo:"Mapa",callback:function(){oa(sa.mapa)}},{titulo:"Direcci\xf3n legal",callback:function(){oa(sa.direccionCampos)}}])):te===sa.datosRodado&&(Be("Rodados"),Le("Paso 2 de 2"),at([{titulo:"Datos personales",callback:function(){oa(sa.datosPersonales)}},{titulo:"Rodados",callback:function(){oa(sa.datosRodado)}}]))}),[te]);var ea=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,Xt([t.coords.latitude,t.coords.longitude]),Wt(t.coords.latitude),Jt(t.coords.longitude),Bt({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ta=function(e,t){var a=Object(i.a)({},He);a[e]=t,We(a)},aa=function(){t.ciudades.length||(B(!0),t.actualizarDatosInicio(!1).then((function(){B(!1)})))},na=function(){t.environment.api.tiposVehiculos().then((function(e){"ok"===e.kind&&t.setTiposVehiculos(e.data.results)}))},ca=function(e,t){var a=Object(i.a)({},G);a[e]=t,J(a)},ia=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var i,r,s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===o.Capacitor.getPlatform()){e.next=5;break}return e.next=3,l.a.readFile({path:t});case 3:i=e.sent,t="data:image/jpeg;base64,".concat(i.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(A.k)(r,a,ra);case 10:return s=e.sent,ta(a,t),Se(a),e.next=15,m.a.getDataUrlFromFile(s);case 15:d=e.sent,ca(a,s),n.setDatoRegistroStore(a,d);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra=function(e){ye(e),100===e?(B(!1),setTimeout((function(){ye(0),Se("")}),500)):B(!0)},sa={requisitos:0,datosPersonales:1,mapa:2,direccionCampos:3,datosRodado:4},oa=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),O.push(window.location.pathname+"?"+t.toString())},la=function(e){oa(e),ne.current=e,ce&&ce.current&&ce.current.scrollTop()},da=function(e,t){ca(e,t)},ua=function(e){if(["first_name","last_name"].includes(e)&&ca("razon_social",G.first_name+" "+G.last_name),"ruc"===e){var a=G.ruc.indexOf("-")>0?{ruc:G.ruc}:{documento:G.ruc};t.environment.api.consultarRuc(a).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),n.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),n.setDatoRegistroStore("razon_social",t.razon_social))}})).catch((function(){}))}};Object(g.useEffect)((function(){var e=null;return"web"!==o.Capacitor.getPlatform()&&(e=u.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&ft.current&&(kt(!0),setTimeout((function(){zt(!0),Nt(null),he("N\xfamero verificado exitosamente"),ft.current=!1,At(ft.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var ja=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===G.nro_telefono.length){e.next=3;break}return he("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:Pt&&zt(!1),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),xt(!0),Nt(null),kt(!1),setTimeout((function(){ft.current=!0,At(ft.current)}),2e3),t=Object(A.p)(G.nro_telefono),u.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(!1),!Pt){e.next=4;break}return Nt(null),e.abrupt("return");case 4:mt.current=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),Nt(e),zt(!1),xt(!1),ft.current=!1,At(ft.current),he("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){if(12===G.nro_telefono.length){var e=Object(A.p)(G.nro_telefono);xt(!0),Nt(null);var t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){xt(!1),ft.current=!0,At(ft.current),xt(!1),mt.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),xt(!1),Nt(e.message),zt(!1),he("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else he("Ingrese un n\xfamero v\xe1lido","warning")};Object(g.useEffect)((function(){a.isLoggedIn&&zt(!0)}),[G]),Object(g.useEffect)((function(){se&&Ae(!1)}),[se]);var ma=function(e,t){Xe(!0),Wt(e),Jt(t),a.isLoggedIn||n.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),oa(sa.direccionCampos)};Object(g.useEffect)((function(){Ht&&Gt&&t.environment.api.infoCalle(Ht,Gt).then((function(e){if("ok"===e.kind&&e.response.info){var c=e.response.info,r=Object(i.a)({},G);c.calle&&(r.calle_principal={value:c.calle,label:c.calle}),c.ciudad_obj&&(r.ciudad=t.ciudades.find((function(e){return e.id===c.ciudad_obj.id}))),c.secondary&&(r.calle_secundaria={value:c.secondary,label:c.secondary}),a.isLoggedIn||(n.setDatoRegistroStore("calle_principal",r.calle_principal?r.calle_principal:null),n.setDatoRegistroStore("calle_secundaria",r.calle_secundaria?r.calle_secundaria:null),n.setDatoRegistroStore("ciudad",r.ciudad?r.ciudad.id:null)),J(r)}})).catch()}),[Ht,Gt]);return Object(T.jsxs)("div",{children:[Object(T.jsxs)(b.q,{isOpen:!0,id:"modal-registro-transportista",swipeToClose:!1,backdropDismiss:!1,children:[Object(T.jsx)(y.k,{color:"var(--naranja-transportista)",botonIzquierdo:Object(T.jsx)("span",{onClick:function(){if(te>0)oa(te-1);else{var e=new URLSearchParams(window.location.search);e.delete("registrot"),e.delete("i"),O.push(window.location.pathname+"?"+e.toString())}},children:Object(T.jsx)(_.a,{size:30,color:"#ffffff"})}),titulo:"Registro del conductor"}),bt,Object(T.jsx)(I.a,{links:tt||[]}),Object(T.jsxs)(P.a,{className:"",index:te,onChangeIndex:la,disabled:!0,children:[Object(T.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(T.jsxs)("div",{className:"p-4",style:{background:"#FFF"},children:[Object(T.jsx)("strong",{children:Object(T.jsx)("p",{className:"margen-texto-registro-transportista mt-2",children:"Requisitos para ser Driver ABi:"})}),Object(T.jsxs)("ol",{children:[Object(T.jsx)("li",{children:"Ser mayor de 18 a\xf1os."}),Object(T.jsx)("li",{children:"Contar con un rodado desde moto hasta un cami\xf3n. \xa1Con ABi no hay l\xedmites!"}),Object(T.jsx)("li",{children:"Habilitaci\xf3n al d\xeda."}),Object(T.jsx)("li",{children:"Registro de conducir."}),Object(T.jsx)("li",{children:"Certificado de antecedentes policiales."}),Object(T.jsx)("li",{children:"Certificado de antecedentes judiciales."}),Object(T.jsx)("li",{children:"Contar con factura legal."}),Object(T.jsx)("li",{children:"Tener un seguro. Si no ten\xe9s... \xa1Nosotros te ayudamos a tener uno!"})]}),Object(T.jsx)("p",{className:"p-4",children:"Registrate completando tus datos personales y el de tu rodado. \xa1Comenz\xe1 a conducir con nosotros!"}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:20,color:"var(--rojo-abi)"},children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{src:"assets/icon/info-orange-transportista.png",className:"icono-registro-trasportista"}),Object(T.jsx)("a",{onClick:function(){return O.push("".concat(D.m.PREGUNTAS_FRECUENTES,"?c=Driver ABi"))},children:Object(T.jsx)("strong",{children:"Preguntas Frecuentes"})})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{src:"assets/icon/atencion-cliente-red.png",className:"icono-registro-trasportista"}),Object(T.jsx)("a",{href:"https://wa.me/595981840840",children:Object(T.jsx)("strong",{style:{color:"var(--rojo-abi)"},children:"Contactanos"})})]}),Object(T.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return la(sa.datosPersonales)},children:[M&&Object(T.jsx)(b.z,{name:"crescent"}),!M&&Object(T.jsx)("span",{children:"Registrarme"})]})]})]}),!a.isLoggedIn&&Object(T.jsxs)(y.h,{className:"py-4 px-5",children:[Object(T.jsx)("div",{style:{},children:Object(T.jsx)("h6",{style:{fontWeight:"bolder"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(T.jsx)("div",{children:Object(T.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),e.delete("registrot"),O.push(window.location.pathname+"?"+e.toString())},children:Object(T.jsx)("h5",{style:{color:"var(--rojo-abi)",fontWeight:"bold"},children:"Iniciar Sesi\xf3n"})})})]})]}),Object(T.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(T.jsx)(w.a,{isOpen:it,color:"var(--rojo-abi)",titulo:"Direcci\xf3n legal",cssClass:"info-direccion-transportista",close:function(){return rt(!1)},children:Object(T.jsx)("span",{children:"La direcci\xf3n legal es tu direcci\xf3n de residencia actual."})}),Object(T.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(T.jsx)(y.w,{color:"var(--rojo-abi)",titulo_modal:"Foto de Perfil",titulo_label:"Subir Foto de Perfil "+("imagen_perfil"===ke&&Ne>0?Ne+"%":""),helptext:Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"1. Mostra tu rostro completo y la parte superior de los hombros"}),Object(T.jsx)("p",{children:"2. No uses anteojos ni kepis/sombreros"}),Object(T.jsx)("p",{children:"3. Saca la foto en un lugar con buena iluminaci\xf3n"})]}),img_path:"assets/person.png",on_select:ia,userdata:"imagen_perfil",dontUseWebInput:!0,preview:""!==He.imagen_perfil?He.imagen_perfil:"",camera_direction:1,perfil:!0,class_boton_aceptar:"btn-outline-orange",infoBody:Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"Sub\xed una imagen de tu rostro, n\xedtida y actualizada en la que puedan reconocerte:"}),Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"Fondo neutro"}),Object(T.jsx)("li",{children:"Formato JPG"}),Object(T.jsx)("li",{children:"Prohibido fotografiarse con lentes oscuros kepi y/o tapabobas"})]})]}),infoTitulo:"Foto de Perfil",modal_info_css_class:"requisitos-foto-perfil"}),H.imagen_perfil&&Object(T.jsx)("div",{className:"text-danger",children:H.imagen_perfil}),Object(T.jsxs)("div",{className:"campo-registro-transportista",children:[Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)(y.c,{deshabilitado:!M&&!a.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:G?G.first_name:"",error:H&&H.first_name,set_dato:da,campo_blur:!0,set_dato_blur:ua,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{deshabilitado:!M&&!a.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:G?G.last_name:"",error:H&&H.last_name,set_dato:da,campo_blur:!0,set_dato_blur:ua,columnas:12,columnas_sm:12,set_dato_registro_store:!0})]}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Nro. de c\xe9dula",tipo:"texto",campo:"nro_documento",valor:G?G.nro_documento:"",error:H&&H.nro_documento,set_dato:da,campo_blur:!0,set_dato_blur:function(e){"nro_documento"===e&&t.environment.api.consultarRuc({documento:G.nro_documento}).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),n.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),n.setDatoRegistroStore("razon_social",t.razon_social))}else ca("ruc",G.nro_documento)})).catch((function(){ca("ruc",G.nro_documento)}))},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:G?G.fecha_nacimiento:"",error:H&&H.fecha_nacimiento,set_dato:da,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{deshabilitado:!M&&!Pt,titulo:"Celular",tipo:"telefono",campo:"nro_telefono",valor:G?G.nro_telefono:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.nro_telefono,verificar_firebase_habilitado:!0,verificar_firebase_autenticado:Pt,verificar_firebase_func:"web"===o.Capacitor.getPlatform()?ba:ja,verificar_firebase_error:_t||"",verificar_boton_clase:"btn-outline-orange",verificar_firebase_reset:function(){xt(!1),Nt(null),zt(!1),"web"!==o.Capacitor.getPlatform()&&u.a.signOut()},set_dato_registro_store:!0}),!xe&&Object(T.jsx)("div",{className:"col-6 ml-auto d-flex justify-content-center",id:"recaptcha-container"}),xe&&Object(T.jsx)("div",{className:"col-12 col-lg-6 ml-auto d-flex justify-content-center mb-lg-3 mb-0",id:"recaptcha-container",children:pt&&Object(T.jsx)(b.z,{style:{color:"#ff4c01"},name:"crescent"})})]}),!a.isLoggedIn&&Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"row ",children:Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:G?G.email:"",error:H&&H.email,set_dato:da,columnas:12,columnas_sm:12,set_dato_registro_store:!0})}),Object(T.jsxs)("div",{className:"row",children:[Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:G?G.contrasena:"",error:H&&H.contrasena,set_dato:da,columnas:12,columnas_sm:6,set_dato_registro_store:!0,infoBody:Object(T.jsx)("div",{children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:["La contrase\xf1a debe tener como ",Object(T.jsx)("strong",{children:"m\xednimo 6 caracteres."})]}),Object(T.jsx)("li",{children:"Conbin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(T.jsx)("li",{children:'No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(T.jsxs)("li",{children:[Object(T.jsx)("strong",{children:"Ning\xfan miembro del Staff Abi solicitar\xe1 tu contrase\xf1a."})," \xa1No la compartas con nadie!"," "]})]})}),infoTitulo:"Contrase\xf1a segura",modal_info_css_class:"requisitos-foto-perfil",color:"var(--naranja-transportista)"}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:G?G.repetir_contrasena:"",error:H&&H.repetir_contrasena,set_dato:da,columnas:12,columnas_sm:6,extra_css:"mb-3",set_dato_registro_store:!0})]})]}),Object(T.jsxs)("div",{className:"row ml-1",children:[Object(T.jsx)("div",{children:Object(T.jsx)("strong",{children:"Tipo de Driver: "})}),Object(T.jsx)("div",{className:"checkbox mx-1",children:Object(T.jsx)(b.f,{checked:"10"===lt,"aria-label":"Particular",onClick:function(){dt("10")},color:"secondary",disabled:"10"===lt})}),Object(T.jsx)("p",{className:"mx-1",children:"Particular"}),Object(T.jsx)("div",{className:"checkbox mx-1",children:Object(T.jsx)(b.f,{"aria-label":"Empresa",checked:"20"===lt,onClick:function(){dt("20")},color:"secondary",disabled:"20"===lt})}),Object(T.jsx)("p",{className:"mx-1",children:"Empresa"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{className:"btn btn-outline-orange btn-font-sm",onClick:function(){la(sa.mapa)},children:"Direcci\xf3n legal"}),Object(T.jsx)("img",{onClick:function(){return rt(!0)},className:"icono-registro-trasportista",src:"assets/icon/info.png"})]}),Object(T.jsx)(k.b,{titulo_label:"Registro de conducir",titulo_modal:"Registro de conducir",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu registro de conducir al d\xeda.",infoTitulo:"Registro de conducir",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:ia,imageItems:[{preview:n.getPreview("registro_frente")?n.getPreview("registro_frente"):"assets/id.png",titulo:"Registro de conducir (frente)",userDataLabel:"registro_frente"},{preview:n.getPreview("registro_dorso")?n.getPreview("registro_dorso"):"assets/id.png",titulo:"Registro de conducir (dorso)",userDataLabel:"registro_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.registro_frente&&Object(T.jsxs)("div",{className:"text-danger",children:["Registro frente: ",H.registro_frente]}),H.registro_dorso&&Object(T.jsxs)("div",{className:"text-danger",children:["Registro dorso: ",H.registro_dorso]}),Object(T.jsx)("div",{className:"row",children:Object(T.jsx)(y.c,{titulo:"Fecha de vencimiento del registro",tipo:"fecha",campo:"registro_vencimiento",valor:G?G.registro_vencimiento:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.registro_vencimiento,set_dato_registro_store:!0})}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)(y.B,{titulo:"Ciudades de cobertura",titulo_label:"Ciudades de cobertura",listado_elementos:t.ciudades,listado_elementos_seleccionados:G&&G.ciudades?G.ciudades:[],datos_filtrados:function(e){X(e),a.isLoggedIn||n.setDatoRegistroStore("ciudades",e)},multiple:!0,llave_label_opcion:"nombre",class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.ciudades&&Object(T.jsx)("div",{className:"text-danger",children:H.ciudades})]})]})]}),Object(T.jsx)(y.h,{className:"py-4 px-5",children:Object(T.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return la(sa.datosRodado)},children:[M&&Object(T.jsx)(b.z,{name:"crescent"}),!M&&Object(T.jsx)("span",{children:"Continuar"})]})})]}),Object(T.jsx)("div",{className:"paso-registro-transportista-container",style:{position:"relative"},children:te===sa.mapa&&Object(T.jsx)(S.a,{cssButtom:"btn-pricipal-registro-transportista px-5 py-2",ref:Tt,lat:Ht,lng:Gt,onAccept:ma,Movil:xe})}),Object(T.jsxs)("div",{className:"paso-registro-transportista-container",children:[Ge&&Object(T.jsx)("div",{onClick:function(){return la(sa.mapa)},style:{height:120,width:"100%",cursor:"pointer",overflow:"hidden"},children:Ke&&Object(T.jsx)(y.z,{lat:Ht,lng:Gt,zoom:Ht?16:14,center:Mt,bloquear_interaccion:!0,onClick:function(){return Xe(!1)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(T.jsxs)("div",{style:{background:"#FFF"},children:[Object(T.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"}),Object(T.jsxs)("div",{className:"campo-registro-transportista",children:[H.ubicacion&&Object(T.jsx)("div",{className:"text-danger mt-2 mx-3",children:"Seleccione su ubicaci\xf3n"}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"row my-2",children:!Ge&&Object(T.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{height:300,width:"100%"},children:Object(T.jsx)(b.z,{name:"crescent",className:"loadingSpinner"})})})}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:G?G.calle_principal:"",error:H&&H.calle_principal,set_dato:function(e,t){t&&ca(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(A.z)(t,ca,J,G,"calle_principal",e)},opciones_select:function(e){return Object(A.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:G?G.calle_secundaria:"",error:H&&H.calle_secundaria,set_dato:function(e,t){t&&ca(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(A.z)(t,ca,J,G,"calle_secundaria",e)},opciones_select:function(e){return Object(A.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:G?G.numero:"",error:H&&H.numero,set_dato:da,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{deshabilitado:!M,titulo:"Referencias (color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:G?G.referencia:"",error:H&&H.referencia,set_dato:da,columnas:12,set_dato_registro_store:!0})]}),Object(T.jsxs)("div",{className:"campo-registro-transportista select-modal container-fluid",children:[Object(T.jsx)(y.B,{titulo:"Ciudad",placeholder:"Ciudad",titulo_label:"",listado_elementos:t.ciudades,listado_elementos_seleccionados:G.ciudad,datos_filtrados:function(e){ca("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),0!=H.ciudad&&Object(T.jsx)("div",{className:"text-danger",children:H.ciudad})]})]}),Object(T.jsx)(y.h,{className:"py-4 px-5",children:Object(T.jsx)("button",{className:"btn-pricipal-registro-transportista px-5 py-2 mx-2 my-2",onClick:function(){la(sa.datosPersonales),Xe(!1)},children:"Continuar"})})]}),Object(T.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(T.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center",height:100,padding:10},children:Object(T.jsx)("img",{alt:"Driver",src:"assets/icon/driver_gray_soft.png"})}),Object(T.jsxs)("div",{className:"row campo-registro-transportista select-modal",children:[Object(T.jsxs)("div",{className:"col-lg-6 col-12",children:[Object(T.jsx)(y.B,{titulo:"Tipo de Rodado",titulo_label:"",placeholder:"Tipo de Rodado",listado_elementos:t.tiposVehiculos,listado_elementos_seleccionados:G&&G.tipo_vehiculo?G.tipo_vehiculo:[],datos_filtrados:function(e){fe(e),a.isLoggedIn||n.setDatoRegistroStore("tipo_vehiculo",e)},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.tipo_vehiculo&&Object(T.jsx)("div",{className:"text-danger",children:H.tipo_vehiculo})]}),Object(T.jsx)(y.c,{titulo:"Marca",tipo:"texto",campo:"marca",valor:G?G.marca:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.marca,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"Modelo",tipo:"texto",campo:"modelo",valor:G?G.modelo:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.modelo,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"A\xf1o",tipo:"texto",campo:"ano",valor:G?G.ano:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.ano,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"Color",tipo:"texto",campo:"color",valor:G?G.color:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.color,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"Kilometraje",tipo:"numero",campo:"kilometraje",valor:G?G.kilometraje:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.kilometraje,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"Chapa AAAA 123",tipo:"texto",campo:"numero_chapa",valor:G?G.numero_chapa:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.numero_chapa,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"N\xfamero de Chasis",tipo:"texto",campo:"numero_chassis",valor:G?G.numero_chassis:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.numero_chassis,set_dato_registro_store:!0}),Object(T.jsx)(y.c,{titulo:"Fecha de vencimiento de la habilitaci\xf3n",tipo:"fecha",campo:"habilitacion_vencimiento",valor:G?G.habilitacion_vencimiento:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.habilitacion_vencimiento,set_dato_registro_store:!0})]}),Object(T.jsxs)("div",{className:"campo-registro-transportista",children:[Object(T.jsx)(k.b,{titulo_label:"Subir foto de la habilitaci\xf3n",titulo_modal:"Subir foto de la habilitaci\xf3n",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu habilitacion al d\xeda.",infoTitulo:"Foto de habilitaci\xf3n",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:ia,imageItems:[{preview:n.getPreview("habilitacion_frente")?n.getPreview("habilitacion_frente"):"assets/id.png",titulo:"Habilitacion de rodado (frente)",userDataLabel:"habilitacion_frente"},{preview:n.getPreview("habilitacion_dorso")?n.getPreview("habilitacion_dorso"):"assets/id.png",titulo:"Habilitacion de rodado (dorso)",userDataLabel:"habilitacion_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.habilitacion_frente&&Object(T.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n frente: ",H.habilitacion_frente]}),H.habilitacion_dorso&&Object(T.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n dorso: ",H.habilitacion_dorso]})]}),Object(T.jsxs)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"#000",fontWeight:"bolder"},children:["Al finalizar, acepto las"," ",Object(T.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(T.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(T.jsx)("strong",{children:"Condiciones de Uso"})})})," ","y"," ",Object(T.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(T.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(T.jsx)("strong",{children:"T\xe9rminos de privacidad."})})})]}),Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"var(--gris-oscuro-abi)"},children:"Al finalizar, declaro la autenticidad de los datos proporcionados."})})]}),Object(T.jsx)(y.h,{className:"py-4 px-5",children:Object(T.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){if(se)if(Pt){B(!0),W({});var e="";Ht&&Gt&&(e=Ht+","+Gt);var c=G.calle_principal,r=G.calle_secundaria,s=Object(i.a)(Object(i.a)({},G),{},{ciudades:K,ubicacion:e,nro_telefono:Object(A.p)(G.nro_telefono),calle_principal:c?c.value:"",calle_secundaria:r?r.value:"",tipo_vehiculo:me?me[0]:0,tipo:lt});"object"===typeof s.ciudad&&(s.ciudad=s.ciudad.id),t.environment.api.transportistaRegistro(s).then((function(e){if(B(!1),"ok"===e.kind)Object(h.u)((function(){a.setUser(e.user),a.setApiToken(e.user.token),a.setModoUsoApp(e.user.modo_uso_app),n.reset()})),ue(!0),he("Registro realizado exitosamente");else if("bad-data"===e.kind){W(e.errors);var t=Object.keys(e.errors)[0];null!==t&&he(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning"),["first_name","last_name","email","nro_telefono","ciudades","contrasena","repetir_contrasena","nro_documento","fecha_nacimiento","imagen_perfil"].includes(t)||["registro_frente","registro_dorso","antecedentesj","antecedentesp","fecha_emision_antecedentes_judiciales","fecha_emision_antecedentes_policiales","registro_vencimiento"].includes(t)||["ruc","razon_social","constancia_ruc"].includes(t)?la(sa.datosPersonales):["tipo_vehiculo","marca","modelo","ano","color","kilometraje","numero_chapa","numero_chassis","habilitacion_vencimiento","habilitacion_frente","habilitacion_dorso"].includes(t)?la(sa.datosRodado):["nombre_direccion","calle_principal","calle_secundaria","numero","referencia","ubicacion","ciudad"].includes(t)?la(sa.direccionCampos):la(sa.datosPersonales)}else he("Ocurri\xf3 un error al conectar al servidor, vuelva a intentar en unos momentos","error")}))}else if(Pe(!0),G.nro_telefono&&12===G.nro_telefono.length){var l="web"===o.Capacitor.getPlatform()?ba:ja;la(1),l(),he("Verifique su n\xfamero para continuar","warning")}else la(1),he("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning");else Ae(!0)},children:[M&&Object(T.jsx)(b.z,{name:"crescent"}),!M&&Object(T.jsx)("span",{children:"Finalizar"})]})})]})]})]}),Object(T.jsx)(b.q,{isOpen:de,swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-transparent-full",children:Object(T.jsxs)(v.a.Dialog,{centered:!0,children:[Object(T.jsx)(v.a.Header,{children:Object(T.jsx)(v.a.Title,{style:{color:"#ff6f33"},children:"Registro finalizado"})}),Object(T.jsxs)(v.a.Body,{children:[Object(T.jsx)("div",{className:"text-center",children:Object(T.jsx)(N.a,{color:"#1DBF73",size:52,style:{marginBottom:10}})}),Object(T.jsx)("p",{children:"Gracias por registrarte en ABi! Actualmente nuestro equipo se encuentra verificando los datos ingresados y se pondr\xe1 en contacto contigo para realizar la verificaci\xf3n de la cuenta."})]}),Object(T.jsx)(v.a.Footer,{children:Object(T.jsxs)("button",{className:"btn btn-outline-orange my-2",onClick:function(){ue(!1),"web"===o.Capacitor.getPlatform()?document.location.href=D.p.INICIO:document.location.href=D.m.ROOT},children:[M&&Object(T.jsx)(b.z,{name:"crescent"}),!M&&Object(T.jsx)("span",{children:"Continuar"})]})})]})}),Object(T.jsx)(C.a,{ref:Tt,lat:Ht,lng:Gt,onAccept:ma,color:"var(--naranja-transportista)"}),Dt&&Object(T.jsx)(y.s,{visible:!0,animate:wt,callback:function(e){if(console.log("modalCodigoFirebaseCallback",e),"-1"===e)return zt(!0),Nt(null),ft.current=!1,void At(ft.current);if(!e)return Nt(null),ft.current=!1,void At(ft.current);if(!mt.current)return Nt(null),ft.current=!1,At(ft.current),void he("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(xt(!0),ft.current=!1,At(ft.current),"web"===o.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(mt.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){xt(!1),zt(!0),Nt(null),he("N\xfamero verificado exitosamente")})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(he("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,At(ft.current)):Nt(e.message),xt(!1),zt(!1)})):(xt(!1),zt(!1),he("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else u.a.signInWithVerificationId(mt.current,e).then((function(e){xt(!1),zt(!0),Nt(null),he("N\xfamero verificado exitosamente"),At(ft.current)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(he("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,At(ft.current)):Nt(e),zt(!1),xt(!1)}))},close:function(){ft.current=!1,At(ft.current)},color:"var(--naranja-transportista)",class_boton_aceptar:"btn-principal-transportista px-5 py-2"})]})}));t.a=M},495:function(e,t,a){"use strict";var n=a(24),c=(a(554),a(40)),i=a(161),r=a(3),s=a(1543),o=a(57),l=a(8),d=a(101),u=a(86),j=a(9),b=Object(i.a)((function(e){var t=Object(u.b)(),a=t.loginStore,i=Object(o.e)(),b=Object(r.useState)(!1),m=Object(n.a)(b,2),f=m[0],h=m[1],O=Object(r.useState)(""),p=Object(n.a)(O,2),x=p[0],g=p[1],v=Object(r.useState)(""),_=Object(n.a)(v,2),N=_[0],y=_[1],C=Object(r.useState)(""),w=Object(n.a)(C,2),k=w[0],S=w[1];return Object(j.jsxs)(c.q,{isOpen:!0,id:"modal-selector-modo",swipeToClose:!1,backdropDismiss:!1,children:[Object(j.jsx)(c.a,{isOpen:f,onDidDismiss:function(){return h(!1)},header:""!==x?x:"Cerrar sesi\xf3n",message:""!==N?N:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===k?Object(d.h)(t,i,10):"cambiar-transportista"===k?Object(d.h)(t,i,30):"cambiar-fabricante"===k?Object(d.h)(t,i,20):i.replace(l.m.LOGOUT)}}]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("smodo"),e.delete("i"),i.push(window.location.pathname+"?"+e.toString())},children:Object(j.jsx)(s.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(j.jsxs)("div",{className:"titulo-container",children:[Object(j.jsx)("div",{className:"titulo",children:"MODO DE USUARIO"}),Object(j.jsx)("div",{className:"subtitulo",children:"\xbfC\xf3mo quer\xe9s ver ABi?"})]}),Object(j.jsxs)("div",{className:"row modos",children:[Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){h(!0),g("Cambiar a modo compras"),y("Confirma que desea cambiar a modo compras?"),S("cambiar-usuario")},children:Object(j.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){a.isLoggedIn&&a.fabricante?(h(!0),g("Cambiar a modo proveedor"),y("Confirma que desea cambiar a modo proveedor?"),S("cambiar-fabricante")):i.push(l.o.HOME)},children:Object(j.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.transportista)h(!0),g("Cambiar a modo driver"),y("Confirma que desea cambiar a modo driver?"),S("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),i.push(window.location.pathname+"?"+e.toString())}},children:Object(j.jsx)("img",{alt:"Modo driver",src:"assets/registro-driver.jpg"})})]})]})]})}));t.a=b},496:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));a(33);var n=a(24),c=(a(538),a(30)),i=a(40),r=a(531),s=a.n(r),o=a(524),l=a.n(o),d=a(161),u=a(3),j=a.n(u),b=a(1525),m=a(1526),f=a(1021),h=a(1513),O=a(1524),p=a(57),x=a(58),g=a(8),v=a(101),_=a(86),N=(a(539),a(1514)),y=a(571),C=a(505),w=a(197),k=a(9),S=Object(d.a)((function(e){var t=Object(p.e)(),a=Object(_.b)(),c=Object(v.J)(),r=a.loginStore,s=Object(u.useState)(!1),o=Object(n.a)(s,2),l=o[0],d=o[1],j=Object(u.useState)(!1),b=Object(n.a)(j,2),m=b[0],f=b[1],O=Object(u.useState)(!1),x=Object(n.a)(O,2),S=x[0],D=x[1],A=Object(u.useState)(!1),R=Object(n.a)(A,2),E=R[0],P=R[1],z=e.isOpen,T=e.setShowModal;return Object(k.jsxs)(i.q,{isOpen:z,cssClass:"modal-side-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return T(!1)},children:[Object(k.jsx)(i.a,{isOpen:E,onDidDismiss:function(){return P(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return T(!1),void t.push(g.m.LOGOUT)}}]}),Object(k.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(k.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(k.jsxs)("div",{style:{display:"flex",width:"100%",background:"var(--naranja-abi)",paddingTop:20,height:128},children:[Object(k.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[Object(k.jsx)("a",{children:Object(k.jsx)("div",{className:"centrado-flex",style:{height:60,width:60,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},onClick:r.isLoggedIn?e.verPerfil:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())},children:Object(k.jsx)("img",{src:r.imagen_perfil?r.imagen_perfil:"assets/icon/person-line.png",className:"imagen-perfil "+(r.imagen_perfil?"imagen-perfil-side-menu":"contorno-person-side-menu")})})}),!r.isLoggedIn&&Object(k.jsx)("a",{style:{fontWeight:"bolder",marginLeft:10},onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),T(!1),t.push(window.location.pathname+"?"+e.toString())},children:"Iniciar sesi\xf3n"}),r.isLoggedIn&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"d-flex flex-column",style:{marginLeft:10},onClick:function(){t.push(g.m.CLIENTE),T(!1)},children:[Object(k.jsxs)("strong",{style:{lineHeight:1},children:["\xa1Hola,"," ",Object(k.jsxs)("span",{children:[r.first_name," ",r.last_name]}),"!"]}),Object(k.jsxs)("span",{style:{fontSize:12},children:["Id#",r.id]})]})})]}),Object(k.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(k.jsxs)("div",{style:{color:"var(--gris-oscuro-abi)",width:"99%"},children:[Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsx)("a",{onClick:function(){t.push(g.m.ROOT),T(!1)},style:{fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(k.jsx)("div",{style:{marginLeft:10,marginTop:"1rem"},children:Object(k.jsxs)("a",{onClick:function(){D(!S)},children:[Object(k.jsx)("span",{style:{fontWeight:S?"bold":"bolder"},children:"Categor\xedas"}),S?Object(k.jsx)(h.a,{}):Object(k.jsx)(N.a,{})]})}),S&&Object(k.jsx)(I,{setShowModal:T}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsxs)("a",{onClick:function(){f(!m)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:m?"bold":"bolder"},children:"Mis Compras"}),m?Object(k.jsx)(h.a,{}):Object(k.jsx)(N.a,{}),m&&Object(k.jsxs)("div",{className:"drop-side-menu",children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{onClick:function(){return t.push(g.m.PEDIDOS)},children:[Object(k.jsx)("img",{src:"assets/icon/historial.png",height:20,width:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Mis pedidos"})]})}),Object(k.jsxs)("a",{onClick:function(){if(r.isLoggedIn)t.push(g.m.FAVORITOS);else{c("Inicie sesi\xf3n para ver sus pedidos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)(y.c,{size:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){t.push("/carrito")},children:[Object(k.jsx)(y.f,{size:20,style:{fontWeight:"lighter"}}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Carrito"})]})]})]})}),Object(k.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(k.jsxs)("a",{onClick:function(){d(!l)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:l?"bold":"bolder"},children:"Ayuda"}),l?Object(k.jsx)(h.a,{}):Object(k.jsx)(N.a,{})]}),l&&Object(k.jsxs)("div",{className:"drop-side-menu",style:{height:250},children:[Object(k.jsxs)("a",{href:g.m.PREGUNTAS_FRECUENTES,style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Preguntas frecuentes",height:20,style:{marginRight:5},src:"assets/icon/info.png"}),Object(k.jsx)("span",{children:"Preguntas frecuentes"})]}),Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"Comentarios y Sugerencias",height:20,style:{marginRight:5},src:"assets/icon/comentarios.png"}),Object(k.jsx)("span",{children:"Comentarios y Sugerencias"})]}),Object(k.jsxs)("a",{onClick:function(){t.push(g.m.ROOT)},children:[Object(k.jsx)("img",{alt:"Pol\xedticas de privacidad",height:20,src:"assets/icon/documento.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Pol\xedticas de privacidad"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)(C.a,{size:20,style:{marginRight:5}}),Object(k.jsx)("span",{children:"Reportar un error"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Atenci\xf3n al cliente",height:20,src:"assets/icon/atencion-cliente.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Atenci\xf3n al cliente"})]})]}),Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},children:Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"T\xe9rminos y Condiciones",height:20,src:"assets/icon/documento.png"}),Object(k.jsx)("span",{children:"T\xe9rminos y Condiciones"})]})}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},onClick:function(){return P(!0)},children:Object(k.jsx)("span",{children:"Cerrar sesi\xf3n"})}),Object(k.jsxs)("div",{id:"release-container",children:["v",w.RELEASE.split("@")[1]]})]})]})]})})]})})),I=Object(d.a)((function(e){var t=Object(p.e)(),a=Object(_.b)().arbol,n=e.setShowModal,c=function e(a){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(a.id,a.nombre)),n(!1)},className:"ml-3",children:[a.icono&&Object(k.jsx)("img",{alt:a.nombre,src:a.icono,height:20,style:{marginRight:10}}),a.nombre]},a.id),!!a.hijos&&a.hijos.length>0&&a.hijos.map((function(t){return e(t)}))]})};return Object(k.jsx)("div",{className:"drop-side-menu",style:{height:300},children:a.map((function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,e.nombre)),n(!1)},className:"ml-1",children:[e.icono&&Object(k.jsx)("img",{alt:e.nombre,src:e.icono,height:20,style:{marginRight:10}}),e.nombre]},e.id),!!e.hijos&&e.hijos.length>0&&e.hijos.map((function(e){return c(e)}))]})}))})})),D=a(483),A=a(477),R=Object(d.a)((function(e){var t=Object(_.b)(),a=t.loginStore,r=t.carritoStore,o=t.favoritoStore,d=Object(u.useState)(!1),N=Object(n.a)(d,2),y=N[0],C=N[1],w=Object(u.useState)(!1),I=Object(n.a)(w,2),R=I[0],E=I[1],P=Object(u.useState)(!1),z=Object(n.a)(P,2),T=z[0],L=z[1],F=Object(p.e)(),M=/Mobi/.test(navigator.userAgent),B=Object(u.useState)(),U=Object(n.a)(B,2),q=U[0],H=U[1],W=Object(v.J)(),Y=Object(v.B)(),V=Object(u.useState)({}),G=Object(n.a)(V,2),J=(G[0],G[1],Object(u.useState)(!1)),Z=Object(n.a)(J,2),Q=Z[0],K=Z[1],X=Object(u.useState)(""),$=Object(n.a)(X,2),ee=$[0],te=$[1];Object(u.useEffect)((function(){H(ae())}),[q]);var ae=function(){var e=a.direcciones.find((function(e){return e.default}));return void 0===e?a.direcciones[0]:e},ne=function(e){F.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,Object(v.m)(e.nombre)))};j.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&te(e.get("s")||"")}),[]);var ce=function(){C(!1),a.administrador?F.push(g.m.ADMIN):20===a.modo_uso_app?F.push(g.o.PERFIL):10===a.modo_uso_app?F.push(g.m.CLIENTE):F.push(g.p.INICIO)},ie=function(e){13===e.keyCode&&re(e.target.value.trim())},re=function(e){F.push("".concat(g.m.BUSCAR).concat(e?"?s="+encodeURIComponent(e):""))};return Object(k.jsxs)("div",{style:{height:M?136:"auto"},children:[Object(k.jsx)(D.a,{visible:R,setDireccionPredeterminada:function(e){H(e)},onDismiss:function(e){return E(e)}}),Object(k.jsxs)(i.q,{isOpen:Q,cssClass:"modal-contacto",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return K(!1)},children:[Object(k.jsx)(i.j,{children:Object(k.jsxs)(i.C,{children:[Object(k.jsx)(i.A,{slot:"start",children:"Contacto"}),Object(k.jsx)(i.e,{slot:"end",onClick:function(){return K(!1)},children:Object(k.jsx)(b.a,{color:"#000",className:"mr-2"})})]})}),Object(k.jsx)("div",{className:"h-100 mt-4",children:Object(k.jsxs)("div",{className:"d-flex flex-column align-items-left justify-content-center h-75 mx-4 mt-2",children:[Object(k.jsxs)("a",{className:"mb-4 d-flex align-items-center justify-content-start btn btn-primary",href:"tel:+595981840840",children:[Object(k.jsx)(m.a,{size:18,className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Llamar"})]}),Object(k.jsxs)("a",{className:"mb-3 d-flex align-items-center justify-content-start btn btn-primary",target:"_blank",href:"https://wa.me/595981840840",children:[Object(k.jsx)(l.a,{style:{fontSize:20},className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Contactar por whatsapp"})]})]})})]}),Object(k.jsx)(i.a,{isOpen:T,onDidDismiss:function(){return L(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){C(!1),"web"!==c.Capacitor.getPlatform()?(C(!1),F.push(g.m.LOGOUT)):(C(!1),W("Sesi\xf3n finalizada","info"),Y(),document.location.href="/")}}]}),!M&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header",style:{position:"fixed",zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(k.jsx)("div",{className:"background-color-naranja-abi",style:{display:"flex",justifyContent:"center"},children:Object(k.jsxs)("div",{className:"container-lg top-cliente",children:[Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.transportista)Object(v.h)(t,F,30);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),F.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)("span",{className:"icn-driver",children:A.a.driver}),Object(k.jsx)("span",{className:"texto-header",style:{marginLeft:"1px!important"},children:"Driver"})]}),Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.fabricante)Object(v.h)(t,F,20);else if(M){var e=new URLSearchParams(window.location.search);e.set("registrop","1"),F.push(window.location.pathname+"?"+e.toString())}else F.push(g.o.HOME)},children:[Object(k.jsx)("span",{className:"icn-proveedor",children:A.a.proveedor}),Object(k.jsx)("span",{className:"texto-header",children:"Proveedor"})]})]}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:Object(x.m)(g.m.PEDIDOS,F),children:[Object(k.jsx)("span",{className:"icn-mis-pedidos",children:A.a.mis_pedidos}),Object(k.jsx)("span",{className:"texto-header",children:"Mis Pedidos"})]})}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn)F.push(g.m.FAVORITOS);else{W("Inicie sesi\xf3n para ver sus favoritos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),F.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:A.a.favorito}),Object(k.jsx)("span",{className:o.cantidadFavoritos<10?"cantidad-favoritos-min-top background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top background-color-naranja-abi fuente-azul-abi",children:o.cantidadFavoritos?o.cantidadFavoritos:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){F.push("/carrito")},children:[Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:A.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top background-color-naranja-abi ":"cantidad-items-carrito-max-top background-color-naranja-abi ",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Carrito"})]}),a.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:ce,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(k.jsxs)("div",{className:"nombre-usuario-header",children:[a.first_name," ",a.last_name]}),Object(k.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",a.id]})]}),Object(k.jsx)("a",{className:"centrado-flex",onClick:ce,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil?a.imagen_perfil:"assets/icon/person-line.png",width:a.imagen_perfil?50:30,height:a.imagen_perfil?50:30,style:a.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!a.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),F.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(k.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("sregistro","1"),F.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(k.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(k.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(k.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(k.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(k.jsx)("a",{title:"Ir al inicio",href:g.m.ROOT,onClick:function(e){e.preventDefault(),F.push(g.m.ROOT)},children:Object(k.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(k.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(k.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,onChange:function(e){te(e.target.value)},onKeyDown:ie}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20})})})]})}),Object(k.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:!!a.isLoggedIn&&!!(null===q||void 0===q?void 0:q.nombre)&&Object(k.jsx)("a",{children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:20},onClick:function(){E(!0)},children:[Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bold",height:25},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:g.d[q.icono]?g.d[q.icono]:"assets/icon/ubicacion-gray.png",style:{width:30,height:30,marginRight:3}}),Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bolder",height:22},children:null===q||void 0===q?void 0:q.nombre})]})]})})})]})}),Object(k.jsx)("div",{style:{backgroundColor:"#e0dbe2"},children:Object(k.jsx)("div",{className:"top container-lg mid-header-container",children:Object(k.jsx)("div",{className:"categorias-header",children:Object(k.jsx)("ul",{id:"mainmenu",className:"menu",children:Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{className:"toggle-principal-categoria-header",onClick:function(){return F.push(g.m.CATEGORIAS)},children:["Categor\xedas ",Object(k.jsx)(h.a,{size:16})]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.arbol.map((function e(t){return t.hijos.length?Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{onClick:function(){return ne(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.hijos.map(e)})})]}):Object(k.jsx)("li",{className:"dropdown",children:Object(k.jsxs)("a",{onClick:function(){return ne(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]})})}))})})]})})})})})]}),Object(k.jsx)("div",{style:{height:206}})]}),M&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header w-100",style:{position:"fixed",zIndex:999},children:[Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsx)("div",{onClick:function(){return C(!0)},className:"centrado-flex",children:Object(k.jsx)(s.a,{style:{fontSize:30}})}),a.isLoggedIn&&!!(null===q||void 0===q?void 0:q.nombre)&&Object(k.jsxs)("div",{className:"bloque-direccion",style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:10},onClick:function(){E(!0)},children:[Object(k.jsx)("span",{style:{fontWeight:"bold",height:25,color:"#fff"},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:"assets/icon/ubicacion-gray.png",className:"filter-invert-imagen",style:{width:M?20:30,height:M?20:30,marginRight:3}}),Object(k.jsx)("span",{className:"texto-direccion",style:{fontWeight:"bolder",height:22,color:"#fff"},children:q.nombre})]})]})]}),Object(k.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(k.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return F.push(g.m.ROOT)},children:A.a.abi})}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){return F.push(g.m.FAVORITOS)},children:[Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:" "}),Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:A.a.favorito}),Object(k.jsx)("span",{className:o.cantidadFavoritos<10?"cantidad-favoritos-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top-movil background-color-naranja-abi fuente-azul-abi",children:o.cantidadFavoritos?o.cantidadFavoritos:null})]})]}),Object(k.jsx)("a",{className:"boton-header-cliente",onClick:function(){F.push("/carrito")},children:Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:A.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-items-carrito-max-top-movil background-color-naranja-abi fuente-azul-abi",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]})})]})]}),Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsx)("div",{onClick:function(){return F.goBack()},children:Object(k.jsx)(O.a,{})}),Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,style:{},onChange:function(e){te(e.target.value)},onClick:function(){te("")},onKeyDown:ie}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(k.jsx)(S,{isOpen:y,setShowModal:function(e){C(e)},verPerfil:ce})]}),Object(k.jsx)("div",{className:"btn-whatsapp",children:Object(k.jsx)("a",{href:"https://wa.me/595981840840/?text=",target:"_blank",children:Object(k.jsx)("img",{src:"assets/btn_whatsapp.png",alt:""})})})]})}));t.b=R},498:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(551),a(3);var n=a(1514),c=a(57),i=a(8),r=a(477),s=a(9),o=function(e){var t=Object(c.e)(),a=e.links?e.links:[],o=!!e.Movil&&e.Movil,l=function(e){return e<a.length-1?Object(s.jsx)(n.a,{size:o?20:15}):null},d=Object(s.jsx)("a",{className:"link-sub-header",children:Object(s.jsxs)("div",{className:"",onClick:function(){return t.push(i.m.ROOT)},children:[r.a.abi,Object(s.jsx)(n.a,{size:o?20:15})]})});return Object(s.jsx)("div",{className:"margen-subheader sub-header-container",children:Object(s.jsxs)("div",{className:"d-flex align-items-center ".concat(o||e.noContainer?"px-3":"container-lg"),children:[d,!!e.links&&e.links.map((function(e,n){return Object(s.jsxs)("a",{onClick:function(){e.ruta&&t.push(e.ruta),e.callback&&e.callback()},style:n===a.length-1?{display:"flex",alignItems:"center",fontWeight:"bold",color:"var(--gris-oscuro-abi)"}:{display:"flex",alignItems:"center",fontWeight:"bolder",color:"var(--gris-oscuro-abi)"},children:[Object(s.jsx)("div",{className:"link-sub-header text-subheader-cliente ",children:e.titulo}),l(n)]},n)}))]})})}},501:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(3);var n=a(161),c=a(40),i=a(9),r=Object(n.a)((function(e){var t=e.visible,a=e.max_height||"100vh";return t&&Object(i.jsx)("div",{className:"LoaderAdmin-wrapper",style:{display:"flex",height:a,overflowY:"scroll"},children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsx)("div",{className:"d-flex justify-content-center loader",children:Object(i.jsx)(c.z,{name:"crescent",className:"loadingSpinner"})})})})}));t.b=r},502:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(40),c=a(161),i=(a(3),a(1525)),r=a(57),s=(a(513),a(512)),o=a(9),l=(a(144).WSS_BASE_URL,Object(c.a)((function(e){var t=Object(r.e)(),a=Object(r.f)().search;return Object(o.jsx)(n.q,{isOpen:e.visible,id:"modal-chat",onDidDismiss:function(){e.setVisible(!1);var n=new URLSearchParams(a);n.delete("chat"),n.delete("pedido"),t.push(window.location.pathname+"?"+n)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-chat",children:Object(o.jsx)(s.a,{botonExtra:Object(o.jsx)("a",{onClick:function(){return e.setVisible(!1)},className:"ml-2",children:Object(o.jsx)(i.a,{color:"white",size:30})}),pedido:e.pedido,containerStyle:{flex:1}})})})));t.b=l},504:function(e,t,a){"use strict";var n=a(24),c=a(3),i=a.n(c),r=a(40),s=(a(485),a(506),a(507),a(508),a(478)),o=a(9),l=i.a.forwardRef((function(e,t){var a=Object(c.useState)(!1),i=Object(n.a)(a,2),l=i[0],d=i[1],u=Object(c.useState)(!1),j=Object(n.a)(u,2),b=j[0],m=j[1],f=Object(c.useState)(e.lat),h=Object(n.a)(f,2),O=h[0],p=h[1],x=Object(c.useState)(e.lng),g=Object(n.a)(x,2),v=g[0],_=g[1],N=Object(c.useState)(14),y=Object(n.a)(N,2),C=y[0],w=y[1],k=Object(c.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),S=Object(n.a)(k,2),I=S[0],D=S[1],A=Object(c.useState)(e.onAccept?[e.onAccept]:null),R=Object(n.a)(A,2),E=R[0],P=R[1],z=Object(c.useState)(e.userdata?[e.userdata]:null),T=Object(n.a)(z,2),L=T[0],F=T[1],M=Object(c.useState)(e.onCancel?[e.onCancel]:null),B=Object(n.a)(M,2),U=B[0],q=B[1],H=e.color||"#303AB2";Object(c.useImperativeHandle)(t,(function(){return{open:function(t,a,n){t&&P([t]),a&&q([a]),n&&F([n]),e.lat&&e.lng&&w(16),p(e.lat),_(e.lng),d(!0)},close:function(){W()}}}));var W=function(){m(!1),d(!1),U&&U[0](L?L[0]:null)};return Object(o.jsxs)(r.q,{isOpen:l,onDidDismiss:W,onDidPresent:function(){setTimeout((function(){m(!0)}),0)},children:[Object(o.jsx)(r.g,{children:b&&Object(o.jsx)(s.a,{lat:O,lng:v,zoom:C,center:I,ubicacion:function(e,t){p(e),_(t),D({lat:e,lng:t})},full_screen:!0,color:H})}),Object(o.jsx)(r.i,{children:Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:W,children:"Cancelar"}),Object(o.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0,backgroundColor:H,borderColor:H},onClick:function(){d(!1),m(!1),E&&O&&v&&E[0](O,v,L?L[0]:null)},children:"Confirmar"})]})})]})}));t.a=l},509:function(e,t,a){"use strict";a.d(t,"a",(function(){return se}));var n=a(24),c=a(30),i=a(40),r=a(3),s=a.n(r),o=a(57),l=a(475),d=a(197),u=a(8),j=a(101),b=a(86),m=a(486),f=a(487),h=a(488),O=a(489),p=a(490),x=a(491),g=a(496),v=a(492),_=a(26),N=a(0),y=a.n(N),C=a(2),w=a(33),k=(a(550),a(479)),S=a(123),I=a(500),D=a(503),A=a(227),R=a(225),E=(a(286),a(18)),P=a(161),z=a(1524),T=a(1543),L=a(480),F=a.n(L),M=a(536),B=a.n(M),U=a(493),q=a(477),H=a(498),W=a(9),Y=a(198),V={nombre_empresa:"",razon_social:"",resena_empresa:"",ruc:"",nro_telefono_empresa:"",imagen_perfil:"",rubros:[],tipo_proveedor:0,nombre:"",apellido:"",fecha_nacimiento:"",email:"",contrasena:"",repetir_contrasena:"",nombre_punto_retiro:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,dias_apertura:[],hora_apertura:"",hora_cierre:""},G={imagen_perfil:""},J=0,Z=1,Q=2,K=3,X=4,$=5,ee=Object(P.a)((function(e){var t=e.movil,a=e.HeightDiv,c=e.loading,i=e.datos,s=e.setDato,o=e.setDatos,d=(e.guardar,e.errors),u=Object(b.b)(),m=u.loginStore,f=u.registroStore,h=Object(r.useState)(!e.noMostrarMapa),O=Object(n.a)(h,2),p=O[0],x=O[1],g=Object(j.J)(),v=Object(r.useRef)(),_=Object(r.useState)({lng:-57.63591,lat:-25.30066}),N=Object(n.a)(_,2),k=N[0],I=N[1],D=Object(r.useState)(null),A=Object(n.a)(D,2),R=A[0],E=A[1],P=Object(r.useState)(null),z=Object(n.a)(P,2),T=z[0],L=z[1],F=Object(r.useState)(null),M=Object(n.a)(F,2),B=M[0],q=M[1],H=Object(r.useState)(!1),Y=Object(n.a)(H,2),V=Y[0],G=Y[1];Object(r.useEffect)((function(){setTimeout((function(){return G(!0)}),700)}),[]),Object(r.useEffect)((function(){R&&T&&u.environment.api.infoCalle(R,T).then((function(e){if("ok"===e.kind&&e.response.info){var t=e.response.info,a=Object(w.a)({},i);t.calle&&(a.calle_principal={value:t.calle,label:t.calle}),t.ciudad_obj&&(a.ciudad=u.ciudades.find((function(e){return e.id===t.ciudad_obj.id}))),t.secondary&&(a.calle_secundaria={value:t.secondary,label:t.secondary}),m.isLoggedIn||(f.setDatoRegistroStore("calle_principal",a.calle_principal),f.setDatoRegistroStore("calle_secundaria",a.calle_secundaria),a.ciudad&&f.setDatoRegistroStore("ciudad",a.ciudad.id)),o(a)}})).catch()}),[R,T]),Object(r.useEffect)((function(){u.hasLocationPermission&&(V?J().catch((function(e){console.log(e),String(e).includes("location disabled")&&g("La ubicaci\xf3n est\xe1 desactivada.")})):setTimeout((function(){J().catch((function(e){console.log(e)}))}),700))}),[u.hasLocationPermission]);var J=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,q([t.coords.latitude,t.coords.longitude]),E(t.coords.latitude),L(t.coords.longitude),I({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"paso-registro-container paso-direccion",style:Object.assign({},{height:a}),children:[p&&Object(W.jsx)(U.a,{cssButtom:"btn btn-primary px-5 py-1 my-3",ref:v,lat:R,lng:T,onAccept:function(e,t){E(e),L(t),I({lat:e,lng:t}),m.isLoggedIn||f.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),s("ubicacion",e+", "+t),x(!1)},Movil:!0}),!p&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"px-md-2",style:{overflowX:"hidden"},children:t&&V&&Object(W.jsx)(l.z,{lat:R,lng:T,zoom:R?16:14,center:k,bloquear_interaccion:!0,onClick:function(){return x(!0)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(W.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n."}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"px-5 container-sm",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Nombre de la tienda",tipo:"texto",campo:"nombre_punto_retiro",valor:i?i.nombre_punto_retiro:"",error:d&&d.nombre_punto_retiro,set_dato:s,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:i?i.calle_principal:"",error:d&&d.calle_principal,set_dato:function(e,t){t&&s(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(j.z)(u,s,o,i,"calle_principal",e)},opciones_select:function(e){return Object(j.g)(u,B,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:i?i.calle_secundaria:"",error:d&&d.calle_secundaria,set_dato:function(e,t){t&&s(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(j.z)(u,s,o,i,"calle_secundaria",e)},opciones_select:function(e){return Object(j.g)(u,B,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"N\xfamero de local",tipo:"texto",campo:"numero",valor:i?i.numero:"",error:d&&d.numero,set_dato:s,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsxs)("div",{className:"col-12 col-md-6 input-ciudad",style:{position:"relative"},children:[Object(W.jsx)(l.B,{titulo:"Ciudad",titulo_label:"",listado_elementos:u.ciudades,listado_elementos_seleccionados:i.ciudad,datos_filtrados:function(e){s("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0}),!i.ciudad&&Object(W.jsx)("span",{style:{position:"absolute",left:"25px",top:"10px"},children:"Ciudad"}),!!d.ciudad&&Object(W.jsx)("div",{className:"text-danger",children:d.ciudad})]}),Object(W.jsx)(l.c,{deshabilitado:!c,titulo:"Referencias (Color del port\xf3n, Numeraci\xf3n visible, Despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:i?i.referencia:"",error:d&&d.referencia,set_dato:s,columnas:12,set_dato_registro_store:!0})]})}),Object(W.jsx)(l.h,{className:"py-5 mt-1",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:e.callback,children:"Continuar"})})]})]})]})})),te=Object(P.a)((function(e){var t=Object(b.b)(),a=t.loginStore,s=t.registroStore,d=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),m=Object(r.useState)(!1),f=Object(n.a)(m,2),h=f[0],O=f[1],p=Object(r.useState)({}),x=Object(n.a)(p,2),g=x[0],v=x[1],N=Object(r.useState)(V),S=Object(n.a)(N,2),P=S[0],L=S[1],M=Object(r.useState)(!1),U=Object(n.a)(M,2),te=U[0],ae=U[1],ne=d?J:Z,ce=Object(r.useState)(ne),ie=Object(n.a)(ce,2),re=ie[0],se=ie[1],oe=Object(r.useRef)(ne),le=Object(o.e)(),de=Object(j.J)(),ue=Object(r.useState)(!1),je=Object(n.a)(ue,2),be=je[0],me=je[1],fe=Object(r.useState)(!1),he=Object(n.a)(fe,2),Oe=he[0],pe=he[1],xe=Object(r.useState)(!1),ge=Object(n.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(j.J)(),ye=Object(r.useRef)(null),Ce=Object(r.useState)([]),we=Object(n.a)(Ce,2),ke=we[0],Se=we[1],Ie=Object(r.useState)(!0),De=Object(n.a)(Ie,2),Ae=De[0],Re=De[1],Ee=Object(r.useState)(0),Pe=Object(n.a)(Ee,2),ze=Pe[0],Te=Pe[1],Le=Object(r.useState)(0),Fe=Object(n.a)(Le,2),Me=Fe[0],Be=Fe[1],Ue=Object(r.useState)(""),qe=Object(n.a)(Ue,2),He=qe[0],We=qe[1],Ye=Object(j.C)((function(){return le.replace(u.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario"),Ve=Object(n.a)(Ye,2),Ge=(Ve[0],Ve[1],Object(r.useState)("")),Je=Object(n.a)(Ge,2),Ze=Je[0],Qe=(Je[1],Object(r.useState)("")),Ke=Object(n.a)(Qe,2),Xe=Ke[0],$e=Ke[1],et=Object(r.useState)(G),tt=Object(n.a)(et,2),at=tt[0],nt=tt[1],ct=Object(r.useRef)(""),it=Object(r.useRef)(!1),rt=Object(r.useState)(!1),st=Object(n.a)(rt,2),ot=st[0],lt=st[1],dt=Object(r.useState)(!1),ut=Object(n.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(r.useState)(!1),ft=Object(n.a)(mt,2),ht=ft[0],Ot=ft[1],pt=Object(r.useState)(""),xt=Object(n.a)(pt,2),gt=xt[0],vt=xt[1],_t=Object(r.useState)(0),Nt=Object(n.a)(_t,2),yt=Nt[0],Ct=Nt[1];Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||ne+"");se(t)}),[t.locationSearch]),Object(r.useEffect)((function(){Te(d?window.innerWidth<=500?window.innerHeight-150:800:"100%")}),[d]),Object(r.useEffect)((function(){re===$&&Ct(25)}),[re]),Object(r.useEffect)((function(){if(yt>0){var e=setTimeout((function(){return Ct(yt-1)}),1e3);return function(){return clearTimeout(e)}}}),[yt]);var wt=Object(r.useState)(0),kt=Object(n.a)(wt,2),St=kt[0],It=kt[1],Dt=Object(r.useRef)(0),At=Object(r.useRef)(null);Object(r.useEffect)((function(){jt&&(At.current=setInterval((function(){It(Dt.current+1),Dt.current=Dt.current+1,Dt.current>6&&clearInterval(At.current)}),100))}),[jt]);Object(r.useEffect)((function(){!function(){if("web"!==c.Capacitor.getPlatform()&&("android"===c.Capacitor.getPlatform()?D.a.backgroundColorByHexString("#2f39b2"):"ios"===c.Capacitor.getPlatform()&&(document.body.style.background="#2f39b2"),I.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),a.isLoggedIn){s.reset();var e=Object(w.a)({},V);L(Object(w.a)(Object(w.a)({},e),{},{nombre:a.first_name?a.first_name:"",apellido:a.last_name?a.last_name:"",fecha_nacimiento:a.fecha_nacimiento?Y(a.fecha_nacimiento).format("DD/MM/YYYY"):"",email:a.email?a.email:""}))}else setTimeout(Object(C.a)(y.a.mark((function e(){var a,n,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.setTipoFormulario(20),a=t.rubros.filter((function(e){return s.rubros.includes(e.id)})),!s.imagen_perfil){e.next=7;break}return e.next=5,A.a.getFilefromDataUrl(s.imagen_perfil,"imagen_perfil");case 5:n=e.sent,Mt("imagen_perfil",s.imagen_perfil);case 7:c=s.fecha_nacimiento,i=s.nro_telefono,Y(c).isValid()||(c=""),"09__-___-___"===i&&(i=""),L({tipo_proveedor:s.tipo_proveedor?s.tipo_proveedor:0,nombre:s.first_name?s.first_name:"",apellido:s.last_name?s.last_name:"",fecha_nacimiento:c||"",imagen_perfil:n,email:s.email?s.email:"",nombre_punto_retiro:s.nombre_punto_retiro?s.nombre_punto_retiro:"",calle_principal:s.calle_principal?s.calle_principal:"",calle_secundaria:s.calle_secundaria?s.calle_secundaria:"",referencia:s.referencia?s.referencia:"",ubicacion:s.ubicacion?s.ubicacion:"",ciudad:s.ciudad?s.ciudad:0,numero:s.numero?s.numero:"",dias_apertura:s.dias_apertura?s.dias_apertura:[],hora_apertura:s.hora_apertura?s.hora_apertura:"07:00",hora_cierre:s.hora_cierre?s.hora_cierre:"20:00",nombre_empresa:s.nombre_empresa?s.nombre_empresa:"",nro_telefono_empresa:s.nro_telefono_empresa?s.nro_telefono_empresa:"",razon_social:s.razon_social_empresa?s.razon_social_empresa.trim():"",ruc:s.ruc_empresa?s.ruc_empresa:"",resena_empresa:s.resena_empresa?s.resena_empresa:"",rubros:a,contrasena:"",repetir_contrasena:""});case 12:case"end":return e.stop()}}),e)}))),500);setTimeout((function(){return ae(!0)}),700),Rt()}()}),[]);var Rt=function(){t.ciudades.length||(O(!0),t.actualizarDatosInicio(!1).then((function(){O(!1)})))},Et=function(){v(V),me(!0);var e=P.calle_principal,n=P.calle_secundaria,c=Object(w.a)(Object(w.a)({},P),{},{calle_principal:e?e.value:"",calle_secundaria:n?n.value:"",nro_telefono_empresa:Object(j.p)(P.nro_telefono_empresa)});"object"===typeof c.ciudad&&(c.ciudad=c.ciudad.id),t.environment.api.fabricanteRegistro(c).then((function(e){if(O(!1),me(!1),"ok"===e.kind)Object(E.u)((function(){a.setUser(e.user),a.setApiToken(e.user.token),a.setModoUsoApp(e.user.modo_uso_app),s.reset()})),de("Proveedor registrado satisfactoriamente","success"),le.push(u.o.REGISTRO_SUCCESS);else if("bad-data"===e.kind){v(e.errors),Re(!0);var t=Object.keys(e.errors).length?Object.keys(e.errors)[0]:null;"nombre_empresa"===t||"razon_social"===t||"ruc"===t||"nro_telefono_empresa"===t||"resena_empresa"===t||"nombre"===t||"apellido"===t||"nro_documento"===t||"email"===t||"contrasena"===t||"repetir_contrasena"===t?Tt(Z):"imagen_perfil"===t||"rubros"===t||"tipo_proveedor"===t?Tt(Q):"dias_apertura"===t||"hora_apertura"===t||"hora_cierre"===t?Tt(X):"nombre_punto_retiro"===t||"calle_principal"===t||"calle_secundaria"===t||"numero"===t||"referencia"===t||"ubicacion"===t||"ciudad"===t?(Tt(K),Re(!1)):null!==t&&de(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning")}}))},Pt=function(e,t){var a=Object(w.a)({},P);a[e]=t,L(a),s.setDatoRegistroStore(e,t)},zt=function(e){Pt("tipo_proveedor",e[0]),s.setDatoRegistroStore("tipo_proveedor",e[0])},Tt=function(e){!function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),se(e),le.push(window.location.pathname+"?"+t.toString())}(e),oe.current=e,se(e),ye&&ye.current&&ye.current.scrollTop()},Lt=function(e,t){Pt(e,t)},Ft=function(){var e=Object(C.a)(y.a.mark((function e(t,n){var i,r,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("imgSelected",t),"web"===c.Capacitor.getPlatform()){e.next=6;break}return e.next=4,k.a.readFile({path:t});case 4:i=e.sent,t="data:image/jpeg;base64,".concat(i.data);case 6:return e.next=8,fetch(t).then((function(e){return e.blob()}));case 8:return r=e.sent,e.next=11,Object(j.k)(r,n,Bt);case 11:return o=e.sent,Mt("imagen_perfil",t),We(n),Pt(n,o),e.next=17,A.a.getDataUrlFromFile(o);case 17:l=e.sent,a.isLoggedIn||s.setDatoRegistroStore(n,l);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Mt=function(e,t){var a=Object(w.a)({},at);a[e]=t,nt(a)},Bt=function(e){Be(e),100===e?(O(!1),setTimeout((function(){Be(0),We("")}),500)):O(!0)};Object(r.useEffect)((function(){var e=null;return"web"!==c.Capacitor.getPlatform()&&(e=I.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&it.current&&(bt(!0),setTimeout((function(){Ot(!0),Ne("N\xfamero verificado exitosamente"),it.current=!1,Et()}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var Ut=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===P.nro_telefono_empresa.length){e.next=3;break}return Ne("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:s.setDatoRegistroStore("nro_telefono_empresa",P.nro_telefono_empresa),ht&&Ot(!1),I.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),lt(!0),bt(!1),setTimeout((function(){it.current=!0}),2e3),t=Object(j.p)(P.nro_telefono_empresa),I.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lt(!1),!ht){e.next=3;break}return e.abrupt("return");case 3:ct.current=t,it.current=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),Ot(!1),lt(!1),it.current=!1,Ne("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){("web"===c.Capacitor.getPlatform()?Ht:Ut)()},Ht=function(){if(12===P.nro_telefono_empresa.length){s.setDatoRegistroStore("nro_telefono_empresa",P.nro_telefono_empresa),lt(!0);var e=Object(j.p)(P.nro_telefono_empresa),t=new R.a.auth.RecaptchaVerifier("recaptcha-container");(new R.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){it.current=!0,lt(!1),ct.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e,e.message),lt(!1),Ot(!1),Ne("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else Ne("Ingrese un n\xfamero v\xe1lido","warning")},Wt=function(e){if(console.log("modalCodigoFirebaseCallback",e),e){if(!ct.current)return it.current=!1,void Ne("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(lt(!0),it.current=!1,"web"===c.Capacitor.getPlatform()){var t=R.a.auth.PhoneAuthProvider.credential(ct.current,e);void 0!==t?R.a.auth().signInWithCredential(t).then((function(e){lt(!1),Ot(!0),Ne("N\xfamero verificado exitosamente"),Et()})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&Ne("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),lt(!1),Ot(!1)})):(lt(!1),Ot(!1),Ne("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else I.a.signInWithVerificationId(ct.current,e).then((function(e){lt(!1),Ot(!0),Ne("N\xfamero verificado exitosamente"),Et()})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&(Ne("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),it.current=!0),Ot(!1),lt(!1)}))}else it.current=!1};Object(r.useEffect)((function(){te||setTimeout((function(){return ae(!0)}),300)}),[te]),Object(r.useEffect)((function(){re===J?($e("\xa1Registra tu tienda!"),Se([{titulo:"Registro"}])):re===Z?($e("Datos de la tienda"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"}])):re===K?($e("Direcci\xf3n del local"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Direcci\xf3n del local"}])):re===X?($e("Horario de atenci\xf3n"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Horario de atenci\xf3n"}])):re===$&&($e("Verificaci\xf3n"),Se([{titulo:"Registro"},{titulo:"Verificaci\xf3n"}]),ht||(lt(!0),setTimeout(qt,500)))}),[re]);var Yt=Object(W.jsxs)("div",{className:"paso-registro-container",style:{height:ze,overflowY:"auto"},children:[Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"\xa1Registr\xe1 tu tienda!"})]}),Object(W.jsxs)("div",{className:"container-lg",style:{padding:"10px 15px"},children:[Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"RUC",tipo:"texto",campo:"ruc",valor:P?P.ruc:"",error:g&&g.ruc,set_dato:Lt,campo_blur:!0,set_dato_blur:function(e){if("ruc"===e){var a=P.ruc.indexOf("-")>0?{ruc:P.ruc}:{documento:P.ruc};t.environment.api.consultarRuc(a).then((function(e){if("ok"===e.kind){var t=e.response.result;if(t){var a={ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social};L(Object.assign({},P,a))}}})).catch((function(){}))}},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:P?P.razon_social:"",error:g&&g.razon_social,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Nombre de la Empresa",tipo:"texto",campo:"nombre_empresa",valor:P?P.nombre_empresa:"",error:g&&g.nombre_empresa,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:P?P.email:"",error:g&&g.email,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!ht,titulo:"09xx123456",tipo:"telefono-simple",campo:"nro_telefono_empresa",valor:P?P.nro_telefono_empresa:"",set_dato:Lt,columnas:12,columnas_sm:12,error:g&&g.nro_telefono_empresa,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!a.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:P?P.nombre:"",error:g&&g.nombre,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h&&!a.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"apellido",valor:P?P.apellido:"",error:g&&g.apellido,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:P?P.fecha_nacimiento:"",error:g&&g.fecha_nacimiento,set_dato:Lt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),!a.isLoggedIn&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:P?P.contrasena:"",error:g&&g.contrasena,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!h,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:P?P.repetir_contrasena:"",error:g&&g.repetir_contrasena,set_dato:Lt,columnas:12,columnas_sm:6,set_dato_registro_store:!0})]})]}),Object(W.jsx)("div",{className:"text-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){!function(){var e={};return(!P.ruc||!P.ruc.trim()||P.ruc.length<5)&&(e.ruc="Ingrese un RUC v\xe1lido"),(!P.razon_social||!P.razon_social.trim()||P.razon_social.length<5)&&(e.razon_social="Ingrese una raz\xf3n social v\xe1lida"),(!P.nombre_empresa||!P.nombre_empresa.trim()||P.nombre_empresa.length<4)&&(e.nombre_empresa="Ingrese un nombre de empresa v\xe1lido"),P.email&&P.email.trim()&&!1!==/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P.email)||(e.email="Ingrese un correo v\xe1lido"),P.nro_telefono_empresa&&!1!==/^[0-9\-]{12}$/.test(P.nro_telefono_empresa)||(e.nro_telefono_empresa="Ingrese un n\xfamero v\xe1lido"),P.nombre&&P.nombre.trim()||(e.nombre="Ingrese su nombre"),P.apellido&&P.apellido.trim()||(e.apellido="Ingrese su apellido"),P.fecha_nacimiento&&Y(P.fecha_nacimiento,"DD/MM/YYYY").isValid()||(e.fecha_nacimiento="Ingrese una fecha de nacimiento v\xe1lida"),a.isLoggedIn||((!P.contrasena||P.contrasena.length<6)&&(e.contrasena="Ingrese una contrase\xf1a de por lo menos 6 d\xedgitos"),P.repetir_contrasena!==P.contrasena&&(e.repetir_contrasena="La contrase\xf1a no coincide con la anterior")),v(e),Object.keys(e).length<1}()?de("Corrija los errores para continuar","warning"):Tt(Q)},children:"Registrarme"})})]}),Object(W.jsx)(l.h,{movil:!0,children:!a.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("registrop"),e.delete("i"),e.set("login","1"),le.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]}),Vt=Object(W.jsxs)("div",{className:"paso-registro-container container-lg paso-datos-usuario",style:Object.assign({},{height:ze}),children:[Object(W.jsx)("div",{children:Object(W.jsx)(l.w,{titulo_modal:"Sub\xed tu logotipo",titulo_label:"Sub\xed tu logotipo "+("imagen_perfil"===He&&Me>0?Me+"%":""),helptext:"",img_path:"assets/id.png",on_select:Ft,userdata:"imagen_perfil",preview:""!==at.imagen_perfil?at.imagen_perfil:"",source:0,editor:!1,perfil:!0,infoTitulo:"Logotipo",infoBody:"Sub\xed el logo de tu empresa en formato jpg o png.",modal_info_css_class:"",titulo_boton:" "})}),Object(W.jsxs)("div",{className:"row",children:[Object(W.jsxs)("div",{className:"col-12 col-md-6",children:[Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return Tt(K)},children:"Direcci\xf3n del local"}),Object(W.jsx)("span",{className:"direccion-icon-info ml-2 cpointer",onClick:function(){return pe(!0)},children:q.a.info})]}),Object(W.jsx)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 text-md-right",children:Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return Tt(X)},children:"Horario de atenci\xf3n"})}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Rubros:"})}),Object(W.jsx)(l.B,{titulo:"Rubros",titulo_label:"",listado_elementos:t.rubros,listado_elementos_seleccionados:P.rubros?P.rubros:[],datos_filtrados:function(e){Pt("rubros",e),s.setDatoRegistroStore("rubros",e)},multiple:!0,llave_label_opcion:"nombre"}),!!g.rubros&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.rubros})]}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Tipo de Proveedor:"})}),Object(W.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"0.5rem"},children:[Object(W.jsx)(i.f,{onClick:function(e){zt([20])},checked:20===P.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Empresa"})})]}),Object(W.jsxs)("div",{className:"d-flex align-items-center ml-2 ml-md-0",style:{gap:"0.5rem"},children:[Object(W.jsx)(i.f,{onClick:function(){return zt([10])},checked:10===P.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Emprendedor"})})]})]})]}),!!g.tipo_proveedor&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.tipo_proveedor}),Object(W.jsxs)("div",{className:"d-flex flex-column pt-3 mt-2",children:[Object(W.jsxs)("p",{className:"text-center",children:["Al continuar, acepta las"," ",Object(W.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:"Condiciones de Uso"}),"."]}),Object(W.jsx)("button",{className:"btn btn-primary align-self-center py-1 px-5",onClick:function(){if(function(){var e={};return(!P.rubros||P.rubros.length<1)&&(e.rubros="Seleccione el rubro de la empresa"),P.tipo_proveedor||(e.tipo_proveedor="Seleccione su tipo de proveedor"),v(e),Object.keys(e).length<1}()){if(!Jt(!1))return de("Complete la direcci\xf3n del local","warning"),void Tt(K);if(P.imagen_perfil)return P.dias_apertura&&0!=P.dias_apertura.length&&P.hora_apertura&&P.hora_cierre?void(ht?Et():Tt($)):(de("Complete el horario de atenci\xf3n","warning"),void Tt(X));de("Ingrese un logotipo","warning")}else de("Corrija los errores para continuar","warning")},disabled:be,children:"Continuar"})]})]}),Gt=Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:ze}),children:[Object(W.jsxs)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{textAlign:"center",background:"#f9f9f9",flexGrow:1},children:[Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Apertura"}),Object(W.jsx)("div",{className:"row justify-content-center form-control-container",children:Object(W.jsxs)("div",{className:"col-10 col-md-4 py-2 input-hora",children:[Object(W.jsx)(F.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Pt("hora_apertura",e.target.value)},value:P.hora_apertura}),"Hs."]})}),!!g.hora_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_apertura})]}),Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Cierre"}),Object(W.jsx)("div",{className:"row justify-content-center py-2",children:Object(W.jsxs)("div",{className:"col-10 col-md-6 form-control-container input-hora",children:[Object(W.jsx)(F.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Pt("hora_cierre",e.target.value)},value:P.hora_cierre}),"Hs."]})}),!!g.hora_cierre&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_cierre})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"subtitulo",children:"D\xedas de atenci\xf3n"}),Object(W.jsxs)("div",{className:"",children:[Object(W.jsx)("div",{className:"py-3",children:u.a.map((function(e,t){var a=P.dias_apertura.findIndex((function(t){return t===e.id}));return Object(W.jsx)("a",{onClick:function(){var t=Object(_.a)(P.dias_apertura);-1!==a?t.splice(a,1):t.push(e.id),Pt("dias_apertura",Object(_.a)(t))},className:"dia-apertura ".concat(t>0?"ml-3":""),style:-1!==a?{color:"var(--azul-fabricante)"}:{},children:Object(W.jsx)("strong",{children:e.dia[0]})},e.id)}))}),!!g.dias_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.dias_apertura})]})]})]}),Object(W.jsx)(l.h,{className:"py-3 mt-1 footer-hora",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return Tt(Q)},children:"Guardar"})})]}),Jt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return P.nombre_punto_retiro&&P.nombre_punto_retiro.trim()||(t.nombre_punto_retiro="Ingrese el nombre del punto de retiro"),P.numero&&P.numero.trim()||(t.numero="Ingrese el n\xfamero de casa"),P.ciudad||(t.ciudad="Ingrese la ciudad"),P.calle_principal||(t.calle_principal="Ingrese la calle principal"),P.calle_secundaria||(t.calle_secundaria="Ingrese la calle secundaria"),P.referencia&&P.referencia.trim()||(t.referencia="Ingrese las referencias"),e&&v(t),Object.keys(t).length<1},Zt=function(){Jt()?Tt(Q):de("Corrija los errores para continuar","warning")};return Object(W.jsxs)(i.q,{isOpen:!0,cssClass:"modal-registro-fabricante",swipeToClose:!1,backdropDismiss:!1,children:[d&&Object(W.jsx)(l.k,{titulo:Xe,sub_titulo:Ze,accion_boton_centro:function(){},botonIzquierdo:Object(W.jsx)("a",{onClick:function(){return le.goBack()},children:Object(W.jsx)(z.a,{color:"white"})})}),d&&Object(W.jsx)(H.a,{links:ke}),Object(W.jsx)(l.q,{isOpen:Oe,color:"var(--azul-fabricante)",titulo:"Direcci\xf3n legal",close:function(){return pe(!1)},children:Object(W.jsx)("span",{children:"Es la direcci\xf3n de tu tienda, de la cual los drivers podr\xe1n retirar los produtos comprados en ABi."})}),Object(W.jsx)(l.q,{isOpen:ve,close:function(){return _e(!1)},titulo:"Sede de la tienda",color:"var(--azul-fabricante)",children:Object(W.jsxs)("a",{href:"https://www.google.com/maps/d/viewer?mid=1xA92pESqpaKXUViqQxrOBWtaIMTYuJVu&usp=sharing",target:"_blank",children:[Object(W.jsx)("p",{children:"Comprob\xe1 que tu tienda tenga sede dentro del radio de alcance de ABi."}),Object(W.jsx)("img",{src:"assets/cobertura-proveedor.svg",style:{width:"100%"}}),Object(W.jsxs)("p",{style:{textAlign:"center",color:"var(--azul-fabricante)",textDecoration:"underline",fontWeight:"bolder"},children:[" ","\xc1rea de cobertura"]})]})}),Object(W.jsxs)("div",{id:"contenido-registro",children:[re>0&&Object(W.jsx)("div",{className:"btn-atras",onClick:function(){return le.goBack()},children:Object(W.jsx)(z.a,{color:"var(--gris-oscuro-abi)",size:30})}),Object(W.jsx)("div",{className:"page-wrapper",id:"pasos-registro",style:{display:"flex",flex:1},children:Object(W.jsxs)("div",{className:"pasos-registro-container",children:[re===Z&&Yt,re===$&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex flex-column",style:Object.assign({},{height:ze}),children:[Object(W.jsxs)("div",{className:"",style:{flex:1,display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[Object(W.jsx)("div",{children:Object(W.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),ht&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:Object(W.jsx)("span",{children:"Su n\xfamero ya fue verificado."})})}),!ot&&!ht&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:Object(W.jsx)("div",{style:{textAlign:"center"},children:Object(W.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",s.nro_telefono_empresa,"."," "]})})}),Object(W.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[St<1&&Object(W.jsx)(B.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return vt(e)},onComplete:function(e){Wt(e)}}),St>=1&&Object(W.jsx)("div",{className:"input-dot",children:"\u2022"}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:55},children:St>=2?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:100},children:St>=3?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:145},children:St>=4?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:190},children:St>=5?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:235},children:St>=6?"\u2022":""})]}),Object(W.jsxs)("div",{style:{textAlign:"center"},children:[Object(W.jsx)("p",{className:"cpointer text-center",onClick:function(){Ot(!0),it.current=!1,Et()},children:"Omitir este paso"}),Object(W.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(W.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(W.jsxs)("a",{onClick:0===yt?function(){return qt()}:function(){},children:[Object(W.jsx)("span",{color:"var(--azul-fabricante)",children:" nuevo c\xf3digo"})," ",yt>0&&Object(W.jsxs)("span",{children:["en ",yt," seg."]})]})]})]}),Object(W.jsx)("div",{children:Object(W.jsx)("a",{href:"https://wa.me/595981840840",children:Object(W.jsx)("h5",{color:"var(--azul-fabricante)",children:"Contactanos"})})})]})]}),Object(W.jsxs)("div",{className:"",children:[!ht&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){Wt(gt)},disabled:be,children:"Continuar"})}),ht&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return Et()},disabled:be,children:"Continuar"})})]})]}),(re===Q||!d&&re===K||!d&&re===X)&&Vt,d&&re===K&&Object(W.jsx)(ee,{HeightDiv:ze,datos:P,errors:g,guardar:function(){return Et()},loading:h,movil:d,setDato:function(e,t){return Pt(e,t)},setDatos:function(e){return L(e)},callback:Zt,noMostrarMapa:!Ae}),d&&re===X&&Gt,d&&re===J&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:ze}),children:[Object(W.jsx)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{flex:1,gap:"3rem"},children:Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-between",style:{flex:1},children:[Object(W.jsxs)("div",{className:"mt-4 container-sm",children:[Object(W.jsx)("p",{children:"Registr\xe1 tu tienda en simples pasos y empez\xe1 a crecer con nosotros."}),Object(W.jsx)("p",{children:Object(W.jsx)("strong",{children:"Requisitos para ser Proveedor ABi:"})}),Object(W.jsxs)("ol",{children:[Object(W.jsx)("li",{children:"Tener mayor\xeda de edad legal."}),Object(W.jsxs)("li",{children:["Tu tienda debe tener sede dentro de Asunci\xf3n y el departamento central."," ",Object(W.jsx)("img",{src:"assets/icon/info.png",style:{height:"1.5rem",width:"1.5rem"},onClick:function(){return _e(!0)}})]}),Object(W.jsx)("li",{children:" Contar con Factura legal."}),Object(W.jsx)("li",{children:" Poseer un n\xfamero de tel\xe9fono y un correo electr\xf3nico."}),Object(W.jsx)("li",{children:"Ser titular de una cuenta bancaria, cooperativa o una billetera digital para que puedas recibir los pagos v\xeda Internet."})]})]}),Object(W.jsxs)("div",{className:"btn-preguntas",onClick:function(){return le.push("".concat(u.m.PREGUNTAS_FRECUENTES,"?c=Proveedor ABi"))},children:[q.a.info," Preguntas frecuentes"]}),Object(W.jsxs)("a",{className:"btn-contacto",href:"https://wa.me/595981840840",target:"_blank",children:[q.a.atencion_cliente," Contactanos"]}),Object(W.jsx)("div",{className:"d-flex justify-content-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-2 px-5 my-3",onClick:function(){return Tt(d?Z:Q)},children:"Registrarme"})})]})}),Object(W.jsx)(l.h,{movil:!0,children:!a.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("a",{children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]})]})}),!d&&Object(W.jsxs)("div",{className:"derecha-container-registro-abi",style:{borderLeft:"var(--gris-claro) solid 0.2rem"},children:[re!==X&&re!==K&&Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-center h-100",children:[Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#b4d1e3"},children:Object(W.jsx)("div",{className:"pr-4 pt-4",style:{display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)("a",{onClick:function(){return le.push(u.m.ROOT)},children:Object(W.jsx)(T.a,{color:"white"})})})}),Object(W.jsx)("div",{className:"banner-fabricante"}),Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#d7dfe9"}})]}),re===X&&Gt,re===K&&Object(W.jsx)(ee,{HeightDiv:ze,datos:P,errors:g,guardar:function(){return Et()},loading:h,movil:d,setDato:function(e,t){return Pt(e,t)},setDatos:function(e){return L(e)},callback:Zt,noMostrarMapa:!Ae})]})]})]})})),ae=te,ne=a(494),ce=(a(553),Object(P.a)((function(e){var t=Object(b.b)(),a=t.loginStore,c=Object(o.e)(),s=Object(r.useState)(!1),l=Object(n.a)(s,2),d=l[0],m=l[1],f=Object(r.useState)(""),h=Object(n.a)(f,2),O=h[0],p=h[1],x=Object(r.useState)(""),g=Object(n.a)(x,2),v=g[0],_=g[1],N=Object(r.useState)(""),y=Object(n.a)(N,2),C=y[0],w=y[1];Object(j.J)();return Object(W.jsxs)(i.q,{isOpen:!0,id:"modal-selector-registro",swipeToClose:!1,backdropDismiss:!1,children:[Object(W.jsx)(i.a,{isOpen:d,onDidDismiss:function(){return m(!1)},header:""!==O?O:"Cerrar sesi\xf3n",message:""!==v?v:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===C?Object(j.h)(t,c,10):"cambiar-transportista"===C?Object(j.h)(t,c,30):"cambiar-fabricante"===C?Object(j.h)(t,c,20):c.replace(u.m.LOGOUT)}}]}),Object(W.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.delete("i"),c.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)(T.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"Eleg\xed el tipo de cuenta que quer\xe9s crear"})]}),Object(W.jsxs)("div",{className:"row modos",children:[Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn)m(!0),p("Cambiar a modo compras"),_("Confirma que desea cambiar a modo compras?"),w("cambiar-usuario");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registro","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.fabricante)m(!0),p("Cambiar a modo proveedor"),_("Confirma que desea cambiar a modo proveedor?"),w("cambiar-fabricante");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrop","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.transportista)m(!0),p("Cambiar a modo driver"),_("Confirma que desea cambiar a modo driver?"),w("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrot","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-driver.jpg"})})]}),Object(W.jsxs)("div",{className:"mfooter",children:[Object(W.jsx)("div",{children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("div",{className:"login-btn",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("login","1"),c.push(window.location.pathname+"?"+e.toString())},children:"Iniciar Sesi\xf3n"})]})]})}))),ie=a(495),re=a(497),se=s.a.forwardRef((function(e,t){var a=Object(b.b)(),s=Object(o.e)(),_=a.loginStore,N=Object(r.useState)(null),y=Object(n.a)(N,2),C=y[0],w=y[1],k=Object(r.useState)(!1),S=Object(n.a)(k,2),I=S[0],D=S[1],A=Object(r.useState)(!1),R=Object(n.a)(A,2),E=R[0],P=R[1],z=Object(r.useState)(!1),T=Object(n.a)(z,2),L=T[0],F=T[1],M=Object(r.useState)(!1),B=Object(n.a)(M,2),U=B[0],q=B[1],H=Object(r.useState)(!1),Y=Object(n.a)(H,2),V=Y[0],G=Y[1],J=Object(r.useState)(!1),Z=Object(n.a)(J,2),Q=Z[0],K=Z[1],X=Object(r.useRef)(null),$=Object(r.useRef)(null),ee=Object(r.useRef)(!0),te="web"!==c.Capacitor.getPlatform(),se=e.header||Object(W.jsx)(g.b,{obtener_datos:e.obtener_datos}),oe=e.footer||te?null:Object(W.jsx)(x.a,{content:X,container:$}),le=e.pageStyles||{display:"flex"},de=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ue=Object(o.f)();if(Object(i.N)((function(){ee.current=!0})),Object(i.M)((function(){ee.current=!1})),Object(r.useEffect)((function(){a.updateCurrentPath(ue)}),[ue]),Object(r.useEffect)((function(){var t=e.metaTags;t&&t.forEach((function(e){return function(e){var t=document.querySelector("meta[name='".concat(e.name,"']"));t&&t.remove();var a=document.createElement("meta");a.name=e.name,a.content=e.content,document.getElementsByTagName("head")[0].appendChild(a)}(e)}))}),[e.metaTags]),Object(r.useEffect)((function(){if(ee.current){a.setEsMovil(de);var e=new URLSearchParams(window.location.search),t="1"===e.get("registro"),n="1"===e.get("login"),c=t?"registro":n?"login":null;c?(null===C&&e.get("i")&&(e.delete("i"),s.push(window.location.pathname+"?"+e.toString())),D(!0),w(c)):C&&!c&&w(null);var i="1"===e.get("registrot");P(i);var r="1"===e.get("registrop");F(r);var o="1"===e.get("sregistro"),l="1"===e.get("smodo");q(o),G(l)}}),[window.location.search]),Object(r.useEffect)((function(){var t=a.minBuild>d.BUILD;(de||"web"!==c.Capacitor.getPlatform())&&K(t),e.login_required&&!_.isLoggedIn?w("login"):void 0!==e.solo_admin&&e.solo_admin&&(_.administrador||(alert("No posee permisos para acceder a la p\xe1gina"),document.location.href="/"))}),[]),Object(r.useEffect)((function(){20===_.modo_uso_app&&_.fabricante_id&&Object(j.f)(a)}),[]),Object(r.useImperativeHandle)(t,(function(){return{scrollTop:function(){X.current&&$.current&&(X.current.scrollToTop(100),$.current.scrollTop=0)}}})),void 0!==e.solo_cliente&&e.solo_cliente){if(_.isLoggedIn&&30===_.modo_uso_app)return de?Object(W.jsx)(o.a,{to:{pathname:u.n.HOME}}):Object(W.jsx)(o.a,{to:{pathname:u.p.INICIO}});if(_.isLoggedIn&&20===_.modo_uso_app)return Object(W.jsx)(o.a,{to:{pathname:u.o.PEDIDOS_PENDIENTES}})}if(void 0!==e.admin&&e.admin)return Object(W.jsxs)(i.r,{style:le,children:[Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)("div",{"data-theme":"light","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",className:"full",style:{height:"100%"},id:e.id?e.id+" main-wrapper":"main-wrapper",children:[Object(W.jsx)(m.a,{}),e.children,Object(W.jsx)(f.a,{})]})]});var je=!de&&e.fabricante;return e.fabricante&&(se=Object(W.jsx)(O.a,{})),Object(W.jsxs)(i.r,{style:le,children:[e.fabricante&&Object(W.jsx)(h.a,{}),a.isDebug&&Object(W.jsx)("div",{className:"debug-box",children:"DBG"}),null!==C&&Object(W.jsx)(v.a,{isOpen:!0,setVisible:function(e){var t=new URLSearchParams(window.location.search);t.delete("login"),t.delete("registro"),t.delete("i"),s.push(window.location.pathname+"?"+t.toString())},login:"login"===C,closable:I}),Q&&Object(W.jsx)(l.C,{}),U&&Object(W.jsx)(ce,{}),E&&Object(W.jsx)(ne.a,{}),L&&Object(W.jsx)(ae,{}),V&&Object(W.jsx)(ie.a,{}),Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)(i.g,{scrollEvents:!0,ref:function(e){return X.current=e},children:[se,je&&Object(W.jsx)("div",{className:"container-fluid",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(p.a,{}),Object(W.jsx)("div",{id:e.id,ref:$,className:"col-12 col-md-9 col-lg-9 col-xl-10",children:e.children})]})}),!je&&Object(W.jsx)("div",{id:e.id,ref:$,children:e.children}),oe]})]})}));t.b=se},511:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(24),c=a(3),i=a.n(c),r=a(521),s=a(519),o=a(572),l=a.n(o),d=a(9),u=a(526),j=a(522),b=i.a.forwardRef((function(e,t){var a=Object(c.useState)(!1),o=Object(n.a)(a,2),b=o[0],m=o[1],f=e.facingMode||"user";Object(c.useImperativeHandle)(t,(function(){return{toggle:function(){m(!b)},open:function(){m(!0)},close:function(){m(!1)}}}));var h=new s.Uppy({allowMultipleUploads:!1,locale:j,restrictions:{allowedFileTypes:["image/*"],maxNumberOfFiles:1}});return h.use(l.a,{videoConstraints:{facingMode:f}}).use(u,{id:"ImageEditor",quality:.8,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0}}),h.on("complete",(function(t){var a=t.successful[0],n=h.getFile(a.id);e.file(n.data),e.file_preview(n.preview)})),i.a.useEffect((function(){return function(){return h.close()}}),[]),Object(d.jsx)(r.b,{id:e.id_input,uppy:h,closeModalOnClickOutside:!0,open:b,onRequestClose:function(){m(!b),h.reset()},plugins:["Webcam","ImageEditor"],metaFields:[{id:"name",name:"Nombre",placeholder:"Nombre del archivo"}]})}));t.b=b},512:function(e,t,a){"use strict";var n=a(26),c=a(24),i=a(40),r=a(161),s=a(3),o=a(8),l=a(101),d=a(86),u=a(0),j=a.n(u),b=a(2),m=a(145),f=a(30),h=a(579),O=a.n(h),p=a(580),x=a.n(p),g=a(581),v=a.n(g),_=a(582),N=a.n(_),y=a(583),C=a.n(y),w=a(578),k=a.n(w),S=a(475),I=(a(543),a(9)),D=a(198),A=new Audio("assets/chat.mp3"),R=Object(r.a)((function(e,t){var a=t.router,r=Object(d.b)(),u=r.loginStore,h=(r.transportistaStore,r.chatStore),p=Object(s.useState)(!1),g=Object(c.a)(p,2),_=g[0],y=g[1],w=Object(s.useState)(!1),R=Object(c.a)(w,2),E=R[0],P=R[1],z=Object(s.useState)(null),T=Object(c.a)(z,2),L=T[0],F=T[1],M=Object(s.useState)(!1),B=Object(c.a)(M,2),U=B[0],q=(B[1],Object(s.useRef)(null)),H=Object(s.useState)(),W=Object(c.a)(H,2),Y=W[0],V=W[1],G=Object(s.useState)(0),J=Object(c.a)(G,2),Z=(J[0],J[1]),Q=Object(s.useState)(""),K=Object(c.a)(Q,2),X=(K[0],K[1]),$=Object(s.useRef)(null),ee=null;Object(s.useEffect)((function(){e.mensajes&&(V(Object(n.a)(e.mensajes)),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),1e3))}),[e.mensajes]);var te=function(e){Z(e),100===e&&setTimeout((function(){Z(0),X("")}),500)},ae=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,c,i,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Camera,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return a=e.sent,e.next=9,fetch(a);case 9:return n=e.sent,e.next=12,n.blob();case 12:return c=e.sent,e.next=15,Object(l.k)(c,"imagen",te);case 15:return i=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(i)}));case 18:return r=e.sent,e.next=21,ne(r);case 21:return e.sent,e.next=24,{fecha:D().toISOString(),texto:"",usuario:u.id,media:r};case 24:return s=e.sent,e.next=27,oe(s);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){e="data:image/jpeg;base64,".concat(e)},ce=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,c,i,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Photos,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return a=e.sent,e.next=9,fetch(a);case 9:return n=e.sent,e.next=12,n.blob();case 12:return c=e.sent,e.next=15,Object(l.k)(c,"imagen",te);case 15:return i=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(i)}));case 18:return r=e.sent,e.next=21,ne(r);case 21:return e.sent,e.next=24,{fecha:D().toISOString(),texto:"",usuario:u.id,media:r};case 24:return s=e.sent,e.next=27,oe(s);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),L){e.next=3;break}return e.abrupt("return");case 3:t={fecha:D().toISOString(),texto:"location;".concat(L.lat,";").concat(L.lng),usuario:u.id},oe(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){return u.modo_uso_app===o.e.transportista?Object(I.jsx)("div",{className:"predeterminados-container-trasportista",children:h.mensajesPredeterminadosDriver.map((function(e,t){return Object(I.jsx)("div",{className:"mensaje-predeterminado-container",children:Object(I.jsx)("div",{className:"mensaje-predeterminado-trasportista",onClick:function(){return je(e.mensaje)},children:e.mensaje})},t)}))}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{id:"cliente-predeterminados-container",children:h.getMensajesPredeterminadoCliente().map((function(e){return Object(I.jsx)("div",{className:"mensaje-predeterminado-cliente",onClick:function(){return je(e.mensaje)},children:e.mensaje},e.id)}))}),Object(I.jsxs)("div",{id:"respuesta-container",children:[Object(I.jsx)("div",{className:"adjunto",onClick:function(){return y(!_)},children:Object(I.jsx)(O.a,{})}),Object(I.jsxs)("div",{id:"menu-adjuntar",className:_?"active":"",children:[Object(I.jsx)("div",{id:"adjuntar-imagen",onClick:ce,children:Object(I.jsx)(x.a,{fontSize:"medium"})}),"web"!==f.Capacitor.getPlatform()&&Object(I.jsx)("div",{id:"adjuntar-foto",onClick:ae,children:Object(I.jsx)(v.a,{fontSize:"medium"})}),Object(I.jsx)("div",{id:"adjuntar-ubicacion",onClick:function(){y(!1),P(!0)},children:Object(I.jsx)(N.a,{fontSize:"medium"})})]}),Object(I.jsx)("input",{ref:q,type:"text",className:"input-texto",placeholder:"Escriba su mensaje",onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(I.jsx)("div",{className:"enviar",onClick:ue,children:Object(I.jsx)(C.a,{style:{color:"#96CE4E",marginLeft:3}})})]})]})},se=k()(e.wsUrl,{onOpen:function(){return console.log("opened")},onMessage:function(e){JSON.parse(e.data).usuario!==u.id&&A.play(),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),300)},shouldReconnect:function(e){return!0}}),oe=(se.sendMessage,se.sendJsonMessage),le=se.lastMessage,de=(se.lastJsonMessage,se.readyState);se.getWebSocket;Object(s.useEffect)((function(){if(le&&le.data)try{var e=Y?Object(n.a)(Y):[],t=JSON.parse(le.data),a={texto:t.texto,fecha:t.fecha,usuario:t.usuario,media:t.media,tipo:t.tipo};e.push(a),V(e)}catch(c){console.log("err",c)}}),[le]),Object(s.useEffect)((function(){console.log("readyState",de)}),[de]);var ue=function(){var e=q.current.value;if(e&&e.trim()){var t={fecha:D().toISOString(),texto:e,usuario:u.id};oe(t),setTimeout((function(){return q.current.focus()}),500)}},je=function(e){var t={fecha:D().toISOString(),texto:e,usuario:u.id};oe(t)},be=function(e){if(!e)return null;var t=function(e){var t=D(ee),a=D(e.fecha);return null!==(ee=e.fecha)&&D(t).isBefore(a,"day")?Object(I.jsx)("div",{className:"corte-fecha",children:a.format("DD/MM/YYYY")},e.id):null}(e),a="texto",n=e.texto?e.texto:"",c=null;if(n.match(/^location;[-0-9\.]+;[-0-9\.]+$/gm)){a="ubicacion";var i=n.split(";")[1],r=n.split(";")[2];n=Object(I.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(i,",").concat(r),target:"_blank",children:Object(I.jsx)(S.z,{lat:i,lng:r,bloquear_interaccion:!0,center:{lat:i,lng:r},zoom:15,style:{height:100,width:"100%",borderRadius:10}})})}return e.media&&(c=Object(I.jsx)("a",{href:e.media,children:Object(I.jsx)("img",{src:e.media,alt:"imagen",style:{width:230,height:"auto",borderRadius:10}})})),t||Object(I.jsxs)("div",{className:"mensaje ".concat(a)+(e.usuario===u.id?" propio":""),children:[c,n,Object(I.jsx)("span",{className:"hora",children:D(e.fecha).format("HH:mm")}),Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 14.6",children:Object(I.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(I.jsx)("g",{id:"Capa_1","data-name":"Capa 1",children:Object(I.jsx)("polyline",{className:"cls-1",points:"16.26 0.15 0.54 14.39 23.64 14.39"})})})})]},"msg"+e.fecha)};return Object(I.jsxs)("div",{className:"chat-container",children:[Object(I.jsxs)(i.q,{isOpen:E,id:"modal-ubicacion",onDidDismiss:function(){return P(!1)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ubicacion",presentingElement:a||void 0,children:[Object(I.jsx)(i.j,{translucent:!0,children:Object(I.jsxs)(i.C,{children:[Object(I.jsx)(i.A,{children:"Enviar ubicaci\xf3n"}),Object(I.jsx)(i.d,{onClick:function(){return P(!1)},slot:"end",children:"Cancelar"})]})}),Object(I.jsxs)(i.g,{fullscreen:!0,children:[Object(I.jsx)(S.z,{lat:r.latitud||-25.30066,lng:r.longitud||-57.63591,zoom:14,full_screen:!0,ubicacion:function(e,t){F({lat:e,lng:t})}}),Object(I.jsx)(i.d,{onClick:function(){return ie()},id:"enviar-ubicacion",children:"Enviar"})]})]}),Object(I.jsx)("div",{className:"scroll-container",style:{flex:1},children:Object(I.jsx)(i.g,{id:"mensajes-container",scrollEvents:!0,ref:function(e){return $.current=e},children:Object(I.jsxs)("div",{className:"py-3",children:[U&&Object(I.jsx)(i.z,{name:"crescent",id:"chat-loading-spinner"}),!U&&!!Y&&Y.length>0&&Object(I.jsx)("div",{id:"mensajes",children:Y.map((function(e,t){return be(e)}))})]})})}),!e.finalizado&&Object(I.jsx)(re,{})]})})),E=R,P=(a(513),a(1528)),z=(a(544),Object(r.a)((function(e){var t=Object(d.b)().loginStore,a=(e.botonIzquierdo||P.a,e.accionBotonIzquierdo,e.botonDerecho||Object(I.jsx)("div",{style:{width:46}})),n=e.color||"#303AB2",i=e.titulo||"",r=e.sub_titulo||"",o=(e.mostrarBarra,Object(s.useState)(!1)),l=Object(c.a)(o,2),u=l[0],j=l[1];30===t.modo_uso_app?!!t.transportista&&t.transportista.aprobado:20!==t.modo_uso_app||!!t.fabricante&&t.fabricante.aprobado;return Object(I.jsxs)("div",{className:"w-100",style:{backgroundColor:n},children:[Object(I.jsxs)("div",{className:"d-flex justify-content-between pt-3 px-3",children:[e.imagenPerfil,Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("div",{className:"text-white mt-3",children:Object(I.jsx)("strong",{className:"nombre-titulo",children:i})}),Object(I.jsx)("div",{className:"text-white mb-3 d-flex justify-content-center align-items-start",children:Object(I.jsx)("small",{children:r})})]})}),Object(I.jsx)("div",{className:"",children:a})]}),Object(I.jsx)("div",{className:"boton-menu",onClick:function(){return j(!u)},children:Object(I.jsx)(P.a,{size:30,color:"#ffffff"})})]})}))),T=a(144).WSS_BASE_URL,L=Object(r.a)((function(e){var t=Object(s.useState)(),a=Object(c.a)(t,2),r=a[0],u=a[1],j=Object(s.useState)(""),b=Object(c.a)(j,2),m=b[0],f=b[1],h=Object(s.useState)(!0),O=Object(c.a)(h,2),p=O[0],x=O[1],g=Object(s.useState)(""),v=Object(c.a)(g,2),_=v[0],N=v[1],y=Object(s.useState)(""),C=Object(c.a)(y,2),w=(C[0],C[1]),k=Object(s.useState)("assets/person.png"),S=Object(c.a)(k,2),D=S[0],A=S[1],R=Object(d.b)(),P=Object(s.useState)(),L=Object(c.a)(P,2),F=L[0],M=L[1],B=R.loginStore,U=R.transportistaStore,q=Object(s.useState)([]),H=Object(c.a)(q,2),W=H[0],Y=H[1],V=Object(s.useState)(""),G=Object(c.a)(V,2),J=G[0],Z=G[1],Q=Object(s.useState)(),K=Object(c.a)(Q,2),X=K[0],$=K[1],ee=Object(l.J)();Object(s.useEffect)((function(){var t;e.pedido?u(e.pedido):(t=e.idPedido,x(!0),R.environment.api.getPedido(t).then((function(e){"ok"===e.kind&&u(e.pedido)})))}),[]),Object(s.useEffect)((function(){$(U.itinerarioActivo)}),[U.itinerarioActivo]),Object(s.useEffect)((function(){var e,t,a;if(r){var n=B.fabricante&&B.fabricante.id,c=(null===(e=U.hojaRutaActiva)||void 0===e||null===(t=e.pedido)||void 0===t?void 0:t.id)===r.id,i=!!r.fabricante_id&&n===r.fabricante_id||!!(null===(a=r.fabricante)||void 0===a?void 0:a.id)&&n===r.fabricante.id,s=r.usuario.id===B.id;if(c?Z("#ff6f33"):i?Z("#303AB2"):s?Z("#ff6f33"):ee("Ocurri\xf3 un error al configurar el chat. C\xf3digo: 100","warning"),N("Id#"+r.id),c&&X){var l,d;if(X.tipo===o.u.ENTREGA)return te(r.id,o.t.CLIENTE_DRIVER,0),f((null===(l=r.usuario)||void 0===l?void 0:l.first_name)+" "+(null===(d=r.usuario)||void 0===d?void 0:d.last_name)),A(r.usuario.imagen_perfil?r.usuario.imagen_perfil:D),M("".concat(T,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(B.token)),void w(X.telefono_itinerario?X.telefono_itinerario:null);if(X.tipo===o.u.RETIRO&&X.fabricante&&X.fabricante_id)return te(r.id,o.t.FABRICANTE_DRIVER,X.fabricante_id),A(X.fabricante_imagen_perfil?X.fabricante_imagen_perfil:D),f(X.fabricante),w(X.telefono_itinerario?X.telefono_itinerario:null),void M("".concat(T,"/chat/fabricante-driver/").concat(X.fabricante_id,"/").concat(r.id,"/?token=").concat(B.token))}else{var u,j,b,m,h,O,p,g,v,_;if(i&&B.fabricante_id)return te(r.id,o.t.FABRICANTE_DRIVER,B.fabricante_id),f((null===(u=r.transportista)||void 0===u?void 0:u.usuario.first_name)+" "+(null===(j=r.transportista)||void 0===j?void 0:j.usuario.last_name)),A((null===(b=r.transportista)||void 0===b?void 0:b.usuario.imagen_perfil)?null===(m=r.transportista)||void 0===m?void 0:m.usuario.imagen_perfil:D),w(null===(h=r.transportista)||void 0===h?void 0:h.usuario.nro_telefono),void M("".concat(T,"/chat/fabricante-driver/").concat(B.fabricante_id,"/").concat(r.id,"/?token=").concat(B.token));if(s)return te(r.id,o.t.CLIENTE_DRIVER,0),f((null===(O=r.transportista)||void 0===O?void 0:O.usuario.first_name)+" "+(null===(p=r.transportista)||void 0===p?void 0:p.usuario.last_name)),A((null===(g=r.transportista)||void 0===g?void 0:g.usuario.imagen_perfil)?null===(v=r.transportista)||void 0===v?void 0:v.usuario.imagen_perfil:D),w(null===(_=r.transportista)||void 0===_?void 0:_.usuario.nro_telefono),void M("".concat(T,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(B.token));ee("Ocurri\xf3 un error al configurar el chat","warning")}x(!1)}}),[r,X]);var te=function(e,t,a){x(!0),R.environment.api.getMensajesChat(e,t,a).then((function(e){if("ok"==e.kind){x(!1);var t=Object(n.a)(e.data);Y(t)}}))};return Object(I.jsxs)("div",{className:e.className?"d-flex flex-column "+e.className:"d-flex flex-column",style:e.containerStyle?e.containerStyle:{},children:[!e.ocultarHeader&&Object(I.jsx)(z,{titulo:m,sub_titulo:_,mostrarBarra:!1,color:e.color?e.color:J,imagenPerfil:Object(I.jsx)("div",{className:"foto-perfil-container-chat-modal",children:Object(I.jsx)("img",{id:"foto-perfil-modal",alt:"",src:D})}),botonDerecho:Object(I.jsx)("div",{children:e.botonExtra?e.botonExtra:null})}),(p||!F)&&Object(I.jsx)("div",{className:"d-flex flex-grow-1 align-self-stretch justify-content-center align-items-center",children:Object(I.jsx)(i.z,{})}),!p&&F&&Object(I.jsx)(E,{wsUrl:F,mensajes:W,finalizado:(null===r||void 0===r?void 0:r.estado)===o.h.entregado||(null===r||void 0===r?void 0:r.estado)===o.h.incidente})]})}));t.a=L},513:function(e,t,a){},514:function(e,t,a){},523:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={ISO:"YYYY-MM-DDTHH:mm:ssZ",DATE:"DD/MM/YYYY",TIME:"HH:mm:ss",HOURMINUTE:"HH:mm",DATEHOURMINUTE:"DD/MM/YYYY HH:mm",DATETIME:"DD/MM/YYYY HH:mm:ss",HDATEMONTH:"D [de] MMMM",HDATE:"D [de] MMMM [del] YYYY",HDATETIME:"D [de] MMMM [del] YYYY [a las] HH:mm"}},525:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));a(3);var n=a(590),c=(a(559),a(9)),i=function(e){return Object(c.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(n.a,{size:20}),Object(c.jsx)("span",{children:"Iniciar"})]})})})},r=function(e){return Object(c.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(n.a,{size:20}),Object(c.jsx)("span",{children:"Ver"}),Object(c.jsx)("span",{children:"Mapa"})]})})})}},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},557:function(e,t,a){},558:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},618:function(e,t,a){"use strict";var n=a(3),c=a.n(n),i=a(19),r=a.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var l=Object(n.forwardRef)((function(e,t){var a=e.color,n=void 0===a?"currentColor":a,i=e.size,r=void 0===i?24:i,l=o(e,["color","size"]);return c.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));l.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},l.displayName="Edit",t.a=l},619:function(e,t,a){"use strict";var n=a(3),c=a.n(n),i=a(19),r=a.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var l=Object(n.forwardRef)((function(e,t){var a=e.color,n=void 0===a?"currentColor":a,i=e.size,r=void 0===i?24:i,l=o(e,["color","size"]);return c.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.a.createElement("polyline",{points:"3 6 5 6 21 6"}),c.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));l.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},l.displayName="Trash",t.a=l},653:function(e,t,a){}}]);
//# sourceMappingURL=71.5327374a.chunk.js.map