/*! For license information please see 5.63b4b6a4.chunk.js.LICENSE.txt */
(this["webpackJsonpabi-frontend"]=this["webpackJsonpabi-frontend"]||[]).push([[5],{1194:function(t,e,r){function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}var i=r(1195);t.exports=function(){function t(t){var e=this;this.locale={strings:{},pluralize:function(t){return 1===t?0:1}},Array.isArray(t)?t.forEach((function(t){return e._apply(t)})):this._apply(t)}var e=t.prototype;return e._apply=function(t){if(t&&t.strings){var e=this.locale;this.locale=n({},e,{strings:n({},e.strings,t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}},e.interpolate=function(t,e){var r=String.prototype,n=r.split,a=r.replace,o=/\$/g,s=[t];for(var l in e)if("_"!==l&&i(e,l)){var u=e[l];"string"===typeof u&&(u=a.call(e[l],o,"$$$$")),s=c(s,new RegExp("%\\{"+l+"\\}","g"),u)}return s;function c(t,e,r){var i=[];return t.forEach((function(t){if("string"!==typeof t)return i.push(t);n.call(t,e).forEach((function(t,e,n){""!==t&&i.push(t),e<n.length-1&&i.push(r)}))})),i}},e.translate=function(t,e){return this.translateArray(t,e).join("")},e.translateArray=function(t,e){var r=this.locale.strings[t];if("object"===typeof r){if(e&&"undefined"!==typeof e.smart_count){var n=this.locale.pluralize(e.smart_count);return this.interpolate(r[n],e)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(r,e)},t}()},1195:function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},1196:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},r.exports),r.exports}((function(t){"undefined"!==typeof window&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,r,s,l,u,c,p,f,h;if(!(e=t.match(o)))throw new Error("invalid data URI");for(r=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),s=!!e[4],l=t.slice(e[0].length),u=s?atob(l):decodeURIComponent(l),c=new ArrayBuffer(u.length),p=new Uint8Array(c),f=0;f<u.length;f+=1)p[f]=u.charCodeAt(f);return n?new Blob([i?p:c],{type:r}):((h=new a).append(c),h.getBlob(r))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,e,n){var i=this;setTimeout((function(){n&&r.toDataURL&&s?t(s(i.toDataURL(e,n))):t(i.mozGetAsFile("blob",e))}))}:r.toDataURL&&s&&(r.msToBlob?r.toBlob=function(t,e,n){var i=this;setTimeout((function(){(e&&"image/png"!==e||n)&&r.toDataURL&&s?t(s(i.toDataURL(e,n))):t(i.msToBlob(e))}))}:r.toBlob=function(t,e,r){var n=this;setTimeout((function(){t(s(n.toDataURL(e,r)))}))})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})),u={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},c="undefined"!==typeof window&&"undefined"!==typeof window.document?window:{},p=Array.prototype.slice;var f=/^image\/.+$/;function h(t){return f.test(t)}var d=String.fromCharCode;var m=c.btoa;function g(t){var e,r=new DataView(t);try{var n,i,a;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var o=r.byteLength,s=2;s+1<o;){if(255===r.getUint8(s)&&225===r.getUint8(s+1)){i=s;break}s+=1}if(i){var l=i+10;if("Exif"===function(t,e,r){var n,i="";for(r+=e,n=e;n<r;n+=1)i+=d(t.getUint8(n));return i}(r,i+4,4)){var u=r.getUint16(l);if(((n=18761===u)||19789===u)&&42===r.getUint16(l+2,n)){var c=r.getUint32(l+4,n);c>=8&&(a=l+c)}}}if(a){var p,f,h=r.getUint16(a,n);for(f=0;f<h;f+=1)if(p=a+12*f+2,274===r.getUint16(p,n)){p+=8,e=r.getUint16(p,n),r.setUint16(p,1,n);break}}}catch(m){e=1}return e}var b=/\.\d*(?:0|9){12}\d*$/;function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return b.test(t)?Math.round(t*e)/e:t}var v=c.ArrayBuffer,w=c.FileReader,O=c.URL||c.webkitURL,U=/\.\w+$/,j=c.Compressor,B=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e,this.image=new Image,this.options=s(s({},u),r),this.aborted=!1,this.result=null,this.init()}var e,r,i;return e=t,i=[{key:"noConflict",value:function(){return window.Compressor=j,t}},{key:"setDefaults",value:function(t){a(u,t)}}],(r=[{key:"init",value:function(){var t=this,e=this.file,r=this.options;if(n=e,"undefined"!==typeof Blob&&(n instanceof Blob||"[object Blob]"===Object.prototype.toString.call(n))){var n,i=e.type;if(h(i))if(O&&w)if(v||(r.checkOrientation=!1),O&&!r.checkOrientation)this.load({url:O.createObjectURL(e)});else{var o=new w,s=r.checkOrientation&&"image/jpeg"===i;this.reader=o,o.onload=function(r){var n=r.target.result,o={};if(s){var l=g(n);l>1||!O?(o.url=function(t,e){for(var r,n=[],i=new Uint8Array(t);i.length>0;)n.push(d.apply(null,(r=i.subarray(0,8192),Array.from?Array.from(r):p.call(r)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(m(n.join("")))}(n,i),l>1&&a(o,function(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90}return{rotate:e,scaleX:r,scaleY:n}}(l))):o.url=O.createObjectURL(e)}else o.url=n;t.load(o)},o.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){t.reader=null},s?o.readAsArrayBuffer(e):o.readAsDataURL(e)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var e=this,r=this.file,n=this.image;n.onload=function(){e.draw(s(s({},t),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}))},n.onabort=function(){e.fail(new Error("Aborted to load the image."))},n.onerror=function(){e.fail(new Error("Failed to load the image."))},c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent)&&(n.crossOrigin="anonymous"),n.alt=r.name,n.src=t.url}},{key:"draw",value:function(t){var e=this,r=t.naturalWidth,n=t.naturalHeight,i=t.rotate,a=void 0===i?0:i,o=t.scaleX,s=void 0===o?1:o,u=t.scaleY,c=void 0===u?1:u,p=this.file,f=this.image,d=this.options,m=document.createElement("canvas"),g=m.getContext("2d"),b=r/n,v=Math.abs(a)%180===90,w=Math.max(d.maxWidth,0)||1/0,O=Math.max(d.maxHeight,0)||1/0,U=Math.max(d.minWidth,0)||0,j=Math.max(d.minHeight,0)||0,B=Math.max(d.width,0)||r,k=Math.max(d.height,0)||n;if(v){var A=[O,w];w=A[0],O=A[1];var P=[j,U];U=P[0],j=P[1];var x=[k,B];B=x[0],k=x[1]}w<1/0&&O<1/0?O*b>w?O=w/b:w=O*b:w<1/0?O=w/b:O<1/0&&(w=O*b),U>0&&j>0?j*b>U?j=U/b:U=j*b:U>0?j=U/b:j>0&&(U=j*b),k*b>B?k=B/b:B=k*b;var E=-(B=Math.floor(y(Math.min(Math.max(B,U),w))))/2,M=-(k=Math.floor(y(Math.min(Math.max(k,j),O))))/2,R=B,T=k;if(v){var D=[k,B];B=D[0],k=D[1]}m.width=B,m.height=k,h(d.mimeType)||(d.mimeType=p.type);var L="transparent";if(p.size>d.convertSize&&"image/png"===d.mimeType&&(L="#fff",d.mimeType="image/jpeg"),g.fillStyle=L,g.fillRect(0,0,B,k),d.beforeDraw&&d.beforeDraw.call(this,g,m),!this.aborted&&(g.save(),g.translate(B/2,k/2),g.rotate(a*Math.PI/180),g.scale(s,c),g.drawImage(f,E,M,R,T),g.restore(),d.drew&&d.drew.call(this,g,m),!this.aborted)){var z=function(t){e.aborted||e.done({naturalWidth:r,naturalHeight:n,result:t})};m.toBlob?m.toBlob(z,d.mimeType,d.quality):z(l(m.toDataURL(d.mimeType,d.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,r=t.naturalHeight,n=t.result,i=this.file,a=this.image,o=this.options;if(O&&!o.checkOrientation&&O.revokeObjectURL(a.src),n)if(o.strict&&n.size>i.size&&o.mimeType===i.type&&!(o.width>e||o.height>r||o.minWidth>e||o.minHeight>r))n=i;else{var s=new Date;n.lastModified=s.getTime(),n.lastModifiedDate=s,n.name=i.name,n.name&&n.type!==i.type&&(n.name=n.name.replace(U,function(t){var e=h(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}(n.type)))}else n=i;this.result=n,o.success&&o.success.call(this,n)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=B},722:function(t,e,r){function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=r(519).Plugin,o=r(1194),s=r(1196),l=function(t){var e,r;function a(e,r){var a;(a=t.call(this,e,r)||this).id=a.opts.id||"ImageCompressor",a.type="modifier",a.defaultLocale={strings:{compressingImages:"Compressing images..."}};return a.opts=n({},{quality:.6},r),delete a.opts.success,delete a.opts.error,a.i18nInit(),a.prepareUpload=a.prepareUpload.bind(i(a)),a.compress=a.compress.bind(i(a)),a}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var l=a.prototype;return l.setOptions=function(e){t.prototype.setOptions.call(this,e),this.i18nInit()},l.i18nInit=function(){this.translator=new o([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},l.compress=function(t){var e=this;return new Promise((function(r,i){new s(t,n({},e.opts,{success:function(t){return r(t)},error:function(t){return i(t)}}))}))},l.prepareUpload=function(t){var e=this,r=t.map((function(t){var r=e.uppy.getFile(t);if(e.uppy.emit("preprocess-progress",r,{mode:"indeterminate",message:e.i18n("compressingImages")}),"image"===r.type.split("/")[0])return e.compress(r.data).then((function(n){e.uppy.log("[Image Compressor] Image "+r.id+" size before/after compression: "+r.data.size+" / "+n.size),e.uppy.setFileState(t,{data:n})})).catch((function(t){e.uppy.log("[Image Compressor] Failed to compress "+r.id+":","warning"),e.uppy.log(t,"warning")}))}));return Promise.all(r).then((function(){t.forEach((function(t){var r=e.uppy.getFile(t);e.uppy.emit("preprocess-complete",r)}))}))},l.install=function(){this.uppy.addPreProcessor(this.prepareUpload)},l.uninstall=function(){this.uppy.removePreProcessor(this.prepareUpload)},a}(a);t.exports=l}}]);
//# sourceMappingURL=5.63b4b6a4.chunk.js.map