(this["webpackJsonpabi-frontend"]=this["webpackJsonpabi-frontend"]||[]).push([[113],{1661:function(e,t,a){"use strict";a.r(t),a.d(t,"PreguntasFrecuentes",(function(){return d}));var n=a(24),i=(a(525),a(161)),c=a(3),r=a(1021),o=a(509),s=a(86),l=a(9),d=Object(i.a)((function(e){e.history,e.match,Object(s.b)();var t=Object(c.useState)(""),a=Object(n.a)(t,2),i=a[0],d=a[1],u=Object(c.useState)(""),j=Object(n.a)(u,2),b=(j[0],j[1],window.innerWidth<=500||/Mobi/.test(navigator.userAgent)),m=Object(c.useState)(""),f=Object(n.a)(m,2),p=f[0],h=f[1],O=[{categoria:"Sobre ABi",titulo:"\xbfQu\xe9 es ABi?",respuesta:"ABi (Administration Bussines Intelligence) es un supermercado online que ofrece una gran variedad de productos de consumo masivo."},{categoria:"Sobre ABi",titulo:"\xbfC\xf3mo puedo registrarme en ABi?",respuesta:"Podr\xe1s registrarte como Proveedor, Driver y/o Cliente v\xeda WEB o mediante la APP, segu\xed los pasos de registro, y listo!"},{categoria:"Sobre ABi",titulo:"No recuerdo el nombre de usuario/contrase\xf1a",respuesta:"Pod\xe9s recuperar  tus credenciales por medio de tu correo electr\xf3nico en inicio de sesi\xf3n."},{categoria:"Sobre ABi",titulo:"\xbfC\xf3mo funciona ABi?",respuesta:"ABi funciona a trav\xe9s de una APP, WEB, que utiliza la tecnolog\xeda para brindar al cliente una experiencia diferente de compra."},{categoria:"Sobre ABi",titulo:"\xbfQu\xe9 servicios ofrece ABi?",respuesta:"ABi brinda una variedad de productos para la compra segura, mediante canales pr\xe1cticos de pago, y entrega a destino."},{categoria:"Sobre ABi",titulo:"\xbfQu\xe9 productos se venden en ABi?",respuesta:"ABi ofrece al consumidor final una variedad de productos desde enlatados hasta alimentos refrigerados."},{categoria:"Sobre ABi",titulo:"\xbfTiene costo de ingreso o mantenimiento?",respuesta:"\xa1ABi es totalmente gratuito!"},{categoria:"Sobre ABi",titulo:"\xbfABi tiene una web?",respuesta:"Si! Pod\xe9s visitarnos tambi\xe9n atrav\xe9s de la web de ABi: www.abi.com.py"},{categoria:"Sobre ABi",titulo:"\xbfD\xf3nde esta la sede de ABi?",respuesta:"La oficina central de ABi se encuentra en Avda. Venezuela 2015 c/ Artigas, Asunci\xf3n."},{categoria:"Sobre ABi",titulo:"Necesito ayuda \xbfC\xf3mo contacto con el Staff ABi?",respuesta:"Contact\xe1 con nosotros al 0981 840 840, o con nuestra asistente de compra en la WEB ABi."},{categoria:"Sobre ABi",titulo:"\xbfDe qu\xe9 formas puedo trabajar con ABi?",respuesta:"Pod\xe9s ser parte del equipo como proveedor o como driver, para mayor informaci\xf3n contact\xe1 con nosotros"},{categoria:"Sobre ABi",titulo:"\xbfC\xf3mo puedo formar parte del Staff ABi?",respuesta:"ABi te brinda la oportunidad de trabajar en su staff, envia tu CV a directorio@abi.com.py"},{categoria:"Proveedor ABi",titulo:"\xbfC\xf3mo puedo registrarme en ABi?",respuesta:"Podr\xe1s registrarte como Proveedor, Driver y/o Cliente v\xeda WEB o mediante la APP, segu\xed los pasos de registro, y listo!"},{categoria:"Proveedor ABi",titulo:"No recuerdo el nombre de usuario/contrase\xf1a",respuesta:"Pod\xe9s recuperar tus credenciales por medio de tu correo electr\xf3nico en inicio de sesi\xf3n."},{categoria:"Proveedor ABi",titulo:"\xbfQu\xe9 es Proveedor ABi?\xa0",respuesta:"Es un aliado de ABi, quien es responsable de proveer los productos publicados en abi.com.py"},{categoria:"Proveedor ABi",titulo:"\xbfCu\xe1l es el perfil de un Proveedor ABi?",respuesta:"Los Proveedores ABi pueden ser: Empresas o Emprendedores con RUC."},{categoria:"Proveedor ABi",titulo:"\xbfQu\xe9 beneficios trae ser Proveedor ABi?",respuesta:"\xa1Vender a trav\xe9s de AB\xed es genial! Los beneficios que trae para los proveedores son los siguientes: no posee comisi\xf3n mensual sobre ventas, los pagos no se hacen a m\xe1s de 30 d\xedas, tiene log\xedstica integrada sin costo para los proveedores, e-commerce gratuito, y cuenta con un registro de productos vendidos."},{categoria:"Proveedor ABi",titulo:"\xbfEs seguro vender en ABi?",respuesta:"Todas las transacciones hechas en el sistema son seguras, bajo estrictos est\xe1ndares de seguridad."},{categoria:"Proveedor ABi",titulo:"\xbfMis productos est\xe1n protegidos?\xa0",respuesta:"Todas las transacciones hechas en el sistema son seguras, bajo estrictos est\xe1ndares de seguridad. Los proveedores tienen la seguridad de que sus productos ser\xe1n debidamente transportados con todos los cuidados correspondientes, ya que los drivers estar\xe1n capacitados para dar la mejor experiencia de compra."},{categoria:"Proveedor ABi",titulo:"Tengo una MIPYMES, \xbfPuedo ser Proveedor ABi?",respuesta:"Creemos en las oportunidades, por lo tanto cualquier proveedor interesado puede formar parte de ABi."},{categoria:"Proveedor ABi",titulo:"\xbfPuedo registrar m\xe1s de un local o tienda?",respuesta:"Podr\xe1s registrar todas las sucursales que tenga tu negocio."},{categoria:"Proveedor ABi",titulo:"\xbfQu\xe9 documentos necesito para registrarme como Proveedor ABi?",respuesta:"Si quer\xe9s formar parte de ABi, ten\xe9s que cumplir los siquientes requisitos y reunir las documentaciones: \nPara Empresas Unipersonales:\n 1. Constancia de RUC \n2. C\xe9dula tributaria \n3. Certificado de Cumplimiento Tributario \n 4. Fotocopia de c\xe9dula del representante legal.\nPara Sociedades:\n1. Constancia de RUC\n2. C\xe9dula tributaria\n3. Certificado de Cumplimiento Tributario\n4. Estatuto de Constituci\xf3n\n5. Acta de asamblea\n6. Copia de c\xe9dula del representante legal."},{categoria:"Proveedor ABi",titulo:"\xbfHay alg\xfan contrato?",respuesta:"Son muy importantes para nosotros la transparencia y la responsabilidad con nuestros proveedores, por lo que exigimos la firma de un acuerdo comercial."},{categoria:"Proveedor ABi",titulo:"\xbfC\xf3mo se fijan los precios de los productos?",respuesta:"Los proveedores estipulan un precio pre-establecido a ABi. \nABi fija un precio final con un Markup/Indexaci\xf3n que estar\xe1 sobre el Precio pre-establecido."},{categoria:"Proveedor ABi",titulo:"\xbfPuedo fijar o modificar mis propios precios?",respuesta:"Cada proveedor tendr\xe1 acceso para actualizar los datos y precios de sus productos."},{categoria:"Proveedor ABi",titulo:"\xbfC\xf3mo registro o modifico el horario de mi local?",respuesta:"ABi tiene establecido un horario fijo para todos los proveedores de 08:00 a 17:00 horas de lunes a s\xe1bados."},{categoria:"Proveedor ABi",titulo:"\xbfPuedo usar mi propio servicio de delivery?",respuesta:"Para ayudarte y asegurar una entrega en forma y tiempo, ABi se encargar\xe1 de todas las entregas con su propia log\xedstica."},{categoria:"Proveedor ABi",titulo:"\xbfC\xf3mo son las promociones o descuentos especiales?",respuesta:"Las promociones o descuentos especiales se realizar\xe1n con los acuerdos establecidos con los proveedores."},{categoria:"Proveedor ABi",titulo:"\xbfC\xf3mo deben de ser las im\xe1genes de mis productos?\xa0",respuesta:"Desarrollamos un manual de presentaci\xf3n, con instrucciones precisas para tomar fotograf\xedas a tus productos y presentarlos en el marketplace ABi. Cada proveedor estar\xe1 sujeto a este manual."},{categoria:"Proveedor ABi",titulo:"\xbfPor qu\xe9 mi producto fue rechazado?",respuesta:"Para evitar ser rechazados, el registro, descripci\xf3n e im\xe1genes de todos los productos deben cumplir con los est\xe1ndares de ABi."},{categoria:"Driver ABi",titulo:"\xbfC\xf3mo puedo registrarme en ABi?",respuesta:"Podr\xe1s registrarte como Proveedor, Driver y/o Cliente v\xeda WEB o mediante la APP, segu\xed los pasos de registro, y listo!"},{categoria:"Driver ABi",titulo:"No recuerdo el nombre de usuario/contrase\xf1a",respuesta:"Pod\xe9s recuperar tus credenciales por medio de tu correo electr\xf3nico en inicio de sesi\xf3n."},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 es Driver ABi?",respuesta:"Nuestros conductores ABi pueden ser personas mayores de 18 a\xf1os y /o empresas con flota de veh\xedculos"},{categoria:"Driver ABi",titulo:"\xbfCu\xe1l es el perfil de un Driver ABi?",respuesta:"Un Driver Abi es\xa0 el conductor\xa0 asignado para transportar y entregar las mercader\xedas solicitadas por\xa0 los usuarios ABi"},{categoria:"Driver ABi",titulo:"\xbfHay alg\xfan beneficio en ser Driver ABi?",respuesta:"Como Driver ABi pod\xe9s administrar tu tiempo y brindar servicio dentro del horario establecido por ABi, de 8:00hs a 17:00hs."},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 tipo de rodado puedo registrar?",respuesta:"Pod\xe9s registrar motos, motocarros, autos, camionetas/camioncitos y camiones."},{categoria:"Driver ABi",titulo:"\xbfHay alg\xfan requisito que los rodados deben cumplir?",respuesta:"Deben encontrarse en buenas condiciones, con documentos al d\xeda y seguro.\nSi no cont\xe1s con un seguro, \xa1ABi te ayuda!"},{categoria:"Driver ABi",titulo:"\xbfHay alg\xfan contrato?",respuesta:"Son muy importantes para nosotros la transparencia y la responsabilidad con nuestros conductores por lo que establecemos la firma de un contrato."},{categoria:"Driver ABi",titulo:"Tengo una flota de rodados, \xbfPuedo registrar todos los rodados?",respuesta:"Pod\xe9s registrar todos los rodados que sean motos, motocarros, autos, camionetas/camioncitos y camiones."},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 tipo de foto debo subir?",respuesta:"Sub\xed una imagen de rostro, n\xedtida y actualizada con la que puedan reconocerte:\n1. Fondo neutro\n2. Formato JPG\n3. Evit\xe1 fotografiarte con lentes oscuros, kepi y tapabocas."},{categoria:"Driver ABi",titulo:"\xbfC\xf3mo subo mis documentos?",respuesta:"Los documentos ser\xe1n solicitados durante el registro en la APP o WEB de ABi, encontrar\xe1s un campo se\xf1alizado que te indicar\xe1 donde subirlos."},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 documentos necesito para registrarme como Driver?",respuesta:"Para registrarte como Driver ABi necesitas contar con todas tus documentaciones al d\xeda: \n1. Registro de Conducir\n 2. Copia Autenticada de la habilitaci\xf3n del vehiculo\n 3. Antecedentes policiales\n 4. Antecedentes judiciales\n Para Empresas Unipersonales:\n 1. Constancia de RUC\n 2. C\xe9dula tributaria\n 3. Certificado de Cumplimiento Tributario\n 4. Fotocopia de c\xe9dula del representante legal.\n 5. Copia Autenticada de Habilitaci\xf3n del Veh\xedculo\n Para Sociedades:\n 1. Constancia de RUC\n 2. C\xe9dula tributaria\n 3. Certificado de Cumplimiento Tributario\n 4. Estatuto de Constituci\xf3n\n 5. Acta de asamblea\n 6. Copia de c\xe9dula del representante legal.\n 7. Copia Autenticada de Habilitaci\xf3n del Veh\xedculo a utilizar en la prestaci\xf3n del servicio (CI &amp; Autorizaci\xf3n)\n 8. Expresa del propietario del Veh\xedculo en caso de no ser propietario];"},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 tipo de p\xf3liza de seguro se necesita para ser Driver ABi?",respuesta:"Cada driver debe tener un seguro que cubra da\xf1os materiales, seguro de vida y seguro de mercader\xedas. \nSi no cont\xe1s con un seguro, \xa1ABi te ayuda!\nComunicate con nosotros para mayor informaci\xf3n al 0981 840840."},{categoria:"Driver ABi",titulo:"\xbfPor qu\xe9 ABi solicita mi direcci\xf3n legal?",respuesta:"Para que nuestra plataforma, de manera inteligente, pueda asignarte la entrega de pedidos m\xe1s pr\xf3xima a tu lugar de residencia."},{categoria:"Driver ABi",titulo:"Primer viaje. \xbfC\xf3mo se hace?",respuesta:"Ten\xe9s que estar registrado como Driver ABi para recibir los pedidos asignados a tu perfil."},{categoria:"Driver ABi",titulo:"\xbfQu\xe9 hago si mi registro esta por vencer?",respuesta:"Ten\xe9s que renovar y\xa0 subir el nuevo documento (pdf) a la plataforma, deber\xe1 ser el mismo que entregar\xe1s en nuestra oficina.\nTienes 3 d\xedas h\xe1biles para acercarlos."},{categoria:"Driver ABi",titulo:"\xbfC\xf3mo veo cu\xe1nto gan\xe9 con las entregas?",respuesta:"La plataforma ABi te permitir\xe1 visualizar la entrega de todos tus pedidos y ganancias del d\xeda. Pod\xe9s ver esto en la secci\xf3n (poner seccion en donde se ve)."},{categoria:"Driver ABi",titulo:"\xa1Tuve un accidente! \xbfQu\xe9 hago?",respuesta:"Deber\xe1s presionar el bot\xf3n de emergencia en la APP para notificar a ABi para que otro Driver se encargue de la entrega del pedido. Una vez finalizado todos los reportes policiales, deber\xe1s comunicarte con el seguro."},{categoria:"Driver ABi",titulo:"Llegue a la ubicaci\xf3n de entrega, pero no responde nadie \xbfQu\xe9 hago?",respuesta:"Podr\xe1s realizar la llamada desde el chat interno ABi para\xa0 contactar\xa0 al cliente , en cualquiera de los casos el staff\xa0 ABi esta disponible para ayudarte"},{categoria:"Tienda ABi",titulo:"\xbfC\xf3mo puedo registrarme en ABi?",respuesta:"Podr\xe1s registrarte como Proveedor, Driver y/o Cliente v\xeda WEB o mediante la APP, segu\xed los pasos de registro, y listo!"},{categoria:"Tienda ABi",titulo:"No recuerdo el nombre de usuario/contrase\xf1a",respuesta:"Pod\xe9s recuperar  tus credenciales por medio de tu correo electr\xf3nico en inicio de sesi\xf3n."},{categoria:"Tienda ABi",titulo:"\xbfTengo que ser mayor para tener cuenta en ABi?",respuesta:"Todas las personas podr\xe1n hacer compras en ABi."},{categoria:"Tienda ABi",titulo:"\xbfCu\xe1les son los beneficios de comprar en ABi?",respuesta:"\xa1Comprar en ABi es f\xe1cil y seguro, no necesitas hacer filas, ni dejar la comodidad del lugar en donde te encuentres, llegamos hasta vos!"},{categoria:"Tienda ABi",titulo:"\xbfLos productos son m\xe1s caros en ABi?",respuesta:"En ABi los precios son competitivos."},{categoria:"Tienda ABi",titulo:"\xbfC\xf3mo realizar un pedido?",respuesta:"Pod\xe9s realizar las compras desde abi.com.py \xf3 descargar la APP en cualquier dispositivo m\xf3vil."},{categoria:"Tienda ABi",titulo:"\xbfC\xf3mo puedo pagar en ABi?",respuesta:"Pod\xe9s pagar con tarjetas de d\xe9bito, cr\xe9dito \xf3 billeteras electr\xf3nicas (Tigo/Personal) a trav\xe9s de nuestra p\xe1gina WEB o APP."},{categoria:"Tienda ABi",titulo:"\xbfPuedo cancelar mi pedido?",respuesta:"Pod\xe9s cancelar tu carrito en cualquier momento de la compra, no as\xed una vez realizado el pago."},{categoria:"Tienda ABi",titulo:"\xbfPuedo modificar mi pedido?",respuesta:"Pod\xe9s modificar tu pedido, siempre y cuando sea antes de realizar el pago."},{categoria:"Tienda ABi",titulo:"\xa1Tengo un problema con el Driver ABi! \xbfQu\xe9 hago?",respuesta:"Ante cualquier inconveniente\xa0 con el Driver, podr\xe1s contactarnos con el chat interno ABi o directamente\xa0 al 0981 840 840."},{categoria:"Tienda ABi",titulo:"\xbfPuedo hacer compras las 24 horas?",respuesta:"Pod\xe9s hacer tus pedidos en ABi las 24hs, desde la APP o desde la WEB, teniendo en cuenta que las entregas se realizan en el siguiente horario (de 08:00 a 17:00Hs de lunes a s\xe1bados)"},{categoria:"Tienda ABi",titulo:"\xbfC\xf3mo accedo a promociones y descuentos especiales?",respuesta:"ABi te da la opci\xf3n de activar notificaciones para recibir ofertas personalizadas seg\xfan tus intereses."},{categoria:"Tienda ABi",titulo:"Mi pedido no llego \xbfQu\xe9 hago?",respuesta:"Ante cualquier inconveniente con el Driver, pod\xe9s contactarnos con el chat interno ABi o directamente\xa0 al 0981 840 840."},{categoria:"Tienda ABi",titulo:"\xbfCu\xe1l es el precio del Delivery?",respuesta:"La plataforma de ABi calcular\xe1 autom\xe1ticamente el costo del delivery seg\xfan el recorrido y el tipo de veh\xedculo que te lleva tu pedido."},{categoria:"Tienda ABi",titulo:"\xbfABi da factura legal?",respuesta:"La plataforma de ABi permite al usuario obtener un comprobante de compra de manera virtual, colaborando con el medio ambiente disminuyendo el uso de papel."},{categoria:"Tienda ABi",titulo:"\xbfCu\xe1l es la zona de entrega?",respuesta:"ABi actualmente cubre la zona de Asunci\xf3n y Gran Asunci\xf3n."},{categoria:"Tienda ABi",titulo:"\xbfTienen descuentos con TC?",respuesta:"ABi tendr\xe1 alianzas con algunos bancos, los cuales estar\xe1n brindando dicho beneficio a los clientes."}],x=Object(c.useState)(O),g=Object(n.a)(x,2),v=g[0],_=g[1],N=function(e){var t=O;""!=p&&(t=t.filter((function(e){return e.categoria.includes(p)}))),e&&(e=e.toLowerCase(),t=t.filter((function(t){return t.categoria.toLowerCase().includes(e)||t.titulo.toLowerCase().includes(e)||t.respuesta.toLowerCase().includes(e)}))),_(t)};return Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("c")||"";e&&(h(e),N(e))}),[window.location.search]),Object(l.jsx)(o.b,{login_required:!1,children:Object(l.jsx)("div",{className:"page-wrapper",style:{display:"flex"},children:Object(l.jsx)("div",{className:"container-lg",style:{backgroundColor:"#fff"},children:Object(l.jsxs)("div",{className:"content-container row mx-0 px-0",style:{backgroundColor:"#fff"},children:[b&&Object(l.jsx)("div",{className:"col-12",style:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:Object(l.jsx)("strong",{children:Object(l.jsx)("h3",{children:"Preguntas frecuentes"})})}),!b&&Object(l.jsx)("h1",{children:"Preguntas frecuentes"}),Object(l.jsx)("div",{className:"col-12",style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(l.jsxs)("div",{className:"input-group",style:{marginRight:20,width:"500px"},children:[Object(l.jsx)("input",{type:"search",className:"form-control",placeholder:"",value:i,onChange:function(e){d(e.target.value)},onKeyDown:function(e){N(e.target.value.trim().toLowerCase())}}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return N(i)},children:Object(l.jsx)(r.a,{size:20})})})]})}),Object(l.jsxs)("div",{className:"mt-3",id:"preguntas",children:[v.length>0&&v.map((function(e){return Object(l.jsxs)("div",{className:"col-12 mt-4 pregunta",children:[Object(l.jsxs)("h3",{children:[e.titulo," ",Object(l.jsx)("span",{className:"badge badge-warning",children:e.categoria})]}),e.respuesta.split("\n").map((function(e,t){return Object(l.jsx)("p",{children:e},t)}))]})})),0===v.length&&Object(l.jsx)("div",{className:"d-flex mt-5",children:Object(l.jsx)("span",{className:"mx-auto my-auto text-gray",children:"No se encontraron preguntas"})})]})]})})})})}));t.default=d},475:function(e,t,a){"use strict";a.d(t,"i",(function(){return n.a})),a.d(t,"j",(function(){return d})),a.d(t,"k",(function(){return f})),a.d(t,"y",(function(){return y})),a.d(t,"A",(function(){return C.a})),a.d(t,"B",(function(){return D})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return Z})),a.d(t,"c",(function(){return $})),a.d(t,"u",(function(){return te.a})),a.d(t,"z",(function(){return ae.a})),a.d(t,"g",(function(){return ne.a})),a.d(t,"o",(function(){return le.a})),a.d(t,"v",(function(){return de.a})),a.d(t,"n",(function(){return ue.a})),a.d(t,"w",(function(){return ve})),a.d(t,"s",(function(){return _e})),a.d(t,"e",(function(){return we})),a.d(t,"m",(function(){return Ae})),a.d(t,"t",(function(){return Pe})),a.d(t,"l",(function(){return ze.a})),a.d(t,"D",(function(){return Me})),a.d(t,"r",(function(){return qe})),a.d(t,"x",(function(){return Ue.a})),a.d(t,"p",(function(){return He.a})),a.d(t,"f",(function(){return $e})),a.d(t,"h",(function(){return et})),a.d(t,"q",(function(){return K.a})),a.d(t,"d",(function(){return lt})),a.d(t,"C",(function(){return ut}));var n=a(496),i=a(3),c=a.n(i),r=a(161),o=a(57),s=a(1524),l=a(9),d=Object(r.a)((function(e){var t=Object(o.e)(),a=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return t.goBack()},children:Object(l.jsx)(s.a,{size:26,style:{color:"#FFF"}})}),n=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}});return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"top",style:{height:55,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a,Object(l.jsx)("a",{onClick:function(){return t.push("/")},children:Object(l.jsx)("img",{src:"assets/abi-logo-white.png",alt:"Logo de ABi",style:{height:30}})}),n]})})})),u=(a(541),a(86)),j=a(8),b=a(30),m=a(477),f=Object(r.a)((function(e){var t=Object(o.e)(),a=Object(u.b)().loginStore,n=e.accion_boton_izquierdo?e.accion_boton_izquierdo:function(){return t.goBack()},i=e.botonIzquierdo||Object(l.jsx)("div",{style:{padding:5,paddingLeft:10},onClick:function(){return n()},children:Object(l.jsx)(s.a,{size:26,style:{color:"#FFF"}})}),c=e.botonDerecho||Object(l.jsx)("div",{style:{width:46}}),r=e.color||"var(--azul-fabricante)",d=e.titulo||"",f=e.sub_titulo||"";return Object(l.jsx)("div",{style:{height:100,minHeight:100},children:Object(l.jsxs)("div",{className:"registro-cliente-header-main-container",style:{backgroundColor:r},children:[Object(l.jsxs)("div",{className:"row mx-0 px-0",children:[Object(l.jsx)("div",{className:"col-2 text-left px-1 cpointer",children:i}),Object(l.jsx)("div",{className:"col-8 text-center ",children:Object(l.jsx)("a",{className:"logo-abi-fabricante cpointer",onClick:function(){a.isLoggedIn&&30===a.modo_uso_app?"android"===b.Capacitor.getPlatform()||"ios"===b.Capacitor.getPlatform()?t.push(j.n.HOME):t.push(j.p.INICIO):a.isLoggedIn&&20===a.modo_uso_app?t.push(j.o.PEDIDOS_PENDIENTES):t.push(j.m.ROOT)},children:m.a.abi})}),Object(l.jsx)("div",{className:"col-2 text-right px-1 pt-2 cpointer",children:c})]}),Object(l.jsxs)("div",{className:"text-center ",children:[Object(l.jsx)("div",{className:"text-white",children:Object(l.jsx)("strong",{children:d})}),!a.isLoggedIn&&Object(l.jsx)("div",{className:"text-white",onClick:function(){e.accion_boton_centro&&e.accion_boton_centro()},children:Object(l.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"bold"},children:f})})]})]})})})),p=a(33),h=a(26),O=a(24),x=a(40),g=a(577),v=a.n(g),_=a(1021),N=a(101),y=c.a.forwardRef((function(e,t){var a=Object(i.useState)(!1),n=Object(O.a)(a,2),c=n[0],r=n[1],o=Object(i.useState)([]),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(i.useState)(0),b=Object(O.a)(j,2),m=b[0],f=b[1],g=Object(i.useRef)(1),y=Object(i.useState)(10),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useState)(""),A=Object(O.a)(S,2),D=A[0],I=A[1],P=Object(i.useState)(""),R=Object(O.a)(P,2),E=R[0],T=R[1],z=Object(i.useState)(!1),B=Object(O.a)(z,2),L=B[0],F=B[1],M=Object(i.useState)(0),q=Object(O.a)(M,2),U=q[0],H=q[1],W=Object(N.A)();Object(i.useImperativeHandle)(t,(function(){return{refresh:function(){V(w,g.current,D)},clearSelected:function(){F(!L)},selectRow:function(e){H(e)}}})),Object(i.useEffect)((function(){V(w,1,D)}),[]);var V=function(t,a,n){r(!0),e.obtenerDatos(t,a,n,E).then((function(e){r(!1),"ok"===e.kind?(f(e.data.count),u(e.data.results)):W(e,"","listar")}))},Y=function(){g.current=1,V(w,g.current,D)};return Object(l.jsx)("div",{className:"table-responsive",children:Object(l.jsx)(v.a,Object(p.a)(Object(p.a)({},e),{},{data:d,noHeader:!0,subHeaderComponent:Object(l.jsxs)("div",{className:"input-group",style:{maxWidth:300},children:[Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Escriba el texto a buscar",value:E,onChange:function(e){return T(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&Y()}}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{className:"btn btn-light",onClick:function(){return Y()},children:Object(l.jsx)(_.a,{size:14})})})]}),progressPending:c,pagination:!e.disablePagination,paginationServer:!e.disablePagination,paginationTotalRows:e.disablePagination?void 0:m,paginationRowsPerPageOptions:e.disablePagination?void 0:[10,30,50,70,100],onChangeRowsPerPage:e.disablePagination?void 0:function(e,t){k(e),V(e,t,D)},onChangePage:e.disablePagination?void 0:function(e){g.current=e,V(w,e,D)},onSort:e.disablePagination?void 0:function(e){var t=(D.endsWith(e.selector)&&!D.startsWith("-")?"-":"")+e.selector;I(t),V(w,g.current,t)},paginationPerPage:e.disablePagination?void 0:w,sortServer:!0,noDataComponent:Object(l.jsx)("div",{className:"mb-5",children:"No hay registros para mostrar"}),paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina:",rangeSeparatorText:"de",selectAllRowsItemText:"Todos"},progressComponent:Object(l.jsx)("div",{children:Object(l.jsx)(x.z,{color:"dark",name:"crescent"})}),selectableRows:!!e.selectableRows&&e.selectableRows,onSelectedRowsChange:function(t){return e.selectedRows(Object(h.a)(t.selectedRows))},clearSelectedRows:L,selectableRowSelected:function(e){return!!U&&U==e.id}}))})})),C=a(481),w=(a(542),a(1513)),k=a(532),S=function(e){var t=Object(k.a)(),a=Object(O.a)(t,2),n=a[0],i=a[1],c={height:"".concat(e.height,"px")};return Object(l.jsx)("div",{className:"virtual-scroll-child",style:c,ref:n,children:i?e.children:null})},A=function(e){var t=e.rows,a=e.rowHeight,n=e.onLastRow,c=e.className,r=Object(k.a)(),o=Object(O.a)(r,2),s=o[0],d=o[1];Object(i.useEffect)((function(){d&&n&&n()}),[d]);var u=[];e.children&&e.children.length?u=e.children:t&&t.length&&(u=t);return Object(l.jsx)("div",{className:c?"virtual-scroll-container ".concat(c):"virtual-scroll-container",children:u.map((function(e,t){return t===u.length-1?Object(l.jsx)("div",{ref:s,children:Object(l.jsx)(S,{height:a,children:e})},e.key):Object(l.jsx)(S,{height:a,children:e},e.key)}))})},D=Object(r.a)((function(e){var t=Object(i.useState)(!1),a=Object(O.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)([]),o=Object(O.a)(r,2),s=o[0],d=o[1],u=Object(i.useState)([]),j=Object(O.a)(u,2),b=j[0],m=j[1],f=Object(i.useState)([]),p=Object(O.a)(f,2),g=p[0],v=p[1],_=Object(i.useState)(""),N=Object(O.a)(_,2),y=N[0],C=N[1],k=e.auto_aceptar||!1,S=e.class_boton_aceptar||"btn-outline-primary",D=e.checkbox_style||"",I=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(I=!0);var P=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var a=[];null!==e.listado_elementos&&(a=e.listado_elementos.filter((function(a){return a[e.llave_label_opcion]&&t&&a[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?a:e.listado_elementos)}};return Object(i.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)d(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){d([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&m([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id&&(d(e.listado_elementos_seleccionados.map((function(e){return e.id}))),m(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(d([e.listado_elementos_seleccionados.id]),m([e.listado_elementos_seleccionados[e.llave_label_opcion]]));P("")}),[e.listado_elementos_seleccionados]),Object(i.useEffect)((function(){e.mostrar_modal&&c(!0),e.mostrar_modal_cambio_estado&&!n&&e.mostrar_modal_cambio_estado(n)}),[e.mostrar_modal,n]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:n,onDidDismiss:function(){C(""),P("")},backdropDismiss:!1,children:[Object(l.jsxs)(x.j,{children:[Object(l.jsxs)(x.C,{children:[Object(l.jsx)(x.A,{slot:"start",className:"text-truncate",style:{minWidth:void 0===e.boton_extra_text?350:0},children:e.titulo}),void 0!==e.boton_extra_text&&Object(l.jsx)(x.A,{slot:"end",children:Object(l.jsx)("a",{className:"text-primary",title:"Agregar "+e.boton_extra_text,onClick:function(){c(!1),e.boton_extra_funcion()},children:Object(l.jsx)("small",{children:"Agregar"})})})]}),Object(l.jsx)(x.C,{children:Object(l.jsx)(x.w,{showCancelButton:"focus",placeholder:"Buscar",value:y,onIonChange:function(e){P(e.detail.value),C(e.detail.value)}})})]}),Object(l.jsx)(x.g,{children:g&&g.length>0&&Object(l.jsx)(A,{rowHeight:46,rows:g.map((function(t){return Object(l.jsxs)(x.n,{children:[Object(l.jsx)(x.o,{children:t[e.llave_label_opcion]}),Object(l.jsx)(x.f,{className:D,slot:"end",value:t.id,checked:s.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var a=Object(h.a)(s),n=Object(h.a)(b),i=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=a.indexOf(t);a.includes(t)?(a.splice(r,1),n.splice(r,1)):e.multiple?(a.push(t),n.push(i)):(a=[t],n=[i]),d(a),m(n),k&&(c(!1),e.datos_filtrados(a))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){return c(!n)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+S+" btn-block",onClick:function(){c(!n),e.datos_filtrados(s)},children:"ACEPTAR"})})]})})]}),void 0===e.ocultar_input&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"row",onClick:function(){return I?null:c(!n)},children:[e.titulo_label&&Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("span",{className:"label-selector-modal-registro",children:e.titulo_label})}),Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("input",{disabled:!0,type:"text",className:"form-control registro-selector-modal-input",readOnly:!0,value:b.join(", "),placeholder:e.placeholder}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{disabled:I,className:"btn btn-outline-secondary btn-registro-selector-modal",type:"button",children:Object(l.jsx)(w.a,{size:18,className:"",color:"#4e4e4e"})})})]})})]})})]})})),I=(a(486),a(487),a(1525)),P=a(1540),R=a(58),E=Object(r.a)((function(e){var t,a=Object(u.b)().loginStore,n=e.img_extra_class||"",c=e.extra_class||"",r=e.separador_dinero||!1,o=e.separador_miles||!1,s=Object(i.useState)(!1),d=Object(O.a)(s,2),j=d[0],b=d[1],m=window.screen.height;return!1===e.restriccion?null:(t=30===a.modo_uso_app?"#ff6f33":20===a.modo_uso_app?"#303AB2":"#000000",Object(l.jsxs)("div",{className:"col-"+e.columnas+"  "+c,children:[e.show_image_alert&&e.imagen||e.es_protegido&&e.imagen&&Object(l.jsxs)(x.q,{animated:!0,isOpen:j,cssClass:"modal-imagen-grande",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return b(!1)},children:[Object(l.jsxs)("div",{className:"transportista-header",style:{backgroundColor:t},children:[Object(l.jsx)("span",{className:"text-truncate",style:{maxWidth:330,color:"#fff",paddingLeft:10},children:e.titulo}),Object(l.jsx)(I.a,{className:"ml-auto mr-3",size:30,onClick:function(){return b(!1)},color:"white",style:{float:"right"}})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-auto",children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,style:{maxHeight:.7*m}})})})]}),e.titulo&&Object(l.jsxs)("div",{className:"text-gray mb-2 d-flex align-items-center",children:[Object(l.jsx)("strong",{children:e.titulo})," ",e.show_image_alert&&e.imagen&&Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)(P.a,{size:18,className:"ml-2"})})]}),Object(l.jsxs)("div",{className:"detalle-admin-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.html&&Object(l.jsx)("p",{dangerouslySetInnerHTML:{__html:e.html}}),r&&Object(l.jsx)("p",{className:"text-gray",children:Object(R.o)(e.texto)}),o&&Object(l.jsx)("p",{className:"text-gray",children:Object(R.b)(e.texto)}),void 0!==e.texto&&!o&&!r&&Object(l.jsx)("p",{className:"text-gray",children:e.texto}),e.info_icon&&Object(l.jsx)(l.Fragment,{children:e.info_icon})]}),e.imagen&&!e.show_image_alert&&!e.es_protegido&&Object(l.jsx)("p",{className:n,children:Object(l.jsx)("a",{target:"_blank",href:e.imagen,children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})}),e.imagen&&!e.show_image_alert&&e.es_protegido&&Object(l.jsx)("p",{className:n,children:Object(l.jsx)("a",{target:"_blank",onClick:function(){return b(!0)},children:Object(l.jsx)("img",{alt:e.titulo,src:e.imagen,className:"max-min-img-admin"})})})]}))})),T=a(534),z=a(530),B=a(584),L=a(585),F=a.n(L),M=a(537),q=a(520),U=a(533),H=a(480),W=a.n(H),V=(a(586),a(575)),Y=a.n(V),G=a(1541),J=a(1542);Object(T.registerLocale)("es",z.default);var Q=a(162),Z=Object(r.a)((function(e){var t=e.textAreaRows||2,a=e.extra_css||"",n=(e.columnas_sm||e.columnas,Object(i.useState)(!1)),c=Object(O.a)(n,2),r=c[0],o=(c[1],Object(i.useState)(!1)),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(i.useState)(!0),b=Object(O.a)(j,2),m=b[0],f=b[1],h=e.verificar_boton_clase||"btn-outline-primary",x=Object(i.useState)(null),g=Object(O.a)(x,2),v=g[0],_=g[1],y=Object(i.useState)(null),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useRef)(null),A=Object(i.useRef)(null),D=Object(N.D)(v,500),I=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase();if(!1===e.restriccion)return null;var P=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(P=!0);var R=function(t,a,n){e.set_dato(t,a,n)},E=function(t){e.set_dato_blur(t)},T=function(t){t?(k(t.value),R(e.campo,t.value)):R(e.campo,null),e.select_onchange&&e.select_onchange(t)};return Object(i.useEffect)((function(){u(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(i.useEffect)((function(){f(!0===e.verificar_firebase_habilitado)}),[e.verificar_firebase_habilitado]),Object(i.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&k(e.valor.value),_("")}),[e.valor]),Object(i.useEffect)((function(){e.opciones_select&&S.current&&e.opciones_select(D).then((function(e){S.current(e)}))}),[D]),void 0!==e.horizontal&&e.horizontal?Object(l.jsx)("div",{className:"col-12 col-lg-6 col-xl-"+e.columnas+" "+a,children:Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo})}),Object(l.jsxs)("div",{className:"col-6",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:"text",className:"form-control",id:e.campo,value:Q(e.valor).format("0,0"),onBlur:function(t){var a=Q(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,R(e.campo,a))},onChange:function(t){var a=Q(t.target.value).value();R(e.campo,a)}}),"texto"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return R(e.campo,t.target.value)},placeholder:e.placeholder}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:P,className:"form-control",mask:"99/99/9999",onChange:function(t){return R(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:P,className:"form-control",mask:"99:99",onChange:function(t){return R(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono"===e.tipo&&Object(l.jsx)(F.a,{disabled:P,country:"py",localization:B,value:e.valor?e.valor.toString():"",placeholder:"595 981 123 456",onChange:function(t){return R(e.campo,t)}}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){R(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){R(e.campo,!e.valor)},children:"Aprobado"})]})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})}):Object(l.jsxs)("div",{className:"col-12 col-lg-"+e.columnas+" "+a,children:[Object(l.jsxs)("div",{className:"form-group",children:[e.titulo&&Object(l.jsx)("label",{className:"font-weight-bold text-gray",id:e.campo,children:e.titulo}),"numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:"text",className:"form-control",id:e.campo,value:""!==e.valor?Q(e.valor).format("0,0"):"",onBlur:function(t){var a=Q(t.target.value).value();void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,R(e.campo,a))},onChange:function(t){var a=Q(t.target.value).value();R(e.campo,a)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:"text",className:"form-control",id:e.campo,value:e.valor,onBlur:function(t){R(e.campo,Q(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){R(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:e.tipo,className:"form-control",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){return R(e.campo,t.target.value)},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&E(e.campo)},placeholder:e.placeholder}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{disabled:P,className:"form-control",rows:t,id:e.campo,onChange:function(t){return R(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",placeholder:e.placeholder}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(M.a,{initData:e.valor,onChange:function(t){return R(e.campo,t.editor.getData())},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]]},readOnly:P}),"ckeditor-full"===e.tipo&&Object(l.jsx)(M.a,{initData:e.valor,onChange:function(t){return R(e.campo,t.editor.getData())},readOnly:P}),"fecha"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:P,className:"form-control",mask:"99/99/9999",onChange:function(t){return R(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(G.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"hora"===e.tipo&&Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:P,className:"form-control",mask:"99:99",onChange:function(t){return R(e.campo,t.target.value)},value:e.valor}),Object(l.jsx)(J.a,{size:22,color:"#4e4e4e",style:{position:"absolute",top:"calc(50% - 11px)",right:"10px"}})]}),"telefono-simple"===e.tipo&&Object(l.jsx)(Y.a,{className:"form-control",placeholder:e.titulo,disabled:P,options:{phone:!0,phoneRegionCode:"PY"},value:e.valor,onChange:function(t){R(e.campo,t.target.rawValue)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-8",children:Object(l.jsx)(W.a,{disabled:P,className:"form-control",mask:"0\\999-999-999",onChange:function(t){R(e.campo,t.target.value)},value:e.valor})}),!d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center "+h+" py-1"+(m?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){m&&e.verificar_firebase_func()},children:Object(l.jsx)("span",{children:"Verificar"})})}),d&&Object(l.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+h+" py-1",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})}),(r||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger ml-3 mt-2 pr-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(q.a,{isDisabled:P,value:e.opciones_select.filter((function(t){return t.value==e.valor}))[0],onChange:T,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(U.a,{ref:A,value:e.valor&&e.valor.value?e.valor.value:"",onChange:T,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){_(e),S.current=t},defaultOptions:e.opciones_select(null),placeholder:w||I,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&E(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:P,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){R(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){R(e.campo,!e.valor)},children:e.titulo})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text})]}),e.error&&Object(l.jsx)("div",{className:"text-danger form-error mb-3",children:e.error})]})})),K=(a(545),a(476));Object(T.registerLocale)("es",z.default);var X=a(162),$=Object(r.a)((function(e){var t=Object(u.b)(),a=t.loginStore,n=t.registroStore,c=e.textAreaRows||2,r=e.extra_css||"",o=e.set_dato_registro_store||!1,s=e.verificar_boton_clase||"btn-outline-primary",d=e.columnas_sm||e.columnas,j=Object(i.useState)(!1),b=Object(O.a)(j,2),m=b[0],f=b[1],h=Object(i.useState)(!1),x=Object(O.a)(h,2),g=x[0],v=x[1],_=Object(i.useState)(!1),y=Object(O.a)(_,2),C=y[0],w=y[1],k=Object(i.useState)(null),S=Object(O.a)(k,2),A=S[0],D=S[1],I=Object(i.useState)(null),P=Object(O.a)(I,2),R=P[0],E=P[1],T=Object(i.useRef)(null),z=Object(i.useRef)(null),B=Object(N.D)(A,500),L=e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),F={control:function(e){return Object(p.a)(Object(p.a)({},e),{},{border:0,borderBottom:"1px solid #afafaf",color:"#929292",fontWeight:"bolder"})},singleValue:function(e){return Object(p.a)(Object(p.a)({},e),{},{color:"#929292"})},valueContainer:function(e){return Object(p.a)(Object(p.a)({},e),{},{paddingLeft:0})}};if(!1===e.restriccion)return null;var H=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(H=!0);var V=function(t,a,n){e.set_dato(t,a,n)},Y=function(t){e.set_dato_blur(t)},G=function(t,i){e.prepare_dato_registro_store&&(i=e.prepare_dato_registro_store(i)),a.isLoggedIn||n.setDatoRegistroStore(t,i)},J=function(t){t?(E(t.value),V(e.campo,t.value),o&&G(e.campo,t.value)):(V(e.campo,null),o&&G(e.campo,null)),e.select_onchange&&e.select_onchange(t)};return Object(i.useEffect)((function(){v(!0===e.verificar_firebase_autenticado)}),[e.verificar_firebase_autenticado]),Object(i.useEffect)((function(){"select2async"===e.tipo&&e.valor&&e.valor.value&&E(e.valor.value),D("")}),[e.valor]),Object(i.useEffect)((function(){e.opciones_select&&T.current&&e.opciones_select(B).then((function(e){T.current(e)}))}),[B]),Object(l.jsxs)("div",{className:"col-"+e.columnas+" col-lg-"+d+" "+r,children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:e.color?e.color:"var(--naranja-abi)",isOpen:C,close:function(){return w(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)("div",{className:"form-group",children:[e.titulo_externo&&Object(l.jsxs)("span",{className:"titulo-externo-item-field",children:[" ",e.titulo_externo]}),Object(l.jsxs)("div",{style:e.info_internal_icon||e.infoBody?{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #afafaf"}:{},className:e.info_internal_icon||e.infoBody?"icono_interno form-control-container":"form-control-container",children:["numero"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:""!==e.valor?X(e.valor).format("0,0"):"",onBlur:function(t){var a=X(t.target.value).value();if(void 0!==e.numero_minimo&&e.numero_minimo>a&&(a=e.numero_minimo,V(e.campo,a)),o){var n=X(t.target.value).value();G(e.campo,n)}},onChange:function(t){var a=X(t.target.value).value();V(e.campo,a)}}),"decimales"===e.tipo&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:"text",className:"form-control registro",id:e.campo,value:e.valor,onBlur:function(t){V(e.campo,X(t.target.value.replace(".",",")).format("0.00")),o&&G(e.campo,X(t.target.value.replace(".",",")).format("0.00"))},onChange:function(t){V(e.campo,t.target.value)}}),("texto"===e.tipo||"email"===e.tipo||"password"===e.tipo)&&Object(l.jsx)("input",{autoComplete:"off",placeholder:e.titulo,disabled:H,type:e.tipo,className:"form-control registro",id:e.campo,value:void 0!==e.valor&&null!==e.valor?e.valor+"":"",onChange:function(t){V(e.campo,t.target.value)},onBlur:function(t){void 0!==e.campo_blur&&e.campo_blur&&Y(e.campo),o&&G(e.campo,t.target.value)}}),"textarea"===e.tipo&&Object(l.jsx)("textarea",{placeholder:e.titulo,disabled:H,className:"form-control registro",rows:c,id:e.campo,onChange:function(t){return V(e.campo,t.target.value)},value:void 0!==e.valor?e.valor+"":"",onBlur:function(t){o&&G(e.campo,t.target.value)}}),"ckeditor-mini"===e.tipo&&Object(l.jsx)(M.a,{initData:e.valor,onChange:function(t){V(e.campo,t.editor.getData()),o&&G(e.campo,t.target.value)},config:{toolbar:[["Bold","Italic","Strike","Underline","-","Subscript","Superscript"]],placeholder:""}}),"ckeditor-full"===e.tipo&&Object(l.jsx)(M.a,{initData:e.valor,onChange:function(t){V(e.campo,t.editor.getData()),o&&G(e.campo,t.target.value)}}),"fecha"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99/99/9999",onChange:function(t){return V(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"hora"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro",mask:"99:99",onChange:function(t){return V(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"telefono-simple"===e.tipo&&Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H||g,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){V(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),"telefono"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(W.a,{placeholder:e.titulo,disabled:H,className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(t){V(e.campo,t.target.value)},value:e.valor,onBlur:function(t){o&&G(e.campo,t.target.value)}}),!g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center ml-2 "+s+" py-1"+(e.verificar_firebase_habilitado?"":" disabled"),title:"Verificar n\xfamero de tel\xe9fono",onClick:function(){e.verificar_firebase_habilitado?(f(!1),e.verificar_firebase_func()):f(!0)},children:Object(l.jsx)("span",{children:"Verificar"})})}),g&&Object(l.jsx)("div",{className:"d-flex justify-content-start align-items-center pl-0",children:Object(l.jsx)("button",{className:"d-flex btn justify-content-center  "+s+" py-1 ml-2",title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){return e.verificar_firebase_reset()},children:Object(l.jsx)("span",{children:"Cambiar"})})})]}),(m||e.verificar_firebase_error)&&Object(l.jsx)("div",{className:"text-danger mt-2",children:e.verificar_firebase_error?e.verificar_firebase_error:"Debe ingresar un n\xfamero v\xe1lido para poder verificar"})]}),"select2"===e.tipo&&void 0!==e.opciones_select&&Object(l.jsx)("div",{children:Object(l.jsx)(q.a,{isDisabled:H,value:e.opciones_select.filter((function(t){return t.value===e.valor}))[0],onChange:J,options:e.opciones_select,placeholder:void 0!==e.select_placeholder?e.select_placeholder:"Seleccionar "+e.titulo.toLocaleLowerCase(),isClearable:!0,isMulti:e.select_multiple,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary:"#303AB2",neutral50:"black"})})}})}),"select2async"===e.tipo&&void 0!==e.opciones_select&&null!==A&&Object(l.jsx)("div",{className:"asyncselect",children:Object(l.jsx)(U.a,{ref:z,styles:F,value:e.valor&&e.valor.value?e.valor.value:"",onChange:J,loadingMessage:function(){return"Cargando.."},loadOptions:function(e,t){D(e),T.current=t},defaultOptions:e.opciones_select(null),placeholder:R||L,isClearable:!0,noOptionsMessage:e.select_no_options_text?function(t){return e.select_no_options_text||null}:void 0,theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary:"#929292",neutral50:"#929292"})})},onBlur:function(){void 0!==e.campo_blur&&e.campo_blur&&Y(e.campo)}})}),"boolean"===e.tipo&&Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{autoComplete:"off",disabled:H,type:"checkbox",id:e.campo,checked:!0===e.valor,onClick:function(){V(e.campo,!e.valor),o&&G(e.campo,!e.valor)}}),Object(l.jsx)("label",{id:e.campo,onClick:function(){V(e.campo,!e.valor)},children:e.titulo})]}),e.info_internal_icon&&Object(l.jsx)(l.Fragment,{children:e.info_internal_icon}),!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)("a",{onClick:function(){return w(!0)},children:Object(l.jsx)("img",{style:{height:"30px",width:"30px"},src:"assets/icon/info.png"})})]}),void 0!==e.help_text&&Object(l.jsx)("small",{children:e.help_text}),e.error&&Object(l.jsx)("div",{className:"text-danger",children:e.error})]})]})})),ee=$,te=a(509),ae=a(478),ne=(a(491),a(511)),ie=(a(521),a(519),a(485),a(506),a(507),a(508),a(526),a(522),a(592)),ce=a(1544),re=a(1515),oe=a(1543),se=a(1545),le=(Object(r.a)((function(e){var t=e.duracion||5e3,a=e.titulo||"",n=e.tipo||"warning",i=e.texto||"Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos",c="#ffffff",r="#000000",o="#000000";switch(n){case"success":""===a&&(a="Exito"),c="#dfffef",r="#005837",o="#1DBF73";break;case"warning":""===a&&(a="Atenci\xf3n"),c="#fdffe5",r="#935604",o="#ff9100";break;case"danger":""===a&&(a="Atenci\xf3n"),c="#ffebe5",r="#c50000",o="#c50000";break;case"info":c="#ffffff",r="#54577b",o="#2633d0"}return Object(l.jsxs)(ie.a,{style:{position:"absolute",top:10,right:10,backgroundColor:c,zIndex:99999},onClose:function(){return e.setVisible(!1)},show:e.visible,delay:t,autohide:!0,children:[Object(l.jsx)(ie.a.Header,{children:Object(l.jsx)("strong",{className:"mr-auto",children:a})}),Object(l.jsx)(ie.a.Body,{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2 m-0 p-0 d-flex",children:["success"===n&&Object(l.jsx)(ce.a,{className:"mx-auto my-auto",color:o,size:25}),"warning"===n&&Object(l.jsx)(re.a,{className:"mx-auto my-auto",color:o,size:25}),"danger"===n&&Object(l.jsx)(oe.a,{className:"mx-auto my-auto",color:o,size:25}),"info"===n&&Object(l.jsx)(se.a,{className:"mx-auto my-auto",color:o,size:25})]}),Object(l.jsx)("div",{className:n?"col-10 pl-0":"col-10",children:Object(l.jsx)("span",{style:{color:r},children:i})})]})})]})})),a(501)),de=(a(555),Object(r.a)((function(e){return Object(l.jsxs)("div",{className:"header-body",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)(I.a,{size:30,onClick:e.direccion,color:"white"})}),Object(l.jsx)("div",{className:"col-8 px-0",children:Object(l.jsx)("span",{className:"titulo-header-app",children:e.titulo})}),e.boton_derecha&&Object(l.jsx)("div",{className:"col-2",children:e.boton_derecha})]})})),a(518)),ue=(a(228),a(497),a(124)),je=a(1733),be=a(570),me=(Object(r.a)((function(e){var t=Object(o.e)(),a=Object(u.b)(),n=a.loginStore,c=a.carritoStore,r=e.movil?120:200,s=e.movil?150:220,d=(e.movil,e.extra_css,Object(i.useState)(!1)),b=Object(O.a)(d,2),m=b[0],f=b[1],h=Object(i.useState)(""),g=Object(O.a)(h,2),v=g[0],_=g[1],y=Object(i.useState)(""),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useState)(null),A=Object(O.a)(S,2),D=A[0],I=A[1],P=Object(i.useState)(1),E=Object(O.a)(P,2),T=E[0],z=E[1],B=Object(N.L)(),L=e.item,F=L.imagenes.length>0?L.imagenes[0].imagen:"assets/abi-logo-producto.png",M=function(e){if(e.no_apto_menores){var t=B();if(10!==t.case)return _(t.title),k(t.message),I(t.action),f(!0),!1}var i;c.productos.find((function(t){return t.id===e.id}))?c.sumarProducto(e):(i=Object(p.a)(Object(p.a)({},e),{},{cantidad:1,fabricante:e.fabricante.nombre,imagenes:e.imagenes.length>0?e.imagenes[0].imagen:"",categoria:e.categoria.nombre}),c.addProducto(i)),n.isLoggedIn&&a.environment.api.agregarEliminarProductoCarrito(e.id,null).then((function(e){e.kind}))},q=function(e){t.push(j.m.PRODUCTO_DETAIL(e.id,Object(N.m)(e.nombre)))};return Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)(x.a,{isOpen:m,onDidDismiss:function(){return f(!1)},header:"Acceso restringido",message:w,buttons:D?[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:v,handler:D}]:[{text:"Cancelar",role:"cancel",cssClass:"secondary"}]}),Object(l.jsxs)("div",{className:"container-tarjeta-producto",children:[Object(l.jsx)("div",{style:{display:"flex",minHeight:s,justifyContent:"center",alignItems:"center"},onClick:function(){return q(L)},children:Object(l.jsx)("img",{className:"my-2",src:F,alt:"item",style:{height:"auto",width:r}})}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(l.jsx)("div",{children:Object(l.jsx)(je.a,{name:"read-only",size:"small",value:L.fabricante.rating,readOnly:!0})}),Object(l.jsx)("span",{className:"sub-titulo-producto-inicio",style:{whiteSpace:"pre-wrap",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis"},onClick:function(){return q(L)},children:L.nombre}),Object(l.jsx)("p",{onClick:function(){return q(L)},className:"sub-titulo-producto-inicio-precio",children:Object(R.o)(L.precio_mayorista)})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingLeft:5,paddingRight:5},children:[Object(l.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-start"},children:Object(l.jsx)("div",{onClick:function(){return M(L)},children:Object(l.jsx)("img",{src:"assets/icon/corazon.png",className:"icono-tarjeta-producto"})})}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(l.jsx)("div",{onClick:function(){return z(T+1)},children:Object(l.jsx)(be.b,{size:30,color:"var(--gris-claro-abi)"})}),Object(l.jsx)("span",{style:{marginLeft:10,marginRight:10},children:T}),Object(l.jsx)("div",{onClick:function(){return z(T+1)},children:Object(l.jsx)(be.a,{size:30,color:"var(--gris-claro-abi)",className:"icono-add"})})]}),Object(l.jsx)("div",{onClick:function(){return M(L)},style:{flex:1,display:"flex",justifyContent:"flex-end"},children:Object(l.jsx)("img",{src:"assets/icon/carrito-gray.png",className:"icono-tarjeta-producto"})})]}),Object(l.jsx)("br",{})]})]})})),a(0)),fe=a.n(me),pe=a(2),he=(a(514),a(226)),Oe=a(145),xe=a(510),ge=a.n(xe),ve=Object(r.a)((function(e){var t=Object(i.useState)(!1),a=Object(O.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(""),o=Object(O.a)(r,2),s=o[0],d=o[1],u=Object(i.useState)(""),j=Object(O.a)(u,2),m=j[0],f=j[1],p=Object(i.useState)(!1),h=Object(O.a)(p,2),g=h[0],v=h[1],_=e.camera_direction?e.camera_direction:0,N=(/Mobi/.test(navigator.userAgent),e.color||"#303AB2"),y=e.class_boton_aceptar||"btn-outline-primary";"web"===b.Capacitor.getPlatform()&&(_=1);var C=function(){var e=Object(pe.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:_});case 3:t=e.sent,f(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var t=Object(pe.a)(fe.a.mark((function t(){var a,n,i,r;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==b.Capacitor.getPlatform()){t.next=9;break}return t.next=4,Oe.a.getPhoto({resultType:Oe.c.Uri,source:Oe.d.Prompt,direction:0===_?Oe.b.Rear:Oe.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return a=t.sent,n=a.webPath||"",f(n),!1===e.open_modal&&(c(!1),d(n),e.on_select(n)),t.abrupt("return");case 9:return t.next=11,he.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 11:(i=t.sent)&&(r="ios"===b.Capacitor.getPlatform()?"":"file://",i.startsWith(r)||(i=r+i)),f(i||""),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),k=function(){!1!==e.open_modal||"web"!==b.Capacitor.getPlatform()?(f(s),c(!0)):w()},S=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsx)("div",{className:"helptext-div col-12",children:e.helptext}),Object(l.jsx)("div",{className:"helptext-img-div mt-2 col-12",children:e.img_path&&Object(l.jsx)("img",{src:m?b.Capacitor.convertFileSrc(m):e.img_path,className:m?"helptext-img-div-img":"helptext-img-div-img-smaller",width:150})}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:["web"!==b.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(l.jsx)("button",{className:"btn "+y+" col-12",onClick:C,children:"SACAR FOTO"}),Object(l.jsx)("button",{className:"btn "+y+" col-12 mt-2",onClick:w,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[!!e.infoTitulo&&!!e.infoBody&&!!e.modal_info_css_class&&Object(l.jsx)(K.a,{color:N,isOpen:g,close:function(){return v(!1)},titulo:e.infoTitulo,cssClass:"modal-info-image-loader ".concat(e.modal_info_css_class),children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:n,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:S}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){c(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+y+" btn-block",onClick:function(){c(!1),m&&(d(m),e.on_select(m,e.userdata))},disabled:""===m,children:"ACEPTAR"})})]})})]}),e.perfil&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center pt-2",children:Object(l.jsx)("div",{style:{borderColor:N},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.disable?function(){}:k,children:Object(l.jsx)("img",{alt:"Imagen de perfil",style:{width:"100%",height:"100%",objectFit:"cover"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),e.titulo_label&&Object(l.jsx)("div",{className:"input-group mb-3",children:Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(l.jsx)("img",{onClick:e.disable?function(){}:k,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:e.disable?function(){}:k,style:{color:N},children:e.titulo_label}),e.titulo_boton?Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(l.jsx)("img",{onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.perfil&&!!e.children&&Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.children}),!e.perfil&&!e.children&&Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(l.jsx)("span",{className:"boton-photo-loader-registro-no-perfil text-gray font-weight-bold mr-2",onClick:e.disable?function(){}:k,children:e.titulo_label}),m&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),!m&&Object(l.jsx)("img",{className:"info-image",onClick:function(){return v(!0)},alt:"",src:"assets/icon/info.png"})]})})]})})),_e=(a(556),Object(r.a)((function(e){var t=Object(u.b)().registroStore,a=Object(i.useState)(""),n=Object(O.a)(a,2),c=n[0],r=n[1],o=e.color||"#303AB2",d=e.class_boton_aceptar||"btn-outline-primary",j=Object(i.useState)(20),b=Object(O.a)(j,2),m=b[0],p=b[1],h=Object(i.useState)(0),g=Object(O.a)(h,2),v=g[0],_=g[1],N=Object(i.useRef)(0),y=Object(i.useRef)(null);Object(i.useEffect)((function(){e.animate&&(y.current=setInterval((function(){_(N.current+1),N.current=N.current+1,N.current>6&&clearInterval(y.current)}),100))}),[e.animate]),Object(i.useEffect)((function(){if(m>0){var e=setTimeout((function(){return p(m-1)}),1e3);return function(){return clearTimeout(e)}}}),[m]);return Object(l.jsxs)(x.q,{isOpen:!!e.visible,id:"modal-carrito",swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-codigo-firebase",children:[Object(l.jsx)(f,{color:o,botonIzquierdo:Object(l.jsx)("span",{onClick:function(){return e.callback(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:"Verifique su n\xfamero"}),Object(l.jsx)("div",{className:"text-center titulo",children:Object(l.jsxs)("span",{children:["Se ha enviado el c\xf3digo de verificaci\xf3n al n\xfamero ",Object(R.l)(t.nro_telefono)]})}),Object(l.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[v<1&&Object(l.jsxs)("div",{className:"pin-container",children:[Object(l.jsx)("input",{type:"number",pattern:"\\d*",className:"pin-input",maxLength:6,value:c,onChange:function(e){var t=e.target.value;r(t?t.substring(0,6):"")}}),Object(l.jsxs)("div",{className:"lineas",children:[Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"}),Object(l.jsx)("div",{className:"linea"})]})]}),v>=1&&Object(l.jsx)("div",{className:"input-dot",children:"\u2022"}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:55},children:v>=2?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:100},children:v>=3?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:145},children:v>=4?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:190},children:v>=5?"\u2022":""}),v>=1&&Object(l.jsx)("div",{className:"input-dot",style:{left:235},children:v>=6?"\u2022":""})]}),Object(l.jsxs)("div",{style:{height:200,display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly"},children:[!m&&Object(l.jsxs)("div",{style:{textAlign:"center"},children:[Object(l.jsx)("div",{className:"sub-titulo-login-abi mt-3",children:"\xbfNo recibiste el c\xf3digo?"}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",children:Object(l.jsxs)("div",{className:"py-3 cpointer",onClick:function(){return e.close()},style:{color:o},children:["Solicit\xe1 un ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:" nuevo c\xf3digo"})]})})]}),Object(l.jsx)("p",{className:"cpointer text-center",onClick:function(){e.callback("-1")},children:"Omitir este paso"}),Object(l.jsx)("h5",{style:{textAlign:"center"},children:Object(l.jsx)("a",{style:{fontWeight:"bold",width:"fit-content",color:o},href:"https://wa.me/595981840840",children:"Contactanos"})})]}),Object(l.jsx)("div",{className:"text-center mb-auto mt-3"}),Object(l.jsx)(et,{className:"py-4 px-5 ",children:Object(l.jsx)("button",{style:o?{backgroundColor:o,color:"#FFF"}:{},className:d+" boton-continuar",onClick:function(){return e.callback(c)},children:"Continuar"})})]})}))),Ne=(a(557),a(527)),ye=a.n(Ne),Ce=(a(144).BASE_URL,ye()({iconFilled:{color:"var(--naranja-abi)"},iconHover:{color:"var(--naranja-abi)"}})(je.a)),we=Object(r.a)((function(e){var t=Object(u.b)(),a=Object(i.useState)(!1),n=Object(O.a)(a,2),c=n[0],r=n[1],o=Object(i.useState)(""),s=Object(O.a)(o,2),d=s[0],j=s[1],b=Object(i.useState)(""),m=Object(O.a)(b,2),f=m[0],p=m[1],h=Object(i.useState)(3),g=Object(O.a)(h,2),v=g[0],_=g[1],y=Object(i.useState)(""),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useState)(!1),A=Object(O.a)(S,2),D=A[0],I=A[1],P=Object(N.A)();Object(i.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:D?"":"modal-calificacion-transportista",onDidPresent:function(){I(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:c,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var a=t.pedidoCalificar;a&&t.environment.api.calificar(a.id_pedido,a.tipo_calificacion,a.id_calificar,v,w).then((function(e){P(e,"Calificaci\xf3n enviada exitosamente!","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"calificaicion-header d-flex justify-content-between p-2 btn",style:{backgroundColor:e.color},children:[Object(l.jsxs)("span",{className:"text-truncate",style:{maxWidth:300,color:"#fff",fontWeight:"bolder"},children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al driver"]}),Object(l.jsx)(oe.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",style:{flex:1},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsxs)("span",{className:"nombre-cliente",children:["\xbfC\xf3mo fue tu experiencia con ",t.pedidoCalificar.nombre,"?"]})}),Object(l.jsx)(Ce,{className:"mx-auto mt-2",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{style:{textAlign:"center",color:"var(--gris-oscuro)"},children:"Comentarios"}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"",style:{backgroundColor:"#fff",width:"80%",border:"3px solid var(--gris-claro)",borderRadius:4},onChange:function(e){k(e.target.value)}})]}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("div",{className:"boton-calificar w-100",onClick:function(){return function(){var e="",a=t.pedidoCalificar;e=a&&20===a.tipo_calificacion?"la experiencia":a&&10===a.tipo_calificacion?"al cliente":"al driver",r(!0),p("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"Valorar"})})})]})]})})})),ke=(a(558),a(528),a(1068)),Se=a(529),Ae=Object(r.a)((function(e){var t=Object(u.b)(),a=t.transportistaStore,n=Object(i.useState)(!0),c=Object(O.a)(n,2),r=(c[0],c[1],Object(i.useState)(!1)),s=Object(O.a)(r,2),d=s[0],b=s[1],m=Object(i.useState)(),f=Object(O.a)(m,2),p=f[0],h=f[1],g=Object(i.useState)(),v=Object(O.a)(g,2),_=v[0],N=v[1],y=Object(i.useState)(!1),C=Object(O.a)(y,2),k=C[0],S=C[1],A=Object(i.useState)([]),D=Object(O.a)(A,2),I=D[0],P=D[1],R=Object(i.useState)(!1),E=Object(O.a)(R,2),T=E[0],z=E[1],B=Object(o.e)();Object(i.useEffect)((function(){N(a.itinerarioActivo)}),[a.itinerarioActivo]),Object(i.useEffect)((function(){h(a.hojaRutaActiva)}),[a.hojaRutaActiva]);return Object(l.jsxs)("div",{className:d?"footer-home-transportista open":"footer-home-transportista closed",children:[_&&Object(l.jsxs)(x.q,{isOpen:k,onDidDismiss:function(){return S(!1)},swipeToClose:!0,backdropDismiss:!0,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:_.tipo===j.u.ENTREGA?"Entrega":"Retiro"})})}),Object(l.jsxs)(x.g,{children:[Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Ciudad: "}),_.direccion_itinerario&&_.direccion_itinerario.ciudad_nombre]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle principal: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_principal]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Calle secundaria: "}),_.direccion_itinerario&&_.direccion_itinerario.calle_secundaria]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"N\xfamero: "}),_.direccion_itinerario&&_.direccion_itinerario.numero]})}),Object(l.jsx)(x.n,{children:Object(l.jsxs)("span",{className:"py-3",children:[Object(l.jsx)("strong",{children:"Referencia: "}),_.direccion_itinerario&&_.direccion_itinerario.referencia]})})]}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",onClick:function(){return S(!1)},children:"Cerrar"})})})})]}),e.loading?Object(l.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(l.jsx)(x.z,{name:"crescent",className:"loadingSpinner"})}):d||_?d?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"d-flex flex-column justify-content-start",style:{width:"100%"},children:[Object(l.jsx)("div",{className:"row",style:{width:"100%"},children:Object(l.jsxs)("div",{className:"col-12 buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw",width:"100%"},onClick:function(){return b(!1)},children:[Object(l.jsx)("div",{children:Object(l.jsx)(w.a,{size:32})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})}),T&&Object(l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"100%"},children:Object(l.jsx)(x.z,{})}),!T&&!!I&&(null===I||void 0===I?void 0:I.length)>0&&Object(l.jsx)(x.g,{children:I.map((function(e){var t,a,n,i;return Object(l.jsxs)("div",{className:"oportunidades-list-item col-12 pt-2",children:[Object(l.jsxs)("div",{className:"datos-empresa",style:{lineHeight:"0.8rem"},children:[Object(l.jsxs)("div",{className:"mb-1",style:{fontWeight:"bold",fontSize:"0.8rem"},children:[e.inicio.fabricante,(null===(t=e.inicio.direccion_itinerario)||void 0===t?void 0:t.nombre)&&", ",null===(a=e.inicio.direccion_itinerario)||void 0===a?void 0:a.nombre]}),Object(l.jsxs)("p",{children:[null===(n=e.inicio.direccion_itinerario)||void 0===n?void 0:n.calle_principal," N\u0970"," ",null===(i=e.inicio.direccion_itinerario)||void 0===i?void 0:i.numero]}),Object(l.jsxs)("div",{className:"datos-punto-itinerario",children:[Object(l.jsx)("img",{src:"assets/icon/oportunidades.png"}),Object(l.jsx)("strong",{children:"Punto de retiro: "}),Object(l.jsxs)("span",{children:[e.inicio.tiempo_en_transito+e.inicio.tiempo_parada_calculado," min -"," ",e.inicio.distancia," km"]}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:"assets/icon/arrival_flag.png"}),Object(l.jsx)("strong",{children:"Punto de entrega: "}),Object(l.jsxs)("span",{children:[e.fin.tiempo_en_transito+e.fin.tiempo_parada_calculado," min - ",e.fin.distancia," ","km"]})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{onClick:function(){var t=new URLSearchParams(window.location.search);t.set("oportunidad",String(e.id)),B.push(j.n.HOME+"?"+t.toString()),b(!1)},children:Object(l.jsx)(Se.b,{})})})]},"oportunidad-"+e.id)}))}),!T&&!!I&&0===(null===I||void 0===I?void 0:I.length)&&Object(l.jsx)("div",{className:"d-flex justify-content-center align-content-center",children:Object(l.jsx)("p",{className:"text-center",children:"Todav\xeda no se encuentran oportunidades."})})]})}):Object(l.jsx)("div",{children:p&&_&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container flex-fill",children:Object(l.jsxs)("div",{className:"row align-items-start",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista",style:{backgroundColor:"var(--danger)"},onClick:function(){return e.onAbandonarItinerarioCliked(_)},children:"Abandonar"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn-principal-transportista ",style:{backgroundColor:"var(--success)"},onClick:function(){return e.onEjecutarItinerarioClicked(_)},children:"Llegu\xe9"})})]})})})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"col buscando-oportunidad justify-content-start d-flex align-items-center",style:{gap:"5vw"},onClick:function(){b(!0),z(!0),t.environment.api.oportunidades().then((function(e){"ok"===e.kind&&(z(!1),P(e.data))}))},children:[Object(l.jsx)("div",{children:Object(l.jsx)(ke.a,{size:40})})," ",e.buscandoOportudidad&&Object(l.jsx)("strong",{children:"Buscando oportunidades"})]})})]})})),De=(a(517),a(560),a(1546)),Ie=[1,2,3,4,5,6,7,8,9],Pe=Object(r.a)((function(e){var t=Object(i.useState)(""),a=Object(O.a)(t,2),n=a[0],c=a[1],r=function(t){null==t?c(n.substr(0,n.length-1)):n.length<e.maxlen&&c(n+t)};return e.visible?Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:"modal-numpad",onDidDismiss:function(){return e.onVolver()},children:[Object(l.jsxs)("div",{className:"oportunidades-header",style:e.color?{backgroundColor:e.color}:{backgroundColor:"#303ab2"},children:[Object(l.jsx)(I.a,{size:30,onClick:function(){e.onVolver(),c("")},color:"white"}),Object(l.jsx)("span",{style:{fontSize:18},children:e.titulo})]}),Object(l.jsx)(x.g,{children:Object(l.jsxs)("div",{className:"numpad-container",children:[Object(l.jsx)("div",{className:"col-12 numpad-maindiv",children:Object(l.jsx)("span",{children:n})}),Ie.map((function(e){return Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(e)},children:Object(l.jsx)("span",{children:e})},"numpad-".concat(e))})),Object(l.jsx)("div",{className:"col-4 numpad-key"}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(0)},children:Object(l.jsx)("span",{children:"0"})}),Object(l.jsx)("div",{className:"col-4 numpad-key",onClick:function(){return r(null)},children:Object(l.jsx)("span",{children:Object(l.jsx)(De.a,{})})})]})}),Object(l.jsx)("div",{className:"mb-2 mx-2 p-2",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("button",{className:"btn btn-outline-orange btn-block",style:e.color?{borderColor:e.color,color:e.color}:{},onClick:function(){e.onAceptar(n),c("")},children:"Aceptar"})})})})]}):null})),Re=(a(561),a(144).BASE_URL),Ee=ye()({iconFilled:{color:"#303AB2"},iconHover:{color:"#303AB2"}})(je.a),Te={1:"Muy malo",2:"Malo",3:"Bueno",4:"Muy bueno",5:"Excelente!"},ze=(Object(r.a)((function(e){var t=Object(u.b)(),a=Object(i.useState)(!1),n=Object(O.a)(a,2),c=n[0],r=n[1],o=Object(i.useState)(""),s=Object(O.a)(o,2),d=s[0],j=s[1],b=Object(i.useState)(""),m=Object(O.a)(b,2),f=m[0],p=m[1],h=Object(i.useState)(3),g=Object(O.a)(h,2),v=g[0],_=g[1],y=Object(i.useState)(""),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useState)(!1),A=Object(O.a)(S,2),D=A[0],P=A[1],R=Object(N.A)();Object(i.useEffect)((function(){_(3),k("")}),[e.visible]);return t.pedidoCalificar&&e.visible&&Object(l.jsx)("div",{children:Object(l.jsxs)(x.q,{isOpen:e.visible,cssClass:D?"":"modal-calificacion",onDidPresent:function(){P(window.innerWidth<=500)},onDidDismiss:function(){return e.onCerrar()},children:[Object(l.jsx)(x.a,{isOpen:c,onDidDismiss:function(){return r(!1)},header:f,message:d,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return function(){var a=t.pedidoCalificar;a&&t.environment.api.calificar(a.id_pedido,a.tipo_calificacion,a.id_calificar,v,w).then((function(e){R(e,"Calificado correctamente","calificar")})),e.onAceptar()}()}}]}),Object(l.jsxs)("div",{className:"transportista-header",children:[Object(l.jsx)(I.a,{size:30,onClick:function(){return e.onCerrar()},color:"white"}),Object(l.jsxs)("span",{children:[20===t.pedidoCalificar.tipo_calificacion&&"Calificar experiencia de compra",10===t.pedidoCalificar.tipo_calificacion&&"Calificar al cliente",30===t.pedidoCalificar.tipo_calificacion&&"Calificar al transportista"]})]}),Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("div",{className:"imagen-perfil-container mx-auto d-flex mb-4 ml-0",children:t.pedidoCalificar.imagen?Object(l.jsx)("img",{alt:"imagen de perfil",src:Re+t.pedidoCalificar.imagen}):Object(l.jsxs)("span",{children:[" ",Object(l.jsx)("br",{})," "]})}),Object(l.jsx)("span",{className:"nombre-cliente",children:t.pedidoCalificar.nombre})]}),Object(l.jsxs)("div",{className:"calificacion-cliente-container text-center",children:[Object(l.jsx)(Ee,{className:"mx-auto mt-5",name:"size-large",value:v,size:"large",onChange:function(e,t){"number"===typeof t&&_(t)}}),Object(l.jsx)("div",{className:"mt-3",children:null!==v&&Object(l.jsx)("h3",{className:"text-center",children:Te[v]})}),Object(l.jsx)("textarea",{rows:5,placeholder:"Deje un comentario",value:w,className:"mx-4 mt-2",onChange:function(e){k(e.target.value)}}),Object(l.jsx)("div",{className:"boton-calificar my-5 mx-5",onClick:function(){return function(){var e="",a=t.pedidoCalificar;e=a&&20===a.tipo_calificacion?"la experiencia":a&&10===a.tipo_calificacion?"al cliente":"al transportista",r(!0),p("Calificar "+e),j("Confirma que desea calificar "+e+"?")}()},children:"CALIFICAR"})]})]})})})),a(516)),Be=(a(562),a(591)),Le=a.n(Be),Fe=a(479),Me=Object(r.a)((function(e){var t=Object(i.useState)(!1),a=Object(O.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(!1),s=Object(O.a)(o,2),d=s[0],u=s[1],j=Object(i.useState)(null),m=Object(O.a)(j,2),f=m[0],p=m[1],h=Object(i.useState)(!1),g=Object(O.a)(h,2),v=g[0],_=g[1],y=Object(i.useRef)(null),C=e.color||"#303AB2",w=e.class_boton_aceptar||"btn-outline-primary",k=Object(N.J)();c.a.useEffect((function(){e.preview&&p(e.preview)}),[]);var S=function(){var e=Object(pe.a)(fe.a.mark((function e(){var t,a,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),"web"!==b.Capacitor.getPlatform()){e.next=4;break}return y.current.click(),e.abrupt("return");case 4:return e.next=6,he.a.getPicture({sourceType:2,destinationType:1,mediaType:he.a.MediaType.VIDEO});case 6:if(!(t=e.sent)){e.next=14;break}return a="ios"===b.Capacitor.getPlatform()?"":"file://",t.startsWith(a)||(t=a+t),e.next=12,Fe.a.readFile({path:t});case 12:n=e.sent,t="data:video/mp4;base64,".concat(n.data);case 14:p(t),r(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){u(!0)},D=e.modal_content?e.modal_content:Object(l.jsxs)("div",{className:"photoload-content-container p-2 mt-auto",children:[Object(l.jsxs)("div",{className:"helptext-div px-2",children:[Object(l.jsx)("p",{children:"Todos los videos que ser\xe1n publicadas en ABi, deben cumplir los siguientes est\xe1ndares:"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 col-lg-4 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/mp4.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-2",style:{textAlign:"center"},children:"Archivos MP4/ H.264"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold",textAlign:"center"},children:"FORMATO"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4 mt-2 mt-lg-0 text-center",children:[Object(l.jsxs)("div",{style:{textAlign:"center",fontSize:14},children:["Aspecto: 640 x 360 px",Object(l.jsx)("br",{}),"(ancho x alto)"]}),Object(l.jsx)("div",{className:"mt-2",children:"Proporci\xf3n 16:9"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"TAMA\xd1O"})]}),Object(l.jsxs)("div",{className:"col-12 col-lg-4  mt-2 mt-lg-0 text-center",children:[Object(l.jsx)("img",{src:"assets/icon/sync-file.svg",style:{width:40}}),Object(l.jsx)("div",{className:"mt-1",children:"M\xe1x. 10MB"}),Object(l.jsx)("div",{className:"mt-lg-2",style:{color:"#ffa300",fontWeight:"bold"},children:"PESO"})]}),Object(l.jsxs)("div",{className:"col-12 mt-4",children:["Duraci\xf3n m\xednima: 3 seg",Object(l.jsx)("br",{}),"Duraci\xf3n m\xe1xima: 1 min",Object(l.jsx)("br",{}),"Relaci\xf3n o aspecto del video: 16:9",Object(l.jsx)("br",{}),"Formato: MP4/H.264",Object(l.jsx)("br",{}),"Subt\xedtulo de video: opcional, texto centrado, evitar ocupar los m\xe1rgenes del material.",Object(l.jsx)("br",{}),"Sonido de video: voz en off, m\xfasicas con permisos de copyright."]})]})]}),Object(l.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(l.jsx)("input",{type:"file",accept:"video/mp4",ref:y,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];if(t.size>10485760)k("El video no puede pesar m\xe1s de 10 megabytes");else{var a=new FileReader;a.onload=function(e){p(e.target.result),r(!1)},a.readAsDataURL(t)}}},style:{display:"none"}}),Object(l.jsx)("button",{className:"btn "+w+" col-12 mt-2",onClick:S,children:"ELEGIR DE LA GALER\xcdA"})]})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(l.jsx)(K.a,{color:C,isOpen:v,close:function(){return _(!1)},titulo:e.infoTitulo,cssClass:"requisitos-foto-perfil",children:e.infoBody}),Object(l.jsxs)(x.q,{isOpen:d,backdropDismiss:!1,children:[Object(l.jsx)(x.j,{children:Object(l.jsx)(x.C,{children:Object(l.jsx)(x.A,{children:e.titulo_modal})})}),Object(l.jsx)(x.g,{children:D}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){u(!1)},children:"CANCELAR"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("button",{className:"btn "+w+" btn-block",onClick:function(){u(!1),e.on_select(f)},disabled:""===f||n,children:"ACEPTAR"})})]})})]})]}),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsx)("div",{style:{borderColor:C,width:640,height:360,maxWidth:"100%"},className:e.extra_css_class,children:Object(l.jsx)("video",{controls:!0,style:{width:640,height:360,maxWidth:"100%"},className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:f||""})})}),Object(l.jsxs)("div",{className:"input-group mb-3 justify-content-center",style:{flexDirection:"column"},children:[!e.disabled&&Object(l.jsxs)("div",{className:"boton-photo-loader-registro d-flex flex-row align-items-center justify-content-center",children:[!f&&Object(l.jsx)(Le.a,{onClick:A,style:{fontSize:22,color:"#67757c"}}),f&&Object(l.jsx)(ge.a,{style:{fontSize:22,color:"#28a745"}}),Object(l.jsx)("span",{className:"mx-2",onClick:A,style:{color:C},children:e.titulo_label}),e.titulo_boton&&Object(l.jsx)("div",{style:{color:e.color},children:e.titulo_boton})]}),f&&Object(l.jsx)("div",{className:"cpointer text-center",onClick:function(){e.on_select(null),p(null)},children:Object(l.jsx)("strong",{children:"Eliminar"})})]})]})]})})),qe=(a(563),Object(r.a)((function(e){var t=Object(N.J)(),a=Object(i.useState)(e.url),n=Object(O.a)(a,2),r=n[0],o=n[1],d=Object(i.useState)(!1),u=Object(O.a)(d,2),j=u[0],b=u[1],m=Object(i.useState)(350),p=Object(O.a)(m,2),h=p[0],g=p[1],v=Object(i.useState)(!1),_=Object(O.a)(v,2),y=_[0],C=_[1];c.a.useEffect((function(){o(e.url)}),[e.url]),c.a.useEffect((function(){b(e.visible)}),[e.visible]);var w=function(a){a.data.message&&-1!==["add_new_card_fail","add_new_card_success"].indexOf(a.data.message)&&("add_new_card_fail"===a.data.message?alert(a.data.details):(t("Tarjeta agregada exitosamente","success"),e.successCallback()),b(!1),o(null)),g(a.data.iframeHeight+1)};return c.a.useEffect((function(){return window.addEventListener("message",(function(e){w(e)})),function(){window.removeEventListener("message",(function(e){w(e)}))}}),[]),j?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(x.q,{isOpen:j,id:"modal-agregar-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){b(!1),o(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:"Registrar tarjeta"}),Object(l.jsxs)("div",{className:"texto-info",children:["Introduc\xed todos los datos de tu tarjeta, \xa1dale guardar y empez\xe1 a hacer tus compras!",Object(l.jsx)("img",{alt:"Recomendaciones",onClick:function(){return C(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(l.jsx)("div",{style:{padding:20},children:!!r&&Object(l.jsx)("iframe",{src:r,height:"100%",width:"100%",style:{border:0,height:h}})}),Object(l.jsx)("div",{children:"\xa0"})]}),Object(l.jsx)(x.q,{isOpen:y,id:"info-tarjeta",cssClass:"modal-info-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Datos de las tarjetas"})}),Object(l.jsx)("div",{onClick:function(){return C(!1)},children:Object(l.jsx)(oe.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(l.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("img",{alt:"Informaci\xf3n",src:"assets/info-datos-tarjeta.png",style:{padding:"24px"}})})]})})]}):null}))),Ue=a(482),He=a(484),We=(a(483),a(564),a(1)),Ve=a(87),Ye=a.n(Ve),Ge=a(1547),Je=a(505),Qe=a(229),Ze=(a(565),c.a.forwardRef((function(e,t){var a=Object(u.b)(),n=a.carritoStore,r=Object(i.useState)(null),o=Object(O.a)(r,2),d=o[0],j=o[1],b=Object(i.useState)(!1),m=Object(O.a)(b,2),p=m[0],h=m[1],g=Object(i.useState)(350),v=Object(O.a)(g,2),_=v[0],N=v[1],y=3===n.medioPago?"Tigo Money":"Tarjeta de d\xe9bito o cr\xe9dito ocasional",C=Object(i.useRef)(null),w=Object(i.useRef)(null);Object(i.useImperativeHandle)(t,(function(){return{iniciarPago:function(e,t){w.current=e,j(t),h(!0)}}}));var k=function(t){w.current&&a.environment.api.verificarTransaccion(w.current,t).then((function(t){"ok"===t.kind&&(3===n.medioPago?"success"===t.data.status?(clearInterval(C.current),h(!1),e.successCallback()):"fail"===t.data.status||"reverted"===t.data.status?(clearInterval(C.current),alert("Lo sentimos, ocurri\xf3 un error al procesar el pago"),h(!1)):"cancel"===t.data.status&&(clearInterval(C.current),h(!1)):t.data.transaccion_error_description?(clearInterval(C.current),alert(t.data.transaccion_error_description),h(!1)):"00"===t.data.transaccion_response_code&&(clearInterval(C.current),h(!1),e.successCallback()))}))},S=function(t){t.data.message&&-1!==["payment_fail","payment_success"].indexOf(t.data.message)&&("payment_success"===t.data.message?e.successCallback():t.data.details?(alert(t.data.details),h(!1)):k("bancard")),t.data.iframeHeight&&N(t.data.iframeHeight+1)};return c.a.useEffect((function(){return window.addEventListener("message",S),function(){window.removeEventListener("message",S)}}),[]),c.a.useEffect((function(){return 3===n.medioPago&&(C.current=setInterval((function(){return k("tigo")}),3e3)),function(){C.current&&clearInterval(C.current)}}),[]),p?Object(l.jsxs)(x.q,{isOpen:p,id:"modal-singlebuy",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)(f,{color:"var(--naranja-abi)",botonIzquierdo:Object(l.jsx)("span",{onClick:function(){h(!1),j(null)},children:Object(l.jsx)(s.a,{size:30,color:"#ffffff"})}),titulo:y}),Object(l.jsx)("div",{style:{padding:20},children:!!d&&Object(l.jsx)("iframe",{src:d,height:"100%",width:"100%",style:{border:0,height:_}})}),Object(l.jsx)("div",{children:"\xa0"})]}):null}))),Ke=(a(566),Object(r.a)((function(e){var t=Object(u.b)(),a=Object(i.useState)({}),n=Object(O.a)(a,2),r=n[0],o=n[1],s=Object(i.useState)(!1),d=Object(O.a)(s,2),j=d[0],b=(d[1],Object(N.A)()),m=Object(i.useState)(!1),f=Object(O.a)(m,2),h=f[0],g=f[1];c.a.useEffect((function(){g(e.visible)}),[e.visible]);var v=Object(i.useState)({id:null,razon_social:"",ruc:"",default:!1}),_=Object(O.a)(v,2),y=_[0],C=_[1],w=function(e,t){var a=Object(p.a)({},y);a[e]=t,C(a)};return h?Object(l.jsx)(x.q,{isOpen:h,cssClass:"modal-datos-facturacion-short",onDidDismiss:function(){return g(!1)},children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"A\xf1adir datos de facturaci\xf3n"})}),Object(l.jsx)("div",{onClick:function(){return g(!1)},children:Object(l.jsx)(oe.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(l.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",paddingTop:20},children:[Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"RUC o C\xe9dula de identidad",tipo:"texto",campo:"ruc",valor:y.ruc?y.ruc:"",error:r&&r.ruc,set_dato:w,campo_blur:!0,set_dato_blur:function(){var e=y.ruc.indexOf("-")>0?{ruc:y.ruc}:{documento:y.ruc};t.environment.api.consultarRuc(e).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&C(Object.assign({},y,{id:y.id,ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social,default:y.default}))}})).catch((function(){}))},columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{style:{width:"80%"},children:Object(l.jsx)(ee,{deshabilitado:!j,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:y.razon_social?y.razon_social:"",error:r&&r.razon_social,set_dato:w,columnas:12,columnas_sm:12})}),Object(l.jsx)("div",{className:"button-anadir-editar-perfil-modal-container",children:Object(l.jsx)("button",{className:"button-anadir-editar-perfil-modal",title:"Agregar guardar datos de facturaci\xf3n",onClick:function(){var a;a=y,o({}),t.environment.api.guardarDatoFacturacionUsuario(a).then((function(t){b(t,"Datos de facturaci\xf3n guardardos correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),C({id:null,razon_social:"",ruc:"",default:!1}),g(!1)):"bad-data"===t.kind&&o(t.errors)}))},children:"Guardar"})})]})]})}):null}))),Xe=a(162),$e=Object(r.a)((function(e){var t=e.index,a=e.setIndexCallback,n=Object(u.b)(),c=n.loginStore,r=n.carritoStore,s=n.tarjetaStore,d=Object(i.useState)(!1),b=Object(O.a)(d,2),m=b[0],f=b[1],h=Object(i.useState)(!0),g=Object(O.a)(h,2),v=g[0],_=g[1],y=Object(i.useState)(!1),w=Object(O.a)(y,2),k=w[0],S=w[1],A=Object(N.E)(),D=Object(i.useState)(),I=Object(O.a)(D,2),P=I[0],E=I[1],T=Object(i.useState)(),z=Object(O.a)(T,2),B=z[0],L=z[1],F=Object(i.useState)(!1),M=Object(O.a)(F,2),q=M[0],U=M[1],H=Object(N.J)(),V=Object(N.A)(),Y=Object(i.useState)("-"),G=Object(O.a)(Y,2),J=G[0],Q=G[1],Z=Object(i.useState)(null),X=Object(O.a)(Z,2),$=(X[0],X[1]),ee=Object(i.useState)(Object(N.o)(c.nro_telefono)),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ie=Object(i.useState)(!1),ce=Object(O.a)(ie,2),re=ce[0],oe=ce[1],se=Object(i.useState)(!0),le=Object(O.a)(se,2),de=le[0],ue=(le[1],Object(i.useState)(!1)),je=Object(O.a)(ue,2),be=je[0],me=je[1],fe=Object(i.useState)(null),pe=Object(O.a)(fe,2),he=pe[0],Oe=pe[1],xe=Object(i.useState)(),ge=Object(O.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(i.useState)(),ye=Object(O.a)(Ne,2),Ce=ye[0],we=ye[1],ke=Object(i.useState)(r.envio_sin_hora),Se=Object(O.a)(ke,2),Ae=Se[0],De=Se[1],Ie=Object(i.useState)(null),Pe=Object(O.a)(Ie,2),Re=Pe[0],Ee=Pe[1],Te=Object(i.useState)(null),ze=Object(O.a)(Te,2),Be=ze[0],Le=ze[1],Fe=Object(o.e)(),Me=Ye()(),Ue=Object(i.useState)(null),Ve=Object(O.a)(Ue,2),$e=Ve[0],et=Ve[1],tt=Object(i.useState)(!1),at=Object(O.a)(tt,2),nt=at[0],it=at[1],ct=Object(i.useState)(!1),rt=Object(O.a)(ct,2),ot=rt[0],st=rt[1],lt=Object(i.useRef)(null),dt=Object(i.useState)(!1),ut=Object(O.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(i.useState)(""),ft=Object(O.a)(mt,2),pt=ft[0],ht=ft[1],Ot=Object(i.useState)(""),xt=Object(O.a)(Ot,2),gt=xt[0],vt=xt[1],_t=Object(i.useState)(""),Nt=Object(O.a)(_t,2),yt=Nt[0],Ct=Nt[1],wt=Object(i.useState)(""),kt=Object(O.a)(wt,2),St=kt[0],At=kt[1];Object(i.useEffect)((function(){Dt(),r.total>0&&It()}),[c.id]),Object(i.useEffect)((function(){Dt(),S(!0),oe(window.innerWidth<=500);var e=c.datos_facturacion.find((function(e){return e.default}));e&&L({id:e.id,default:e.default,razon_social:e.razon_social,ruc:e.ruc})}),[]),Object(i.useEffect)((function(){Ae?(r.setEnvioSinHora(),r.setCompraMejorada(!1)):(r.setEnvioConHora(r.entregaDesde?r.entregaDesde:"",r.entregaHasta?r.entregaHasta:""),r.setCompraMejorada(!1))}),[Ae]),Object(i.useEffect)((function(){r.total>0&&It()}),[r.total]),Object(i.useEffect)((function(){Oe(r.medioPago),r.medioPago===Qe.b.tarjeta_registrada&&_e(s.tarjetas.find((function(e){return e.card_id===r.tarjeta})))}),[r.medioPago,r.tarjeta]),Object(i.useEffect)((function(){var e=A();E(e)}),[]),Object(i.useEffect)((function(){(null===ve||void 0===ve?void 0:ve.card_brand)&&we(Object(N.r)(null===ve||void 0===ve?void 0:ve.card_brand))}),[ve]);var Dt=function(){n.environment.api.fechaEstimada().then((function(e){if("ok"===e.kind){var t=Ye()(),a=Ye.a.duration(t.diff(Ye()(e.data.express.fecha))).humanize();$(e.data),Q(a)}else $(null),Q("-")}))},It=function(){n.environment.api.costoEnvio(r.total).then((function(e){"ok"===e.kind?(console.log(r.total+e.data.costo_envio),Ee(e.data.costo_envio),Le(e.data.envio_gratuito_apartir),_(!1)):H("No se pudo obtener detalles del env\xedo","warning")}))},Pt=function(){_(!0);var e=r.compra_mejorada,t=!r.envio_sin_hora,a=r.envio_sin_hora?"":Ye()(r.entregaDesde).format("HH:mm"),n=r.envio_sin_hora?"":Ye()(r.entregaHasta).format("HH:mm"),i=r.envio_sin_hora?Ye()().format("YYYY-MM-DD HH:mm:ss"):Ye()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),o=c.environment.api,s=Xe(r.total).value(),l=B?B.id:null;o.singleBuy(P,r.medioPago,r.productos,s,e,t,a,n,de,Object(N.p)(ae),i,l).then((function(e){_(!1),"ok"===e.kind?r.medioPago===Qe.b.billetera_personal?e.exitoso?(H("Pago registrado con \xe9xito!","success"),r.reset(),Fe.replace(j.m.PEDIDOS)):H(e.mensaje_transaccion,"error"):lt.current.iniciarPago(e.transaccion_id,e.url):"bad-data"===e.kind?e.errors.non_field_errors&&H(e.errors.non_field_errors[0],"warning"):H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}))},Rt=function(){n.environment.api.getCliente(c.id).then((function(e){if("ok"===e.kind){var t=Object(p.a)({},e.cliente);c.setDirecciones(t.direcciones),c.setDatosFacturacion(t.datos_facturacion)}else H("Ocurri\xf3 un error al actualizar las direcciones","error")}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Ze,{ref:lt,successCallback:function(){H("Pago registrado con \xe9xito!","success"),r.reset(),Fe.replace(j.m.PEDIDOS)}}),Object(l.jsx)(K.a,{close:function(){bt(!1)},isOpen:jt,color:"var(--naranja-abi)",titulo:"Fecha de compra programada",cssClass:"modal-compra-programada",children:Object(l.jsxs)("div",{className:"mt-4",children:[Object(l.jsx)("span",{children:"Fecha:"}),Object(l.jsx)(x.m,{type:"date",value:pt,onIonChange:function(e){return ht(e.detail.value)},min:Me.format("YYYY-MM-DD"),className:"form-control"}),Object(l.jsx)("span",{children:"Desde las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return vt(e.target.value)},value:gt}),Object(l.jsx)("span",{children:"Hasta las:"}),Object(l.jsx)(W.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Ct(e.target.value)},value:yt}),Object(l.jsx)("div",{className:"metodos-pago-container",children:Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!function(){var e=new RegExp("^([01]?[0-9]|2[0-3]):[0-5][0-9]$"),t=function(t){return e.test(t)};if(pt)if(t(gt)&&t(yt)){var a=Ye()(pt).format("DD/MM/YYYY");ht(a.toString());var n=Ye()(pt).format("D \\d\\e MMMM");n="".concat(n," de ").concat(gt," a ").concat(yt," hs"),r.setEntregaDesde(pt+" "+gt),r.setEntregaHasta(pt+" "+yt),At(n),bt(!1)}else H("Ingrese una hora v\xe1lida","warning");else H("Ingrese una fecha","warning")}()},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"Guardar"})})})})]})}),nt&&Object(l.jsx)(He.a,{visible:!0,successCallback:function(){Rt()}}),k&&c.direcciones.length>0&&Object(l.jsx)(C.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:c.direcciones,listado_elementos_seleccionados:P&&0!==P.id?P.id:[],datos_filtrados:function(e){!function(e){var t=c.direcciones.find((function(t){return t.id===e}));t&&E(Object(We.d)(t))}(e[0])},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:m,mostrar_modal_cambio_estado:function(e){f(e)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){it(!1),setTimeout((function(){return it(!0)}),100)}}),$e&&Object(l.jsx)(qe,{visible:!0,url:$e,successCallback:function(){et(null),_(!0),c.environment.api.obtenerTarjetas().then((function(e){_(!1),"ok"===e.kind?s.setTarjetas(e.tarjetas):V(e,"","obtener las tarjetas")}))}}),ot&&Object(l.jsx)(Ke,{visible:!0,successCallback:function(){Rt()}}),Object(l.jsx)(K.a,{close:function(){return U(!1)},isOpen:q,color:"var(--naranja-abi)",titulo:"Datos de facturaci\xf3n",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsx)(x.g,{style:{flexGrow:3},children:c.datos_facturacion.map((function(e,t){return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return L(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:(null===B||void 0===B?void 0:B.id)===e.id})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{style:(null===B||void 0===B?void 0:B.id)===e.id?{color:"var(--verde-claro)"}:{},children:e.razon_social})}),Object(l.jsx)("p",{className:"help",children:e.ruc})]})]},t)}))}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){st(!1),setTimeout((function(){return st(!0)}),100)},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir datos de facturaci\xf3n"})})})]})}),Object(l.jsx)(K.a,{close:function(){return me(!1)},isOpen:be,color:"var(--naranja-abi)",titulo:"M\xe9todo de Pago",cssClass:"modal-info-metodo-pago",children:Object(l.jsxs)("div",{className:"metodos-pago-container",children:[Object(l.jsxs)(x.g,{style:{flexGrow:3},children:[s.tarjetas.map((function(e,t){var a=e.card_brand?Object(N.r)(e.card_brand):null;return Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&function(e){r.setTarjeta(e.card_id)}(e)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.tarjeta===e.card_id})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("strong",{style:r.tarjeta===e.card_id?{color:"var(--verde-claro)"}:{},children:["Tarjeta ",t+1," "]}),a&&Object(l.jsx)("img",{src:a,height:18})]}),Object(l.jsx)("p",{className:"help",children:e.card_masked_number})]})]},t)})),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Qe.b.tarjeta_no_registrada)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Qe.b.tarjeta_no_registrada})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Qe.b.tarjeta_no_registrada?{color:"var(--verde-claro)"}:{},children:"Tarjeta de d\xe9bito o cr\xe9dito ocasional"}),Object(l.jsx)("p",{className:"help",children:"De esta forma se ingresa los datos de la tarjeta todas las veces al momento de pagar."})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"",onClick:function(){return!v&&r.setMedioPago(Qe.b.zimple)},children:Object(l.jsx)("div",{className:"checkbox",children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Qe.b.zimple})})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Qe.b.zimple?{color:"var(--verde-claro)"}:{},children:"Billetera Zimple Bancard"}),Object(l.jsxs)("p",{className:"help",children:["Billetera: ",c.nro_telefono]})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Qe.b.tigo_money)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Qe.b.tigo_money})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Qe.b.tigo_money?{color:"var(--verde-claro)"}:{},children:"Tigo Money"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control  registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ne(e.target.value)},value:ae})]})]}),Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Qe.b.billetera_personal)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Qe.b.billetera_personal})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Qe.b.billetera_personal?{color:"var(--verde-claro)"}:{},children:"Billetera Personal"}),Object(l.jsx)(W.a,{placeholder:"Billetera",className:"form-control registro-phone-input",mask:"0\\999-999-999",onChange:function(e){ne(e.target.value)},value:ae})]})]}),n.isDebug&&Object(l.jsxs)("div",{className:"item-medio-pago",children:[Object(l.jsx)("div",{className:"checkbox",onClick:function(){return!v&&r.setMedioPago(Qe.b.test)},children:Object(l.jsx)(x.f,{disabled:v,slot:"end",color:"primary",checked:r.medioPago===Qe.b.test})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{style:r.medioPago===Qe.b.test?{color:"var(--verde-claro)"}:{},children:"Test"}),Object(l.jsx)("p",{className:"help",children:"Medio de pago para pruebas."})]})]})]}),Object(l.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{cursor:"pointer"},className:"",onClick:function(){!v&&(et(null),_(!0),c.environment.api.crearTarjeta().then((function(e){if(_(!1),"ok"===e.kind){var t=e.url,a=t.split("/")[2].split(":")[1],n=t.split("process_id=")[1];et("https://vpos.infonet.com.py:".concat(a,"/checkout/register_card/new?process_id=").concat(n))}else H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")})))},children:Object(l.jsx)("button",{disabled:v,className:"btn btn-info mt-2",type:"button",children:"A\xf1adir met\xf3do de pago"})})})]})}),"metodo-envio"===t&&Object(l.jsxs)("div",{className:"datos-carrito-container",children:[!re&&Object(l.jsxs)("div",{className:"d-flex",style:{gap:10},children:[Object(l.jsx)("a",{onClick:function(){return Fe.goBack()},children:Object(l.jsx)(Ge.a,{size:re?15:20})}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Seguir Comprando"})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:" Tipo de compra"}),Object(l.jsx)("div",{className:"container-tipo-delivery cpointer py-1",onClick:function(){De(!0)},children:Object(l.jsxs)("div",{className:Ae?"seleccionado-checkout":"no-seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[Ae&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),!Ae&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Express"})})]})}),Object(l.jsxs)("div",{className:"container-tipo-delivery cpointer py-1",style:{flexDirection:"column"},onClick:function(){bt(!0),De(!1)},children:[Object(l.jsxs)("div",{className:Ae?"no-seleccionado-checkout":"seleccionado-checkout",children:[Object(l.jsxs)("div",{children:[!Ae&&Object(l.jsx)(Je.b,{color:"var(--verde-claro)"}),Ae&&Object(l.jsx)(Je.c,{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Programada"})})]}),!Ae&&Object(l.jsx)("div",{className:"set-horatio-entrega-container",style:{width:"90%",display:"block",fontSize:14,textAlign:"center",paddingTop:8,borderRadius:8},children:!r.envio_sin_hora&&Object(l.jsx)("div",{children:St})})]})]}),v&&Object(l.jsx)("div",{className:"detalle-envio-checkout-container",children:Object(l.jsx)(x.z,{name:"crescent",color:"primary"})}),!v&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Subtotal"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:Object(R.o)(r.total)}),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Delivery gratis con compras a partir de ",Object(R.o)(Be)," ",Object(l.jsx)("br",{})," V\xe1lido para Asunci\xf3n y Gran Asunci\xf3n."]})]}),Be&&r.total<Be&&Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:["Faltan ",Object(R.o)(Be-r.total)," para que tu delivery sea gratuito."]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"titulo-checkout-carrito",children:"Tiempo estimado de entrega"}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{className:"precio-checkout-carrito",children:Ae?J:"-"})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",children:Object(l.jsx)("button",{className:"btn btn-info px-5 py-2 my-2",type:"button",onClick:function(){if(!c.isLoggedIn){H("Inicie sesi\xf3n para finalizar su compra");var e=new URLSearchParams(window.location.search);return e.set("login","1"),e.set("checkout","1"),void Fe.push(window.location.pathname+"?"+e.toString())}c.perfil_completo?r.envio_sin_hora||r.entregaDesde&&r.entregaHasta||!de?a("tarjeta-direcion"):H("Debe seleccionar el horario de entrega del pedido","warning"):Fe.replace("".concat(j.m.CLIENTE,"?checkout=1"))},children:"Finalizar compra"})})]}),"tarjeta-direcion"===t&&Object(l.jsxs)("div",{className:"container-checkout-carrito",style:{display:"flex"},children:[Object(l.jsxs)("div",{className:" container-tarjeta-direccion-checkout datos-carrito-container ",style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Direcci\xf3n de entrega"}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[!!P&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:P.icono&&j.d[P.icono]?j.d[P.icono]:"assets/icon/ubicacion-gray.png",className:"icono-direccion-checkout"}),!!P.nombre&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:[P.nombre," "]}),Object(l.jsx)("br",{})]})]}),Object(l.jsxs)("div",{children:[P.calle_principal," ",P.numero]})]}),Object(l.jsx)("div",{className:"cpointer",onClick:function(){f(!0)},style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},children:"Cambiar"})]}),!(c.direcciones.length>0)&&Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsx)("div",{className:"icono-direccion-tarjeta-container"}),Object(l.jsx)("div",{className:"pl-lg-4 icono-direccion-tarjeta-container",children:Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){it(!1),setTimeout((function(){return it(!0)}),100)},children:"Agregar direcci\xf3n"})})]})]})]}),c.datos_facturacion.length>0&&Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" Datos de facturaci\xf3n"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:B?B.razon_social:c.defaultDatoFacturacion?c.defaultDatoFacturacion.razon_social:""}),Object(l.jsxs)("div",{children:[B?B.ruc:c.defaultDatoFacturacion?c.defaultDatoFacturacion.ruc:""," "]})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){U(!0)},children:B?"Cambiar":"Elegir"})]})})})]}),Object(l.jsxs)("div",{className:"detalle-envio-checkout-container",children:[Object(l.jsx)("div",{className:"titulo-checkout-carrito",children:" M\xe9todo de pago"}),Object(l.jsx)("div",{className:"container-opciones-pago-checkout",children:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flex:1},children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[he===Qe.b.tarjeta_no_registrada&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsx)("div",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:"Tarjeta Ocasional"})})]}),he===Qe.b.test&&Object(l.jsxs)("div",{className:"direccion-checkout-carrito",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Test "}),Object(l.jsx)("br",{})]}),he===Qe.b.zimple&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Zimple "}),Object(l.jsx)("br",{})]}),he===Qe.b.billetera_personal&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Billetera Personal"}),Object(l.jsx)("br",{})]}),he===Qe.b.tigo_money&&Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("span",{style:{color:"var(--verde-claro)",fontWeight:"bold"},children:" Tigo Money"}),Object(l.jsx)("br",{})]}),he===Qe.b.tarjeta_registrada&&ve&&Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("img",{src:"assets/icon/tarjeta-verde.png",className:"icono-direccion-checkout"}),Object(l.jsx)("div",{className:"direccion-checkout-carrito",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("span",{style:{color:"var(--verde-claro)",fontWeight:"bolder"},children:["Tarjeta ",Ce?Object(l.jsx)("img",{src:Ce,height:18}):null]}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:ve.card_masked_number})]})}),Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontWeight:"bold",fontSize:"0.875rem"},onClick:function(){me(!0)},children:"Cambiar"})]})})})]})]}),Object(l.jsxs)("div",{className:"datos-carrito-container p-4 costos-checkout-container",children:[Object(l.jsxs)("div",{style:{justifyContent:"flex-start"},children:[Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:" Mi pedido"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"cpointer",style:{color:"var(--naranja-abi)",fontSize:"0.875rem"},onClick:function(){return a("metodo-envio")},children:"Ver detalles"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:Object(R.o)(r.total)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:" Env\xedo"})}),Object(l.jsx)("div",{children:Re?Object(l.jsx)("strong",{children:Object(R.o)(Re)}):Object(l.jsx)("strong",{children:Object(R.o)(0)})})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:" Total"}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"0.875rem"},children:"Incluye IVA"})]}),Object(l.jsx)("div",{children:Re?Object(l.jsx)("strong",{children:Object(R.o)(r.total+Re)}):Object(l.jsx)("strong",{children:Object(R.o)(r.total)})})]})]}),Object(l.jsx)("div",{className:"finalizar-compra-container",style:{flex:2},children:Object(l.jsx)("button",{onClick:function(){!function(){if(!r.envio_sin_hora&&(!r.entregaDesde||!r.entregaHasta)&&de)return H("Debe seleccionar el horario de entrega del pedido","warning"),!1;var e=r.compra_mejorada,t=!r.envio_sin_hora,a=t?Ye()(r.entregaDesde).format("HH:mm"):null,n=t?Ye()(r.entregaHasta).format("HH:mm"):null,i=r.envio_sin_hora?null:Ye()(r.entregaDesde).format("YYYY-MM-DD HH:mm:ss"),o=B?B.id:null;if(0===(null===P||void 0===P?void 0:P.id)&&de)return H("Debe seleccionar una direcci\xf3n de entrega para realizar la compra","warning"),!1;if(r.medioPago===Qe.b.tarjeta_no_registrada||r.medioPago===Qe.b.zimple||r.medioPago===Qe.b.tigo_money||r.medioPago===Qe.b.billetera_personal)Pt();else if(r.tarjeta||r.medioPago===Qe.b.test){_(!0);var s=Xe(r.total).value();c.environment.api.crearPedido(P,r.medioPago,r.productos,r.tarjeta,s,e,t,a,n,de,i,o).then((function(e){if(_(!1),"ok"===e.kind)r.reset(),H("Pago realizado satisfactoriamente","success"),Fe.push(j.m.PEDIDOS);else if("bad-data"===e.kind){if(e.errors.non_field_errors)return H(e.errors.non_field_errors[0],"warning"),!1;H("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error")}}))}}()},disabled:v,className:"btn btn-info px-5 py-2 mt-2",type:"button",children:"Confirmar Compra"})})]})]})]})})),et=(a(492),a(494),function(e){var t=e.movil?e.movil:Object(N.s)();return Object(l.jsx)("div",{style:e.style?e.style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:t?"var(--gris-claro)":"#fff",marginBottom:"env(safe-area-inset-bottom)",flexDirection:"column"},className:"footer-formulario py-3 px-3 "+e.className,children:e.children})}),tt=(a(489),a(490),a(515),a(488),a(495),a(1732)),at=a(1521),nt=a(1741),it=a(412),ct=a(413),rt=a(142),ot=(a(287),a(523)),st=(a(567),function(e){var t=Object(i.useState)(""),a=Object(O.a)(t,2),n=a[0],r=a[1];return c.a.useEffect((function(){if(""!==n&&""!==e.fecha){var t=Ye()("".concat(e.fecha," ").concat(n),ot.a.DATEHOURMINUTE).format(ot.a.ISO);e.setFecha(t)}else""===n&&e.setFecha("")}),[e.fecha,n]),Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[e.orden.fabricante,Object(l.jsx)("br",{}),Object(l.jsx)("small",{children:Ye()(e.orden.fecha_retiro).format(ot.a.DATEHOURMINUTE)})]}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:n,error:"",set_dato:function(e,t){return r(t)},columnas:6,columnas_sm:6})})})]},"orden-"+e.orden.id)}),lt=Object(r.a)((function(e){var t=Object(u.b)(),a=Object(i.useState)(),n=Object(O.a)(a,2),r=n[0],s=n[1],d=Object(i.useState)(),b=Object(O.a)(d,2),m=b[0],f=b[1],p=Object(i.useState)(""),g=Object(O.a)(p,2),v=g[0],_=g[1],y=Object(i.useState)(""),C=Object(O.a)(y,2),w=C[0],k=C[1],S=Object(i.useState)({lng:-57.63591,lat:-25.30066}),A=Object(O.a)(S,2),D=A[0],I=A[1],P=Object(i.useState)(!1),R=Object(O.a)(P,2),E=R[0],T=R[1],z=Object(i.useState)([[-57.63591,-25.30066]]),B=Object(O.a)(z,2),L=B[0],F=B[1],M=Object(i.useState)(),q=Object(O.a)(M,2),U=q[0],H=q[1],W=Object(N.J)(),V=Object(N.A)(),Y=Object(o.e)();c.a.useEffect((function(){var t,a=e.pedido;if(a&&a.ordenes_venta&&(null===(t=a.ordenes_venta)||void 0===t?void 0:t.length)>0){var n=a.direccion.ubicacion.split(",");H({lat:Number(n[0]),lng:Number(n[1])});var i=Object(h.a)(a.ordenes_venta);i.sort((function(e,t){var a=new Date(e.fecha_confirmado),n=new Date(t.fecha_confirmado);return a.getTime()<n.getTime()?-1:1})),s(i)}}),[e.pedido]),c.a.useEffect((function(){if(r&&r.length>0){var e=r.map((function(e){return{orden_id:e.id,fecha:""}}));f(e)}}),[r]),c.a.useEffect((function(){var e=setTimeout((function(){T(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),c.a.useEffect((function(){if(r&&e.pedido&&U&&m){var t=[],a=Object(h.a)(m),n=!1;a.sort((function(e,t){""!==e.fecha&&""!==t.fecha||(n=!0);var a=new Date(e.fecha),i=new Date(t.fecha);return a.getTime()<i.getTime()?-1:1})),a.forEach((function(e){var a=r.find((function(t){return t.id===e.orden_id}));a&&t.push(a)}));var i=t.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));i.push([U.lat,U.lng]),F(""===v||n?null:i)}}),[m]),c.a.useEffect((function(){if(r&&e.pedido&&U){var t=r.map((function(e){var t=e.punto_retiro.ubicacion.split(",");return[Number(t[0]),Number(t[1])]}));t.push([U.lat,U.lng]),F(""===v?null:t);var a={lat:t.reduce((function(e,t){return e+t[0]}),0)/t.length,lng:t.reduce((function(e,t){return e+t[1]}),0)/t.length};I(a)}}),[r,U]);var G=Object(N.C)((function(e){})),J=Object(O.a)(G,2),Q=(J[0],J[1]);return Object(l.jsxs)(x.q,{isOpen:e.visible,onDidDismiss:e.setVisible,swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ruteo-pedido",children:[Q,Object(l.jsxs)("div",{className:"content-container",children:[Object(l.jsxs)("div",{className:"container d-flex flex-column pt-3",children:[Object(l.jsx)("h3",{children:"Itinerario"}),Object(l.jsxs)("div",{className:"row my-2",children:[Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)("strong",{children:"Fecha"})}),Object(l.jsx)($,{deshabilitado:!0,titulo:"dd/mm/aaaa",tipo:"fecha",campo:"fecha_retiro",valor:v,error:"",set_dato:function(e,t){return _(t)},columnas:6,columnas_sm:6})]}),Object(l.jsx)(x.g,{style:{flex:1},children:r&&r.length>0&&Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Paradas"}),Object(l.jsx)("th",{})]})}),Object(l.jsxs)("tbody",{children:[!!m&&m.length>0&&r.map((function(e,t){return Object(l.jsx)(st,{orden:e,setFecha:function(e){var a=Object(h.a)(m);a[t].fecha=e,f(a)},fecha:v},e.id)})),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Cliente"}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)($,{deshabilitado:!0,titulo:"hh:mm",tipo:"hora",campo:"hora",valor:w,error:"",set_dato:function(e,t){return k(t)},columnas:6,columnas_sm:6})})})]})]})]})})})})})}),Object(l.jsxs)("div",{className:"row justify-content-center",children:[Object(l.jsx)(tt.a,{className:"btn btn-light ml-3 mb-3",onClick:e.setVisible,children:"Cancelar"}),Object(l.jsx)(tt.a,{className:"btn btn-primary ml-3 mb-3",onClick:function(){var a=Ye()("".concat(v," ").concat(w),ot.a.DATEHOURMINUTE),n=!1;if(null===m||void 0===m||m.forEach((function(e){a.isBefore(e.fecha)&&(n=!0,W("La hora de entrega debe ser posterior a las dem\xe1s."))})),!n&&r&&m){var i={pedido_id:e.pedido.id,fecha_entrega:a.format(ot.a.ISO),itinerarios_retiro:Object(h.a)(m)};t.environment.api.ruteoManualStaff(i).then((function(t){V(t,"Pedido ruteado correctamente","rutear"),"ok"===t.kind?(e.setVisible(!1),Y.push(j.m.ADMIN_PEDIDO_DETAIL(e.pedido.id)+"?r=true")):"bad-data"===t.kind&&W("Fecha/hora err\xf3nea.")}))}},children:"Guardar"})]})]}),Object(l.jsx)("div",{children:E&&Object(l.jsxs)(at.a,{zoom:13,center:D,style:{height:"100%",width:"100%"},attributionControl:!1,children:[Object(l.jsx)(nt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!!L&&Object(l.jsx)(it.a,{positions:L}),!!r&&(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return Object(l.jsx)(ct.a,{position:e.punto_retiro.ubicacion.split(","),icon:N.b.fabricante,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsx)("span",{className:"",children:e.fabricante})}),Object(l.jsxs)("div",{className:"itinerario-columna2",children:[Object(l.jsx)("span",{children:e.punto_retiro.nombre}),Object(l.jsxs)("span",{children:[e.punto_retiro.calle_principal," c/ ",e.punto_retiro.calle_secundaria]})]})]})})},e.id)})),!!U&&!!e.pedido&&Object(l.jsx)(ct.a,{position:U,icon:N.b.usuario,children:Object(l.jsx)(rt.a,{className:"itinerario-popup",children:Object(l.jsxs)("div",{className:"itinerario-columna-container",children:[Object(l.jsx)("div",{className:"itinerario-columna1",children:Object(l.jsxs)("span",{className:"",children:[e.pedido.usuario.first_name," ",e.pedido.usuario.last_name]})}),Object(l.jsx)("div",{className:"itinerario-columna2",children:Object(l.jsxs)("span",{children:[e.pedido.direccion.calle_principal," c/ ",e.pedido.direccion.calle_secundaria]})})]})})})]})})]})]})})),dt=(a(568),a(197)),ut=Object(r.a)((function(e){return Object(l.jsxs)(x.q,{isOpen:!0,id:"modal-upgrade-required",swipeToClose:!1,backdropDismiss:!1,children:[Object(l.jsx)("img",{src:"assets/abi-v.svg",alt:"ABi",height:"80px"}),Object(l.jsx)("div",{className:"mt-3 text-bold",children:"Actualizaci\xf3n requerida"}),Object(l.jsx)("div",{className:"mt-3 text-center",children:"Para poder seguir utilizando ABi es necesario que actualice su app a la \xfaltima versi\xf3n."}),Object(l.jsxs)("div",{className:"mt-3",children:["Versi\xf3n instalada: ",dt.RELEASE.split("@")[1]]})]})}))},476:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(546);var n=a(40),i=(a(3),a(1543)),c=a(161),r=a(9),o=Object(c.a)((function(e){var t=e.cssClass?e.cssClass:"";return Object(r.jsxs)(n.q,{isOpen:e.isOpen,onDidDismiss:function(){return e.close()},cssClass:"modal-info "+t,children:[Object(r.jsxs)("div",{className:"header-modal-info",style:{backgroundColor:e.color?e.color:"var(--naranja-abi)"},children:[Object(r.jsx)("div",{children:Object(r.jsx)("span",{children:e.titulo})}),Object(r.jsx)("div",{onClick:function(){return e.close()},children:Object(r.jsx)(i.a,{style:{width:26,marginRight:5,color:"#fff"}})})]}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"fit-content",width:"100%",backgroundColor:"#fff",borderBottomLeftRadius:"0.3rem",borderBottomRightRadius:"0.3rem"},children:Object(r.jsx)("div",{className:"modal-info-childen-container",children:e.children})})]})}))},478:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(33),i=a(0),c=a.n(i),r=a(2),o=a(24),s=a(123),l=a(40),d=a(576),u=a.n(d),j=a(161),b=a(3),m=a(1515),f=a(1521),p=a(1522),h=a(1020),O=a(1741),x=a(1523),g=a(413),v=a(101),_=a(86),N=a(9),y=Object(j.a)((function(e){var t=Object(_.b)(),a=Object(b.useState)(!1),i=Object(o.a)(a,2),d=i[0],j=i[1],y=Object(b.useState)(!1),C=Object(o.a)(y,2),w=C[0],k=C[1],S=Object(b.useState)(e.lat),A=Object(o.a)(S,2),D=A[0],I=A[1],P=Object(b.useState)(e.lng),R=Object(o.a)(P,2),E=R[0],T=R[1],z=Object(b.useState)(e.zoom||14),B=Object(o.a)(z,2),L=B[0],F=B[1],M=Object(b.useState)(e.center),q=Object(o.a)(M,2),U=q[0],H=q[1],W=Object(b.useState)(!1),V=Object(o.a)(W,2),Y=V[0],G=V[1],J=e.bloquear_cambio_ubicacion||!1,Q=e.bloquear_interaccion||!1,Z=e.style||{width:"100%",height:e.full_screen?"100%":300},K=e.color||"#303AB2",X=Object(v.J)(),$=Object(b.useRef)(null),ee=function(){var a=Object(r.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!e.bloquear_interaccion||t.hasLocationPermission||e.noSolicitarPermiso||G(!0),setTimeout((function(){return k(!0)}),500);case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(b.useEffect)((function(){ee()}),[]);var te=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),s.a.getCurrentPosition({enableHighAccuracy:!0,timeout:3e4,maximumAge:6e4}).then((function(e){j(!1);var a=e.coords.latitude,n=e.coords.longitude,i=$.current;i&&i.flyTo([a,n],i.getZoom()),I(a),T(n),t.setPosicion(a,n)})).catch((function(e){console.log("getCurrentPosition err",e),String(e).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada."),j(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){e.lat&&e.lng&&e.lat!==D&&e.lng!==E&&(I(e.lat),T(e.lng))}),[e.lat,e.lng]),Object(b.useEffect)((function(){if(e.center){H(e.center);var t=$.current;t&&t.flyTo(e.center,t.getZoom())}}),[e.center]),Object(b.useEffect)((function(){if(D&&E){var t=$.current;t&&F(t.getZoom()),H({lng:E,lat:D}),e.ubicacion&&e.ubicacion(D,E)}}),[E]),Object(b.useEffect)((function(){e.zoom&&e.zoom!=L&&(F(e.zoom),H({lng:E,lat:D}))}),[e.zoom]);var ae=function(){var e=Object(r.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.locationService.askPermissionAndOrTurnOnGPS();case 2:a=e.sent,t.setHasLocationPermission(a),G(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{style:Object(n.a)(Object(n.a)({},Z),{},{position:"relative"}),onClick:function(){!Y&&e.onClick&&e.onClick()},children:[Y&&Object(N.jsxs)("div",{className:"mensaje-permiso",children:[Object(N.jsx)("div",{children:Object(N.jsx)(m.a,{size:36,color:"#FFD700",style:{pointerEvents:"none"}})}),"Para una mejor experiencia necesitamos acceder a tu ubicaci\xf3n",Object(N.jsxs)("div",{className:"mensaje-botones",children:[Object(N.jsx)("button",{className:"btn btn-light ml-2",onClick:function(){return G(!1)},children:"Denegar"}),Object(N.jsx)("button",{className:"btn btn-primary ml-2",onClick:ae,children:"Aceptar"})]})]}),!Q&&!J&&Object(N.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,backgroundColor:K,borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:te,title:"Centrar posici\xf3n",children:Object(N.jsx)(u.a,{style:{fontSize:20,color:"white"}})}),d&&Object(N.jsx)("div",{style:{zIndex:9999,width:30,height:30,position:"absolute",left:10,bottom:10,opacity:.8,backgroundColor:"#777777",borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:Object(N.jsx)(l.z,{name:"crescent",color:"primary"})}),w&&Object(N.jsxs)(f.a,{attributionControl:!1,center:U,zoom:L,style:Z,dragging:!Q,scrollWheelZoom:!Q,zoomControl:!Q,doubleClickZoom:!Q,closePopupOnClick:!Q,trackResize:!Q,touchZoom:!Q,children:[Object(N.jsx)(p.a,{children:function(e){return $.current=e,Object(h.b)({click:function(t){if(!J&&!Q){var a=t.latlng;I(a.lat),T(a.lng),F(e.getZoom())}},moveend:function(){if(!J&&!Q){var t=e.getCenter();I(t.lat),T(t.lng),F(e.getZoom())}}}),null}}),(!!e.disableMultiLayer||e.bloquear_interaccion)&&Object(N.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),!e.disableMultiLayer&&!e.bloquear_interaccion&&Object(N.jsxs)(x.a,{children:[Object(N.jsx)(x.a.BaseLayer,{checked:!0,name:"Calles",children:Object(N.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(N.jsx)(x.a.BaseLayer,{name:"Calles GMaps",children:Object(N.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(N.jsx)(x.a.BaseLayer,{name:"Satelital",children:Object(N.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})}),Object(N.jsx)(x.a.BaseLayer,{name:"Satelital con info",children:Object(N.jsx)(O.a,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})})]}),D&&E&&Object(N.jsx)(g.a,{position:{lat:D,lng:E},draggable:!J&&!Q,eventHandlers:{dragend:function(e){if(!J&&!Q){var t=e.target.getLatLng();I(t.lat),T(t.lng)}}},icon:v.c.pin})]})]})}))},481:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(26),i=a(24),c=a(3),r=a(161),o=a(40),s=a(9),l=Object(r.a)((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],d=Object(c.useState)([]),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)([]),f=Object(i.a)(m,2),p=f[0],h=f[1],O=Object(c.useState)([]),x=Object(i.a)(O,2),g=x[0],v=x[1],_=Object(c.useState)(""),N=Object(i.a)(_,2),y=N[0],C=N[1],w=e.auto_aceptar||!1,k=!1;void 0===e.deshabilitado||null===e.deshabilitado||e.deshabilitado||(k=!0);var S=function(t){if("function"===typeof e.listado_elementos)e.listado_elementos(t).then((function(e){"ok"===e.kind&&v(e.data.results)}));else{var a=[];null!==e.listado_elementos&&(a=e.listado_elementos.filter((function(a){return a[e.llave_label_opcion]&&t&&a[e.llave_label_opcion].toLowerCase().includes(t.toLowerCase())}))),v(""!==t?a:e.listado_elementos)}};return Object(c.useEffect)((function(){if("string"===typeof e.listado_elementos_seleccionados)b(e.listado_elementos_seleccionados.split(",").map((function(e){return parseInt(e)})));else if("number"===typeof e.listado_elementos_seleccionados){b([e.listado_elementos_seleccionados]);var t=e.listado_elementos.find((function(t){return t.id===e.listado_elementos_seleccionados}));t&&h([t.nombre])}else Array.isArray(e.listado_elementos_seleccionados)?e.listado_elementos_seleccionados.length&&e.listado_elementos_seleccionados[0].id?(b(e.listado_elementos_seleccionados.map((function(e){return e.id}))),h(e.listado_elementos_seleccionados.map((function(t){return t[e.llave_label_opcion]}))),e.datos_filtrados(e.listado_elementos_seleccionados.map((function(e){return e.id})))):(b([]),h([])):e.listado_elementos_seleccionados&&"object"===typeof e.listado_elementos_seleccionados&&(b([e.listado_elementos_seleccionados.id]),h([e.listado_elementos_seleccionados[e.llave_label_opcion]]));S("")}),[e.listado_elementos_seleccionados]),Object(c.useEffect)((function(){e.mostrar_modal&&l(!0),e.mostrar_modal_cambio_estado&&!r&&e.mostrar_modal_cambio_estado(r)}),[e.mostrar_modal,r]),Object(s.jsxs)("div",{className:"selector-modal",children:[Object(s.jsxs)(o.q,{isOpen:r,onDidDismiss:function(){C(""),S("")},backdropDismiss:!1,children:[Object(s.jsxs)(o.j,{children:[Object(s.jsxs)(o.C,{children:[Object(s.jsx)(o.A,{slot:"start",children:e.titulo}),void 0!==e.boton_extra_text&&Object(s.jsx)(o.A,{slot:"end",children:Object(s.jsx)("div",{className:"text-primary cpointer",title:"Agregar "+e.boton_extra_text,onClick:function(){e.boton_extra_funcion()},children:Object(s.jsx)("small",{children:"Agregar"})})})]}),Object(s.jsx)(o.C,{children:Object(s.jsx)(o.w,{showCancelButton:"focus",placeholder:"Buscar",value:y,onIonChange:function(e){S(e.detail.value),C(e.detail.value)}})})]}),Object(s.jsx)(o.g,{children:Object(s.jsx)(o.p,{children:g&&g.length>0&&g.map((function(t){return Object(s.jsxs)(o.n,{children:[Object(s.jsx)(o.o,{children:t[e.llave_label_opcion]}),Object(s.jsx)(o.f,{slot:"end",value:t.id,checked:j.includes(t.id),onClick:function(t){!function(t){t=parseInt(t);var a=Object(n.a)(j),i=Object(n.a)(p),c=g.find((function(e){return e.id===t}))[e.llave_label_opcion],r=a.indexOf(t);a.includes(t)?(a.splice(r,1),i.splice(r,1)):e.multiple?(a.push(t),i.push(c)):(a=[t],i=[c]),b(a),h(i),w&&(l(!1),e.datos_filtrados(a))}(t.target.value)}})]},"id-"+t.id)}))})}),Object(s.jsx)(o.i,{children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return l(!1)},children:"Cancelar"}),Object(s.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},onClick:function(){l(!r),e.datos_filtrados(j)},children:"Aceptar"})]})})]}),void 0===e.ocultar_input&&Object(s.jsx)("label",{className:"font-weight-bold text-gray",children:e.titulo_label}),void 0===e.ocultar_input&&Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:p.join(", ")}),Object(s.jsx)("div",{className:"input-group-append",children:Object(s.jsx)("button",{disabled:k,className:"btn btn-outline-secondary",type:"button",onClick:function(){return k?null:l(!r)},children:"Seleccionar"})})]})]})}));t.b=l},482:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(0),i=a.n(n),c=a(2),r=a(24),o=a(3),s=a(161),l=a(40),d=(a(514),a(30)),u=a(226),j=a(145),b=a(510),m=a.n(b),f=a(476),p=a(9),h=function(e){var t=e.itemImage,a=t.preview?t.preview:null,n=Object(o.useState)(null),s=Object(r.a)(n,2),l=s[0],b=s[1],m=e.camera_direction?e.camera_direction:0,f=(e.color,e.class_boton_aceptar||"btn-outline-primary");"web"===d.Capacitor.getPlatform()&&(m=1),Object(o.useEffect)((function(){l&&e.on_select(l,t.userDataLabel)}),[l]);var h=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getPicture({quality:90,sourceType:1,destinationType:1,allowEdit:!1,correctOrientation:!1,cameraDirection:m});case 3:t=e.sent,b(t||""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(c.a)(i.a.mark((function t(){var a,n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"web"!==d.Capacitor.getPlatform()){t.next=7;break}return t.next=4,j.a.getPhoto({resultType:j.c.Uri,source:j.d.Prompt,direction:0===m?j.b.Rear:j.b.Front,allowEditing:void 0==e.editor||e.editor,quality:100,webUseInput:!0});case 4:return a=t.sent,b(a.webPath||""),t.abrupt("return");case 7:return t.next=9,u.a.getPicture({quality:90,sourceType:2,destinationType:1,allowEdit:!1,correctOrientation:!1});case 9:(n=t.sent)&&(c="ios"===d.Capacitor.getPlatform()?"":"file://",n.startsWith(c)||(n=c+n)),b(n||""),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"helptext-div col-12 mt-3",children:[Object(p.jsx)("h4",{style:{textAlign:"center",color:"var(--gris-oscuro)",fontWeight:"bolder"},children:t.titulo}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[!a&&!!l&&Object(p.jsx)("img",{className:"preview-imagen-item",src:d.Capacitor.convertFileSrc(l)}),a&&Object(p.jsx)("img",{className:"preview-imagen-item",src:l?d.Capacitor.convertFileSrc(l):a})]}),Object(p.jsxs)("div",{style:{display:"flex",gap:20},children:["web"!==d.Capacitor.getPlatform()&&(void 0===e.source||1===e.source)&&Object(p.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12  mt-2",onClick:h,children:"Sacar foto"}),Object(p.jsx)("button",{style:{flex:1},className:"btn "+f+" col-12 mt-2",onClick:O,children:"Seleccionar desde la galer\xeda"})]})]})})},O=Object(s.a)((function(e){var t=Object(o.useState)(!1),a=Object(r.a)(t,2),n=a[0],i=a[1],c=Object(o.useState)(""),s=Object(r.a)(c,2),u=s[0],j=(s[1],Object(o.useState)()),b=Object(r.a)(j,2),O=b[0],x=b[1],g=Object(o.useState)(!1),v=Object(r.a)(g,2),_=v[0],N=v[1],y=(e.camera_direction&&e.camera_direction,e.color||"#303AB2"),C=e.class_boton_aceptar||"btn-outline-primary";d.Capacitor.getPlatform();var w=function(){x(u),i(!0)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"form-group",children:[!!e.infoTitulo&&!!e.infoBody&&Object(p.jsx)(f.a,{color:y,isOpen:_,close:function(){return N(!1)},titulo:e.infoTitulo,cssClass:e.modalInfoCssClass?e.modalInfoCssClass:"requisitos-foto-perfil",children:Object(p.jsx)("p",{children:e.infoBody})}),Object(p.jsxs)(l.q,{isOpen:n,backdropDismiss:!1,children:[Object(p.jsx)(l.j,{children:Object(p.jsx)(l.C,{children:Object(p.jsx)(l.A,{children:e.titulo_modal})})}),Object(p.jsxs)(l.g,{children:[e.imageItems.map((function(t,a){return Object(p.jsx)(h,{itemImage:t,class_boton_aceptar:C,on_select:e.on_select},a)})),e.extra_component?e.extra_component:null]}),Object(p.jsx)("div",{style:{padding:10},children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("button",{className:"btn btn-outline-secondary btn-block",onClick:function(){i(!1)},children:"CANCELAR"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("button",{className:"btn "+C+" btn-block",onClick:function(){e.on_accept&&e.on_accept(),i(!1)},children:Object(p.jsx)("span",{children:"ACEPTAR"})})})]})})]})]}),!e.custom_boton&&!!e.perfil&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(p.jsx)("div",{style:{borderColor:y},className:e.extra_css_class?"cpointer "+e.extra_css_class:"cpointer circulo-contenedor-imagen-registro",onClick:e.bloqueado?function(){}:w,children:Object(p.jsx)("img",{alt:"",className:e.preview_css_class?e.preview_css_class:""!==e.preview?"con-imagen":"sin-imagen",src:""!==e.preview?e.preview:"assets/icon/perfil.png"})})}),Object(p.jsx)("div",{className:"input-group mb-3",children:Object(p.jsxs)("div",{className:"boton-photo-loader-registro btn btn-outline-orange btn-font-sm d-flex flex-row align-items-center justify-content-center",children:[!e.preview&&Object(p.jsx)("img",{onClick:e.bloqueado?function(){}:w,alt:"",src:"assets/icon/camara.png"}),e.preview&&Object(p.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),Object(p.jsx)("span",{className:"mx-2",onClick:e.bloqueado?function(){}:w,style:{color:y},children:e.titulo_label}),e.titulo_boton?Object(p.jsx)("div",{style:{color:e.color},children:e.titulo_boton}):Object(p.jsx)("img",{onClick:function(){return N(!0)},alt:"",src:"assets/icon/info.png"})]})})]}),!e.custom_boton&&!e.perfil&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(p.jsx)("div",{className:"boton-photo-loader-registro-no-perfil btn btn-outline-orange btn-font-sm mr-2",onClick:e.bloqueado?function(){}:w,children:e.titulo_label}),O&&Object(p.jsx)(m.a,{style:{fontSize:22,color:"#28a745"}}),!O&&Object(p.jsx)("img",{className:"info-image",onClick:function(){return N(!0)},alt:"",src:"assets/icon/info.png"})]})}),!!e.custom_boton&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{onClick:e.bloqueado?function(){}:w,children:e.custom_boton})})]})}));t.b=O},483:function(e,t,a){"use strict";var n=a(33),i=a(24),c=a(161),r=a(3),o=a(101),s=a(86),l=a(484),d=a(481),u=a(9),j=Object(c.a)((function(e){var t=Object(s.b)(),a=t.loginStore,c=Object(r.useState)(null),j=Object(i.a)(c,2),b=j[0],m=j[1],f=Object(r.useState)(!1),p=Object(i.a)(f,2),h=p[0],O=p[1],x=Object(o.J)();Object(r.useEffect)((function(){m(a.direcciones.find((function(e){return e.default})))}),[]);var g=function(){a.direcciones.forEach((function(e){t.environment.api.guardarDireccion(e).then((function(e){"ok"===e.kind||"bad-data"===e.kind&&console.log(e.errors)}))}))};return Object(u.jsxs)(u.Fragment,{children:[h&&Object(u.jsx)(l.a,{visible:!0,successCallback:function(){t.environment.api.getCliente(a.id).then((function(e){if("ok"===e.kind){var t=Object(n.a)({},e.cliente);a.setDirecciones(t.direcciones),a.setDatosFacturacion(t.datos_facturacion)}else x("Ocurri\xf3 un error al actualizar las direcciones","error")}))}}),Object(u.jsx)(d.a,{titulo:"Direcci\xf3n",titulo_label:"Seleccion\xe1 la direcci\xf3n",listado_elementos:a.direcciones,listado_elementos_seleccionados:b||[],datos_filtrados:function(t){a.direcciones.forEach((function(e){(t[0]===e.id||e.default)&&e.toggleDefault()})),g(),function(e){var t=a.direcciones.filter((function(t){return t.id===e}))[0];m(t)}(t[0]),e.setDireccionPredeterminada("a")},multiple:!1,llave_label_opcion:"nombre",ocultar_input:!0,mostrar_modal:e.visible,mostrar_modal_cambio_estado:function(t){return e.onDismiss(t)},boton_extra_text:"direcci\xf3n",boton_extra_funcion:function(){O(!1),setTimeout((function(){return O(!0)}),100)}})]})}));t.a=j},484:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(33),i=a(0),c=a.n(i),r=a(2),o=a(24),s=(a(540),a(40)),l=a(3),d=a.n(l),u=a(161),j=a(96),b=a.n(j),m=a(86),f=a(475),p=a(101),h=a(123),O=a(504),x=a(1524),g=a(9);b.a.Icon.Default.imagePath="images/";var v=Object(u.a)((function(e){var t=Object(m.b)(),a=t.loginStore,i=Object(l.useState)(!1),u=Object(o.a)(i,2),j=u[0],b=u[1],v=Object(l.useState)(!0),_=Object(o.a)(v,2),N=_[0],y=_[1],C=Object(l.useState)({}),w=Object(o.a)(C,2),k=w[0],S=w[1],A=Object(l.useState)({}),D=Object(o.a)(A,2),I=D[0],P=D[1],R=Object(l.useState)(!1),E=Object(o.a)(R,2),T=E[0],z=E[1],B=Object(p.A)(),L=Object(p.J)(),F=Object(l.useRef)(),M=Object(l.useState)({lng:-57.63591,lat:-25.30066}),q=Object(o.a)(M,2),U=q[0],H=q[1],W=Object(l.useState)(null),V=Object(o.a)(W,2),Y=V[0],G=V[1],J=Object(l.useState)(null),Q=Object(o.a)(J,2),Z=Q[0],K=Q[1],X=Object(l.useState)(null),$=Object(o.a)(X,2),ee=$[0],te=$[1];d.a.useEffect((function(){z(e.visible)}),[e.visible]),d.a.useEffect((function(){if(!e.direccion)return P({}),void ie();ne(e.direccion.id)}),[e.direccion]);var ae=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ce(),e.direccion||y(!1),setTimeout((function(){b(!0)}),700);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){ae()}),[]);var ne=function(e){y(!0),t.environment.api.getDireccion(e).then((function(e){if("ok"===e.kind){var t=Object(n.a)({},e.data);if(t.calle_principal={label:t.calle_principal,value:t.calle_principal},t.calle_secundaria={label:t.calle_secundaria,value:t.calle_secundaria},P(t),e.data.ubicacion){var a=e.data.ubicacion.split(",");G(parseFloat(a[0])),K(parseFloat(a[1])),H({lat:parseFloat(a[0]),lng:parseFloat(a[1])})}}else L("Ocurri\xf3 un error al conectarse al servidor, vuelva a intentar en unos momentos","error");y(!1)}))};Object(l.useEffect)((function(){t.hasLocationPermission&&ie().catch((function(e){console.log(e),String(e).includes("location disabled")&&L("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]);var ie=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,te([t.coords.latitude,t.coords.longitude]),G(t.coords.latitude),K(t.coords.longitude),H({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){t.ciudades.length||(y(!0),t.actualizarDatosInicio(!1).then((function(){y(!1)})))},re=function(e,t){var a=Object(n.a)({},I);a[e]=t,P(a)};Object(l.useEffect)((function(){(j||!e.direccion)&&Y&&Z&&t.environment.api.infoCalle(Y,Z).then((function(e){if("ok"===e.kind){if(e.response.info){var a=e.response.info,i=Object(n.a)({},I);a.calle&&(i.calle_principal={value:a.calle,label:a.calle}),a.ciudad_obj&&(i.ciudad=t.ciudades.find((function(e){return e.id===a.ciudad_obj.id}))),a.secondary&&(i.calle_secundaria={value:a.secondary,label:a.secondary}),P(i)}}else console.log("error infoCalle",e)}))}),[Y,Z]);var oe=function(e,t){re(e,t)};return T?Object(g.jsxs)(s.q,{isOpen:T,id:"modal-tarjeta",swipeToClose:!1,backdropDismiss:!1,children:[Object(g.jsx)(f.k,{color:"var(--naranja-abi)",botonIzquierdo:Object(g.jsx)("span",{onClick:function(){z(!1)},children:Object(g.jsx)(x.a,{size:30,color:"#ffffff"})}),titulo:"".concat(I.id?"Editar":"Crear"," direcci\xf3n")}),!j&&Object(g.jsx)("div",{style:{display:"flex",flexGrow:1,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(s.z,{})}),j&&Object(g.jsxs)("div",{style:{padding:20,overflowY:"auto"},children:[Object(g.jsx)(O.a,{ref:F,lat:Y,lng:Z,onAccept:function(e,t){G(e),K(t),H([e,t])}}),Object(g.jsx)("p",{children:"Ingrese la direcci\xf3n de su casa o destino deseado para la entrega de los pedidos realizados en la plataforma."}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:I?I.nombre:"",error:k&&k.nombre,set_dato:oe,columnas:12,columnas_sm:6}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)("div",{className:"row my-2",children:[Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)("label",{className:"font-weight-bold text-primary",children:"Seleccione la ubicaci\xf3n"})}),j&&Object(g.jsx)("div",{className:"col-12",style:{height:300,width:"100%",cursor:"pointer"},children:Object(g.jsx)(f.z,{lat:Y,lng:Z,zoom:Y?16:14,center:U,bloquear_interaccion:!0,onClick:function(){setTimeout((function(){F.current.open()}),300)}})})]})}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:I?I.calle_principal:"",error:k&&k.calle_principal,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(p.z)(t,re,P,I,"calle_principal",e)},opciones_select:function(e){return Object(p.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:I?I.calle_secundaria:"",error:k&&k.calle_secundaria,set_dato:function(e,t){t&&re(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(p.z)(t,re,P,I,"calle_secundaria",e)},opciones_select:function(e){return Object(p.g)(t,ee,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:I?I.numero:"",error:k&&k.numero,set_dato:oe,columnas:12,columnas_sm:6}),Object(g.jsx)(f.b,{deshabilitado:!N,titulo:"Referencia",tipo:"textarea",campo:"referencia",valor:I?I.referencia:"",error:k&&k.referencia,set_dato:oe,columnas:12})]}),Object(g.jsx)(f.A,{titulo:"Ciudad",titulo_label:"Seleccion\xe1 la ciudad",listado_elementos:t.ciudades,listado_elementos_seleccionados:I.ciudad,datos_filtrados:function(e){re("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre"}),k.ciudad&&Object(g.jsx)("div",{className:"text-danger",children:k.ciudad}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"font-weight-bold text-gray",children:"Eleg\xed un icono distintivo"}),Object(g.jsxs)("div",{className:"campo-registro-abi",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(g.jsx)("div",{onClick:function(){return re("icono","casa")},className:"casa"===I.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===I.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","empresa")},className:"empresa"===I.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===I.icono?"filter-invert-imagen":""})}),Object(g.jsx)("div",{onClick:function(){return re("icono","maletin")},className:"maletin"===I.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===I.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","corazon")},className:"corazon"===I.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===I.icono?"filter-invert-imagen":"",height:32})}),Object(g.jsx)("div",{onClick:function(){return re("icono","alfiler")},className:"alfiler"===I.icono?"icono-direccion-seleccionado":"icono-direccion",children:Object(g.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===I.icono?"filter-invert-imagen":"",height:32})})]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"checkbox",id:"chk-default",checked:I.default}),Object(g.jsx)("label",{onClick:function(e){re("default",!I.default)},children:"Direcci\xf3n por defecto"})]})]}),Object(g.jsx)(s.i,{children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:function(){return z(!1)},children:"Cancelar"}),Object(g.jsxs)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0},disabled:N,onClick:function(){y(!0),S({});var i=Y+","+Z,c=I.calle_principal,r=I.calle_secundaria,o=Object(n.a)(Object(n.a)({},I),{},{ubicacion:i,calle_principal:c?c.value:"",calle_secundaria:r?r.value:""});o.ciudad&&"object"===typeof o.ciudad&&(o.ciudad=o.ciudad.id),o.usuario=a.id,t.environment.api.guardarDireccion(o).then((function(t){B(t,"Direcci\xf3n guardada correctamente","guardar"),"ok"===t.kind?(e.successCallback&&e.successCallback(),z(!1)):"bad-data"===t.kind&&S(t.errors),y(!1)}))},children:[N&&Object(g.jsx)(s.z,{name:"crescent"}),!N&&Object(g.jsx)("span",{children:"Guardar"})]})]})})]}):null}))},485:function(e,t,a){},486:function(e,t,a){"use strict";var n=a(24),i=a(3),c=a(195),r=a(1527),o=a(161),s=a(86),l=a(57),d=a(40),u=a(8),j=a(101),b=a(9),m=Object(o.a)((function(){var e=Object(s.b)(),t=(e.adminStore,e.loginStore),a=Object(l.e)(),o=Object(i.useState)(!1),m=Object(n.a)(o,2),f=m[0],p=m[1],h=Object(j.J)(),O=Object(j.B)();return Object(b.jsxs)("header",{className:"topbar",style:{zIndex:500},children:[Object(b.jsx)(d.a,{isOpen:f,onDidDismiss:function(){return p(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return h("Sesi\xf3n finalizada","dark"),O(),void(document.location.href="/")}}]}),Object(b.jsxs)("nav",{className:"navbar top-navbar navbar-expand-md navbar-light",children:[Object(b.jsx)("div",{className:"navbar-header",children:Object(b.jsxs)("a",{href:u.m.ADMIN,className:"navbar-brand",onClick:function(e){e.preventDefault(),document.location.pathname==u.m.ADMIN&&document.location.reload(),t.administrador?a.push(u.m.ADMIN):20===t.modo_uso_app?a.push(u.o.PERFIL):10===t.modo_uso_app?a.push(u.m.CLIENTE):a.push(u.p.INICIO)},children:[Object(b.jsxs)("b",{children:[Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"30px"}),Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"light-logo",height:"30px"})]}),Object(b.jsx)("span",{className:"logo-text",children:Object(b.jsx)("img",{src:"assets/abi-v.svg",alt:"Inicio",className:"dark-logo",height:"50px"})})]})}),Object(b.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(b.jsx)("ul",{className:"navbar-nav mr-auto float-left"}),Object(b.jsxs)("ul",{className:"navbar-nav my-lg-0",children:[30!==t.modo_uso_app&&Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){t.fabricante?a.push({pathname:"/admin/staff/detail",origen:"header"}):a.push("/admin")},children:Object(b.jsx)("div",{className:"profile-pic-container",children:Object(b.jsx)(c.a,{className:"profile-pic"})})}),Object(b.jsx)("div",{className:"dropdown-menu mailbox dropdown-menu-right animated bounceInDown",children:Object(b.jsx)("ul",{className:"dropdown-user list-style-none",children:Object(b.jsx)("li",{className:"user-list",children:Object(b.jsxs)("a",{className:"px-3 py-2",href:"#",children:[Object(b.jsx)(c.a,{className:"profile-pic",style:{width:18}}),Object(b.jsx)("i",{"data-feather":"user",className:"feather-icon"}),t.username]})})})})]}),Object(b.jsx)("li",{className:"nav-item dropdown",children:Object(b.jsx)("a",{className:"nav-link dropdown-toggle waves-effect waves-dark","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return p(!0)},style:{cursor:"pointer"},children:Object(b.jsx)("div",{children:Object(b.jsx)(r.a,{className:"profile-pic"})})})})]})]})]})]})}));t.a=m},487:function(e,t,a){"use strict";var n=a(0),i=a.n(n),c=a(2),r=a(33),o=a(24),s=a(3),l=a(1529),d=a(1530),u=a(1531),j=a(1532),b=a(1533),m=a(1534),f=a(1033),p=a(1535),h=a(1536),O=a(1537),x=a(1527),g=a(195),v=a(1538),_=a(1539),N=a(161),y=a(86),C=a(57),w=a(40),k=a(8),S=a(124),A=a(101),D=a(30),I=a(502),P=a(9),R=Object(N.a)((function(){var e,t=Object(y.b)(),a=t.loginStore,n=t.adminStore,N=t.transportistaStore,R=Object(s.useState)(!1),E=Object(o.a)(R,2),T=E[0],z=E[1],B=Object(C.e)(),L=B.location.pathname,F=Object(s.useState)(!1),M=Object(o.a)(F,2),q=M[0],U=M[1],H=Object(s.useState)(L),W=Object(o.a)(H,2),V=W[0],Y=W[1],G=(Object(A.A)(),Object(A.B)()),J=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Array.prototype.some.call(t,(function(e){return-1!==L.indexOf(e)}))},Q=function(e){return J(e)?"active":""},Z=function(){return J("admin/configuracion","admin/staff","admin/tipo-vehiculo",k.m.ADMIN_RUBRO,k.m.ADMIN_CATEGORIA,k.m.ADMIN_PREGUNTAS_FRECUENTES)},K=function(){return J("admin/pedido","admin/orden_venta","admin/hoja_ruta",k.m.ADMIN_BALANCE)},X=function(){return J(k.m.ADMIN_RENDICION,k.m.ADMIN_PAGO_PROVEEDOR,k.m.ADMIN_PAGO_CLIENTE,k.m.ADMIN_FACTURA_PROVEEDOR,k.m.ADMIN_FACTURA_CLIENTE)},$=function(){return J("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},ee=function(){return J("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},te=function(){return J("admin/precio","admin/inventario","admin/producto/moderado")},ae=function(){return J(k.m.ADMIN_API_CONFIG,k.m.ADMIN_API_VIEW,k.m.ADMIN_API_DOC,k.m.ADMIN_API_LOG)},ne={administracion:Z(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ae()},ie=Object(s.useState)(ne),ce=Object(o.a)(ie,2),re=ce[0],oe=ce[1],se=function(e){e.preventDefault();var t=Object(r.a)({},re),a=e.target.dataset.menu;return t[a]=!t[a],oe(t),!1};return Object(s.useEffect)((function(){"full"===n.sidebarType?oe({administracion:Z(),movimientos:K(),moderacion:$(),facturacion:X(),maestros:ee(),productos:te(),api:ae()}):oe({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[V]),Object(w.N)(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(B.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(P.jsxs)("aside",{className:"left-sidebar","data-sidebarbg":"skin5",children:[Object(P.jsx)(I.b,{pedido:null===(e=N.hojaRutaActiva)||void 0===e?void 0:e.pedido,setVisible:function(){return U(!1)},visible:q}),Object(P.jsxs)("div",{className:"scroll-sidebar",children:[Object(P.jsx)(w.a,{isOpen:T,onDidDismiss:function(){return z(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(A.h)(t,B,10)}}]}),Object(P.jsxs)("nav",{className:"sidebar-nav",children:[30!==a.modo_uso_app&&Object(P.jsxs)("ul",{id:"sidebarnav",children:[Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{onClick:function(){B.push("/admin"),"/admin"==L&&window.location.reload()},"aria-expanded":"false",children:[Object(P.jsx)(l.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3",children:"Inicio"})]})}),Object(P.jsxs)("li",{className:re.movimientos?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"movimientos",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(d.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"movimientos",onClick:se,children:"Movimientos"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.movimientos?"in":""),children:[a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/pedido",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Pedidos"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/orden_venta",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Ordenes de Venta"})})}),!a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_BALANCE,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Balance"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/hoja_ruta",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Hojas de ruta"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_TORRE_DE_CONTROL,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Torre de Control"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_BUSQUEDA,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"No encontrados"})})})]})]}),a.administrador&&Object(P.jsxs)("li",{className:re.facturacion?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"facturacion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(u.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"facturacion",onClick:se,children:"Facturaci\xf3n"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.facturacion?"in":""),children:[Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_FACTURA_CLIENTE,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Facturas cliente"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_FACTURA_PROVEEDOR,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Facturas proveedor"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_PAGO_CLIENTE,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Pagos cliente"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_PAGO_PROVEEDOR,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Pagos proveedor"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_RENDICION,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Rendici\xf3n"})})})]})]}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{className:Q(k.m.ADMIN_REPORTES),onClick:function(){return B.push(k.m.ADMIN_REPORTES)},"aria-expanded":"false",children:[Object(P.jsx)(j.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3",children:"Reportes"})]})}),Object(P.jsxs)("li",{className:re.moderacion?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"moderacion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(b.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"moderacion",onClick:se,children:"Moderaci\xf3n"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.moderacion?"in":""),children:[a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)("a",{className:Q("admin/proveedor/pendiente/"),onClick:function(){oe({administracion:!1,movimientos:!1,moderacion:!0,maestros:!1,facturacion:!1,productos:!1,api:!1}),B.push("/admin/proveedor/pendiente/")},"aria-expanded":"false",children:Object(P.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/transportista/pendiente",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/vehiculo/pendiente",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/producto/pendiente",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Productos"})})})]})]}),a.administrador&&Object(P.jsxs)("li",{className:re.maestros?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"maestros",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(m.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"maestros",onClick:se,children:"Maestros"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.maestros?"in":""),children:[a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/cliente",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Clientes"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_FABRICANTES("moderado"),urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Proveedores"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/transportista/moderado",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Drivers"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/vehiculo/moderado",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Veh\xedculos"})})})]})]}),Object(P.jsxs)("li",{className:re.productos?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"productos",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(f.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"productos",onClick:se,children:"Cat\xe1logo"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.productos?"in":""),children:[Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/producto/moderado",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Productos"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/precio",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Precios"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/inventario",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Inventario"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_COMENTARIO_PRODUCTO,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Comentarios de productos"})})})]})]}),Object(P.jsxs)("li",{className:re.administracion?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"administracion",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(p.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"administracion",onClick:se,children:"Configuraci\xf3n"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.administracion?"in":""),children:[a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/staff",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Usuarios"})})}),!a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_FABRICANTE_DETAIL("pendiente",a.fabricante_id),urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Mi perfil"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item active",children:Object(P.jsx)(S.b,{href:"/admin/configuracion",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Par\xe1metros"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:"/admin/tipo-vehiculo",urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Tipos de veh\xedculo"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_RUBRO,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Rubros"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_CATEGORIA,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Categor\xedas"})})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_PREGUNTAS_FRECUENTES,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Preguntas frecuentes"})})})]})]}),Object(P.jsxs)("li",{className:re.api?"active":"",children:[Object(P.jsxs)("a",{className:"has-arrow waves-effect waves-dark ","data-menu":"api",onClick:se,"aria-expanded":"false",href:"#",children:[Object(P.jsx)(h.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3","data-menu":"api",onClick:se,children:"API"})]}),Object(P.jsxs)("ul",{"aria-expanded":"false",className:"collapse "+(re.api?"in":""),children:[a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_API_CONFIG,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Configuraci\xf3n"})})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_API_DOC,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Documentaci\xf3n"})})}),!a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsx)(S.b,{href:k.m.ADMIN_API_VIEW,urlConditionalClassName:"active",children:Object(P.jsx)("span",{className:"hide-menu",children:"Mi Acceso"})})})]})]}),!a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{className:"",onClick:function(){return z(!0)},"aria-expanded":"false",children:[Object(P.jsx)(O.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),a.administrador&&Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{className:"",onClick:function(){return B.push(k.m.ROOT)},"aria-expanded":"false",children:[Object(P.jsx)(O.a,{}),Object(P.jsx)("span",{className:"hide-menu ml-3",children:"La tienda"})]})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==D.Capacitor.getPlatform()?B.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(P.jsx)(x.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]}),30===a.modo_uso_app&&Object(P.jsxs)("ul",{id:"sidebarnav",children:[t.isDebug&&Object(P.jsx)("li",{className:"sidebar-item mt-3",children:Object(P.jsxs)("div",{onClick:function(){t.environment.api.getHojaRutaActiva().then((function(e){if("ok"===e.kind&&e.data){var t=e.data;N.setHojaRutaActiva(t),t&&t.next&&N.setItinerarioActivo(t.next)}}))},children:[Object(P.jsx)(g.a,{}),Object(P.jsx)("span",{onClick:function(){return U(!0)},className:"ml-3",children:"Hoja de ruta activa"})]})}),Object(P.jsx)("li",{className:"sidebar-item mt-3",children:Object(P.jsxs)(S.b,{href:k.p.INICIO,urlConditionalClassName:"active",children:[Object(P.jsx)(g.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"Mi perfil"})]})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)(S.b,{href:k.p.BALANCE,urlConditionalClassName:"active",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"Balance"})]})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)(S.b,{href:k.p.VEHICULOS,urlConditionalClassName:"active",children:[Object(P.jsx)(_.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"Veh\xedculos"})]})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{onClick:function(){z(!0)},children:[Object(P.jsx)(O.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"La tienda"})]})}),Object(P.jsx)("li",{className:"sidebar-item",children:Object(P.jsxs)("a",{onClick:function(){window.confirm("Confirma que desea cerrar sesi\xf3n?")&&("web"!==D.Capacitor.getPlatform()?B.push(k.m.LOGOUT):(G(),document.location.href="/"))},children:[Object(P.jsx)(x.a,{}),Object(P.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]})]})]})]})}));t.a=R},488:function(e,t,a){"use strict";var n=a(26),i=a(24),c=a(40),r=a(161),o=a(3),s=a(1068),l=a(1513),d=a(1021),u=a(1543),j=a(573),b=a(57),m=a(477),f=a(86),p=(a(547),a(502)),h=a(512),O=a(9),x=(a(144).WSS_BASE_URL,Object(r.a)((function(e){var t=Object(f.b)(),a=Object(o.useState)(),r=Object(i.a)(a,2),x=r[0],g=r[1],v=Object(o.useState)(),_=Object(i.a)(v,2),N=_[0],y=_[1],C=Object(o.useState)(null),w=Object(i.a)(C,2),k=w[0],S=w[1],A=Object(o.useState)(),D=Object(i.a)(A,2),I=D[0],P=D[1],R=Object(o.useState)(""),E=Object(i.a)(R,2),T=E[0],z=E[1],B=Object(o.useState)(!1),L=Object(i.a)(B,2),F=L[0],M=L[1],q=Object(o.useState)(!1),U=Object(i.a)(q,2),H=U[0],W=U[1],V=Object(o.useState)(!1),Y=Object(i.a)(V,2),G=Y[0],J=Y[1],Q=Object(o.useState)(!1),Z=Object(i.a)(Q,2),K=Z[0],X=Z[1],$=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ee=Object(b.f)().search,te=Object(b.e)(),ae=Object(o.useState)(!1),ne=Object(i.a)(ae,2),ie=ne[0],ce=ne[1];Object(o.useEffect)((function(){F&&(y([]),re())}),[F]),Object(o.useEffect)((function(){var e=new URLSearchParams(ee),t="1"===e.get("chat"),a=Number(e.get("pedido"));t&&a?(S(a),re()):a||S(null)}),[ee]),Object(o.useEffect)((function(){k&&N&&(g(N.find((function(e){return e.id===k}))),$?X(!0):(W(!0),J(!0),X(!1)))}),[N,k]),Object(o.useEffect)((function(){if(T&&N&&N.length>0){var e=Object(n.a)(N),t=T.toLowerCase();P(e.filter((function(e){return e.transportista.usuario.last_name.toLowerCase().includes(t)||e.transportista.usuario.first_name.toLowerCase().includes(t)||String(e.id).includes(t)})))}else""===T&&P(N)}),[T,N]),Object(o.useEffect)((function(){if(H){if(x){var e=new URLSearchParams(ee);e.set("chat","1"),e.set("pedido",String(x.id)),te.push(window.location.pathname+"?"+e)}}else{var t=new URLSearchParams(ee);t.delete("chat"),t.delete("pedido"),te.push(window.location.pathname+"?"+t)}}),[H,x]);var re=function(){ce(!0),t.environment.api.pedidosChat().then((function(e){"ok"===e.kind&&y(e.data),ce(!1)}))};return Object(O.jsxs)(O.Fragment,{children:[$&&!!x&&Object(O.jsx)(p.b,{visible:K,setVisible:function(){X(!1)},pedido:x}),!$&&Object(O.jsxs)("div",{id:"chat-interno-container",className:"col-12 col-lg-3 col-xl-2",children:[Object(O.jsxs)("div",{className:"listado-container",children:[Object(O.jsxs)("div",{className:"d-flex titulo cpointer px-1 py-3",onClick:function(){return M(!F)},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1},children:[Object(O.jsx)(j.a,{size:20,style:{transform:"rotateY(180deg)",marginRight:"0.2rem"}}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("h4",{children:"Chat interno"}),t.mensajes>0&&Object(O.jsx)("div",{className:" ml-1 txt-dot",children:Object(O.jsx)("span",{className:"dot"})})]})]}),Object(O.jsxs)("div",{children:[!F&&Object(O.jsx)(s.a,{}),F&&Object(O.jsx)(l.a,{})]})]}),F&&Object(O.jsx)(c.g,{className:"lista",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"input-group align-items-center",children:[Object(O.jsx)("input",{type:"search",className:"form-control",placeholder:"\xbfA qui\xe9n est\xe1s buscando?",value:T,onChange:function(e){z(e.target.value)}}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("div",{className:"search-container",children:Object(O.jsx)(d.a,{size:20})})})]}),Object(O.jsxs)("a",{className:"chat-link px-2 py-2",href:"https://wa.me/595981840840",target:"_blank",children:[Object(O.jsx)("div",{className:"icono",children:m.a.atencion_cliente}),Object(O.jsx)("div",{className:"nombre ",children:Object(O.jsx)("span",{style:{color:"var(--naranja-abi)"},children:"Staff ABi"})})]}),ie&&Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:Object(O.jsx)(c.z,{})}),!ie&&!!I&&(null===I||void 0===I?void 0:I.length)>0&&I.map((function(e){var t=e.transportista;return Object(O.jsx)(O.Fragment,{children:!!e.transportista&&Object(O.jsxs)("a",{className:"chat-link px-1 py-2",onClick:function(){g(null),setTimeout((function(){g(e),J(!0),M(!1)}),10),W(!0)},children:[Object(O.jsx)("div",{className:"img-perfil-container",children:Object(O.jsx)("img",{src:t.usuario.imagen_perfil})}),Object(O.jsxs)("div",{style:{lineHeight:"0.91rem"},children:[Object(O.jsxs)("div",{className:"nombre",children:[t.usuario.first_name," ",t.usuario.last_name]}),Object(O.jsxs)("small",{style:{lineHeight:"0.91rem"},children:["id#",e.id]})]})]},e.id)})}))]})})]}),H&&Object(O.jsxs)("div",{className:"chat-interno-seleccionado",style:{position:"absolute",left:"20rem"},children:[Object(O.jsxs)("div",{className:"d-flex titulo px-2 py-3",onClick:function(){return J(!G)},children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-start",style:{flex:1},children:Object(O.jsx)("div",{children:x&&Object(O.jsxs)("h4",{children:[x.transportista.usuario.first_name," ",x.transportista.usuario.last_name]})})}),Object(O.jsxs)("div",{children:[!G&&Object(O.jsx)(s.a,{}),G&&Object(O.jsx)(l.a,{})]}),Object(O.jsx)("a",{onClick:function(){return W(!1)},children:Object(O.jsx)(u.a,{})})]}),G&&Object(O.jsx)("div",{className:"chat-component-container d-flex flex-column",children:x&&Object(O.jsx)(h.a,{containerStyle:{flex:1},pedido:x,ocultarHeader:!0})})]})]})]})})));t.a=x},489:function(e,t,a){"use strict";var n=a(0),i=a.n(n),c=a(2),r=a(24),o=(a(569),a(40)),s=a(531),l=a.n(s),d=a(161),u=a(87),j=a.n(u),b=a(3),m=a.n(b),f=a(1021),p=a(1524),h=a(57),O=a(475),x=a(8),g=a(101),v=a(477),_=a(86),N=a(9),y=Object(d.a)((function(e){var t=Object(_.b)(),a=t.loginStore,n=Object(b.useState)(!1),s=Object(r.a)(n,2),d=s[0],u=s[1],y=Object(b.useState)("hide"),C=Object(r.a)(y,2),w=C[0],k=C[1],S=Object(h.e)(),A=/Mobi/.test(navigator.userAgent),D=Object(g.J)(),I=Object(b.useState)(""),P=Object(r.a)(I,2),R=P[0],E=P[1];m.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&E(e.get("s")||"")}),[]);var T=function(){u(!1),a.administrador?S.push(x.m.ADMIN):20===a.modo_uso_app?S.push(x.o.PERFIL):10===a.modo_uso_app?S.push(x.m.CLIENTE):S.push(x.p.INICIO)},z=function(e){13===e.keyCode&&B(e.target.value.trim())},B=function(e){S.push("".concat(x.o.CATALOGO).concat(e?"?s="+encodeURIComponent(e):""))},L=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.environment.api.simple_get("/notificacion/");case 2:"ok"===(a=e.sent).kind?k(a.data.results):D("No se pudo obtener las notificaciones","error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{style:{height:A?136:"auto"},children:[!A&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"header header-fabricante",style:{zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(N.jsx)("div",{className:"",style:{display:"flex",justifyContent:"center",backgroundColor:"var(--azul-fabricante)"},children:Object(N.jsxs)("div",{className:"container-lg top-cliente",children:[Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(N.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.transportista)S.push(x.p.INICIO);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),S.push(window.location.pathname+"?"+e.toString())}},children:[Object(N.jsx)("span",{className:"icn-driver mr-2",children:v.a.driver}),Object(N.jsx)("span",{className:"texto-header",children:"Driver"})]}),Object(N.jsxs)("div",{className:"boton-header-cliente",onClick:function(){a?Object(g.h)(t,S,10):S.push(x.m.ROOT)},children:[Object(N.jsx)("span",{className:"icn-proveedor",children:v.a.tienda}),Object(N.jsx)("span",{className:"texto-header",children:"Tienda ABi"})]})]}),Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(N.jsx)("a",{className:"boton-header-cliente",children:Object(N.jsxs)("div",{id:"icon-notificacion",style:{height:30,width:30,position:"relative"},children:[Object(N.jsxs)("span",{className:"icn-notificacion",onClick:function(){var e="hide"!==w?"hide":null;k(e),"hide"!==e&&L()},children:[v.a.notificacion,t.notificaciones>0&&Object(N.jsx)("span",{className:"cantidad",children:t.notificaciones})]}),"hide"!==w&&Object(N.jsxs)("div",{className:"notificaciones-container",children:[Object(N.jsx)("div",{className:"titulo",children:"Notificaciones"}),Object(N.jsxs)("div",{className:"lista-notificaciones",children:[null===w&&Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(o.z,{name:"crescent",className:"loadingSpinner"})}),null!==w&&w.map((function(e){return Object(N.jsxs)("div",{className:"notificacion-container",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:[Object(N.jsx)("img",{className:"img",src:"assets/icon/perfil.png"}),Object(N.jsxs)("div",{className:"titulo-fecha",children:[Object(N.jsx)("div",{className:"titulo-notificacion",children:e.titulo}),Object(N.jsx)("div",{className:"fecha",children:j()(e.fecha).fromNow()})]})]})}))]}),Object(N.jsx)("div",{className:"btn-ver-mas",onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:"Ver m\xe1s notificaciones"})]})]})}),a.isLoggedIn&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("a",{onClick:T,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(N.jsxs)("div",{className:"nombre-usuario-header",children:[a.first_name," ",a.last_name]}),Object(N.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",a.id]})]}),Object(N.jsx)("a",{className:"centrado-flex",onClick:T,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(N.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil?a.imagen_perfil:"assets/icon/person-line.png",width:a.imagen_perfil?50:30,height:a.imagen_perfil?50:30,style:a.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!a.isLoggedIn&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(N.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(N.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(N.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("registro","1"),S.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(N.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(N.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(N.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(N.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(N.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(N.jsx)("a",{title:"Ir al inicio",href:x.o.PEDIDOS,onClick:function(e){e.preventDefault(),S.push(x.o.PEDIDOS)},children:Object(N.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(N.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(N.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(N.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:R,onChange:function(e){E(e.target.value)},onKeyDown:z}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return B(R)},children:Object(N.jsx)(f.a,{size:20})})})]})}),Object(N.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:Object(N.jsx)("span",{className:"cpointer",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(N.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"70px"})})})]})})]})}),A&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"header header-fabricante w-100",style:{position:"fixed",zIndex:999},children:[Object(N.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(N.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:Object(N.jsx)("div",{onClick:function(){return u(!0)},className:"centrado-flex",children:Object(N.jsx)(l.a,{style:{fontSize:30}})})}),Object(N.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(N.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return S.push(x.m.ROOT)},children:v.a.abi})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(N.jsx)("span",{className:"cpointer boton-header-cliente",onClick:function(){return S.push(x.o.HORARIO_ATENCION)},children:Object(N.jsx)("img",{src:"assets/".concat(t.abierto?"open":"close",".png"),width:"35px"})}),Object(N.jsx)("span",{className:"cpointer boton-header-cliente",style:{height:30,width:30,position:"relative"},onClick:function(){return S.push(x.o.NOTIFICACIONES)},children:Object(N.jsxs)("span",{className:"icn-notificacion",children:[v.a.notificacion,t.notificaciones>0&&Object(N.jsx)("span",{className:"cantidad",children:t.notificaciones})]})})]})]}),Object(N.jsxs)("div",{className:"top-cliente-movil ",style:{backgroundColor:"var(--azul-fabricante)"},children:[Object(N.jsx)("div",{onClick:function(){return S.goBack()},children:Object(N.jsx)(p.a,{})}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{type:"search",className:"form-control",placeholder:"Escriba el nombre del producto",value:R,style:{},onChange:function(e){E(e.target.value)},onClick:function(){E("")},onKeyDown:z}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return B(R)},children:Object(N.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(N.jsx)(O.l,{visible:d,set_visible:function(e){u(e)},fabricante:a.fabricante?a.fabricante:null})]})]})}));t.a=y},490:function(e,t,a){"use strict";var n=a(0),i=a.n(n),c=a(2),r=(a(33),a(24)),o=(a(548),a(40)),s=a(161),l=a(3),d=a(57),u=a(8),j=a(101),b=a(477),m=a(86),f=a(9),p=Object(s.a)((function(){var e=Object(m.b)(),t=(e.loginStore,e.adminStore),a=(e.transportistaStore,Object(l.useState)(!1)),n=Object(r.a)(a,2),s=n[0],p=n[1],h=Object(d.e)(),O=h.location.pathname,x=Object(l.useState)(O),g=Object(r.a)(x,2),v=g[0],_=g[1],N=Object(j.s)(),y=(Object(j.A)(),Object(d.g)(),function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Array.prototype.some.call(t,(function(e){return-1!==O.indexOf(e)}))}),C=function(){return y("admin/configuracion","admin/staff","admin/tipo-vehiculo",u.m.ADMIN_RUBRO,u.m.ADMIN_CATEGORIA,u.m.ADMIN_PREGUNTAS_FRECUENTES)},w=function(){return y("admin/pedido","admin/orden_venta","admin/hoja_ruta",u.m.ADMIN_BALANCE)},k=function(){return y(u.m.ADMIN_RENDICION,u.m.ADMIN_PAGO_PROVEEDOR,u.m.ADMIN_PAGO_CLIENTE,u.m.ADMIN_FACTURA_PROVEEDOR,u.m.ADMIN_FACTURA_CLIENTE)},S=function(){return y("admin/driver/pendiente","admin/proveedor/pendiente","admin/producto/pendiente","admin/vehiculo/pendiente")},A=function(){return y("admin/cliente","admin/proveedor/moderado","admin/driver/moderado","admin/vehiculo/moderado")},D=function(){return y("admin/precio","admin/inventario","admin/producto/moderado")},I=function(){return y(u.m.ADMIN_API_CONFIG,u.m.ADMIN_API_VIEW,u.m.ADMIN_API_DOC,u.m.ADMIN_API_LOG)},P={administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:A(),productos:D(),api:I()},R=Object(l.useState)(P),E=Object(r.a)(R,2),T=(E[0],E[1]);return Object(l.useEffect)((function(){"full"===t.sidebarType?T({administracion:C(),movimientos:w(),moderacion:S(),facturacion:k(),maestros:A(),productos:D(),api:I()}):T({administracion:!1,movimientos:!1,moderacion:!1,facturacion:!1,maestros:!1,productos:!1,api:!1})}),[v]),Object(o.N)(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(h.location.pathname);case 1:case"end":return e.stop()}}),e)})))),Object(f.jsx)(f.Fragment,{children:!N&&Object(f.jsx)("div",{id:"sidebar-fabricante",className:"col-12 col-md-3 col-lg-3 col-xl-2 mb-3",children:Object(f.jsxs)("div",{className:"scroll-sidebar",children:[Object(f.jsx)(o.a,{isOpen:s,onDidDismiss:function(){return p(!1)},header:"Cambiar a modo cliente",message:"Confirma que desea cambiar a modo cliente?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"btn-secondary"},{text:"Cambiar",cssClass:"btn-primary",handler:function(){Object(j.h)(e,h,10)}}]}),Object(f.jsxs)("nav",{className:"sidebar-nav",children:[Object(f.jsx)("a",{className:y("proveedor/pedidos/pendiente")?"resaltado":"",onClick:function(){return h.replace(u.o.PEDIDOS_PENDIENTES)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Pendientes",e.pendientes>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsx)("a",{className:y("proveedor/pedidos/retiro")?"resaltado-naranja":"",onClick:function(){return h.replace(u.o.PEDIDOS_RETIRO)},children:Object(f.jsxs)("div",{className:"txt-dotsidebar",children:["Retiro",e.retiro>0&&Object(f.jsx)("span",{className:"dot"})]})}),Object(f.jsxs)("a",{className:y("proveedor/pedidos/todo")?"resaltado":"",onClick:function(){return h.replace(u.o.PEDIDOS)},children:[Object(f.jsx)("img",{src:"assets/icon/todo.png"}),Object(f.jsx)("div",{children:"Todos"})]}),Object(f.jsxs)("a",{className:y(u.o.CATALOGO,u.o.PRODUCTO_CREATE)?"resaltado":"",onClick:function(){return h.replace(u.o.CATALOGO)},children:[b.a.caja,Object(f.jsx)("div",{children:"Cat\xe1logo"})]}),Object(f.jsxs)("a",{className:y("proveedor/balance")?"resaltado":"",onClick:function(){return h.replace(u.o.BALANCE)},children:[b.a.facturacion,Object(f.jsx)("div",{children:"Balance"})]}),Object(f.jsxs)("a",{className:y(u.o.VENTAS)?"resaltado":"",onClick:function(){return h.replace(u.o.VENTAS)},children:[b.a.movimientos,Object(f.jsx)("div",{children:"Ventas"})]}),Object(f.jsxs)("a",{className:y("/proveedor/configuracion","/proveedor/configuracion/api","/proveedor/configuracion/documentos","/proveedor/configuracion/horario")?"resaltado":"",onClick:function(){return h.replace(u.o.CONFIGURACION)},children:[Object(f.jsx)("img",{src:"assets/icon/permisos.png"}),Object(f.jsx)("div",{children:"Configuraci\xf3n"})]})]})]})})})}));t.a=p},491:function(e,t,a){"use strict";var n=a(24),i=a(3),c=a(40),r=a(195),o=a(1539),s=a(161),l=a(86),d=a(524),u=a.n(d),j=a(535),b=a.n(j),m=a(587),f=a.n(m),p=a(588),h=a.n(p),O=a(505),x=a(57),g=a(101),v=a(8),_=a(197),N=(a(525),a(9)),y=a(198),C=Object(s.a)((function(e){var t=Object(l.b)(),a=t.loginStore,s=Object(i.useState)(!1),d=Object(n.a)(s,2),j=d[0],m=d[1],p=Object(i.useState)(""),C=Object(n.a)(p,2),w=C[0],k=C[1],S=Object(i.useState)(""),A=Object(n.a)(S,2),D=A[0],I=A[1],P=Object(i.useState)(""),R=Object(n.a)(P,2),E=R[0],T=R[1],z=Object(i.useState)(!1),B=Object(n.a)(z,2),L=B[0],F=B[1],M=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),q={width:20,height:20,marginLeft:10},U=Object(x.e)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(c.q,{isOpen:j,cssClass:"modal-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return m(!1)},children:Object(N.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(N.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[!a.imagen_perfil&&Object(N.jsx)(r.a,{size:25}),a.imagen_perfil&&Object(N.jsx)("img",{style:{borderRadius:"50%",width:50,height:50},alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil,onError:function(e){return e.target.style.display="none"}}),Object(N.jsxs)("strong",{style:{lineHeight:1,marginTop:5,marginLeft:10},children:["HOLA ",a.isLoggedIn&&a.first_name,"!"]})]}),a.isLoggedIn&&Object(N.jsx)("small",{className:"d-flex pt-2 text-white",style:{marginLeft:10},children:"Cliente"}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(N.jsx)("a",{onClick:function(){U.push(v.m.ROOT),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:a.isLoggedIn?Object(N.jsx)("a",{onClick:function(){m(!1),a.administrador?U.push(v.m.ADMIN):20===a.modo_uso_app?U.push(v.o.PERFIL):10===a.modo_uso_app?a.perfil_completo||a.administrador||U.push(v.m.CLIENTE):U.push(v.p.INICIO)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:a.administrador?"Panel":a.perfil_completo?"Mi perfil":"COMPLETAR PERFIL"}):null}),a.isLoggedIn&&Object(N.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(N.jsx)("a",{onClick:function(){U.push("/pedido"),m(!1)},style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Pedidos"})}),a.isLoggedIn&&Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Comprar de nuevo"}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(N.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(N.jsx)("a",{href:"#",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:"Perfil"}),Object(N.jsxs)("div",{className:"row my-3 d-flex justify-content-center",children:[Object(N.jsxs)("div",{className:"col-6 text-center icono",onClick:function(){a.fabricante?(k("Cambiar a modo fabricante"),I("Confirma que desea cambiar a modo fabricante?"),T("cambiar-fabricante"),F(!0)):(m(!1),U.push(v.m.REGISTRO_FABRICANTE))},children:[Object(N.jsx)(c.k,{icon:v.w,color:"light",className:"d-block mx-auto",style:{fontSize:28}}),Object(N.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Proveedor"})]}),Object(N.jsxs)("div",{className:"col-6 text-center",onClick:function(){if(a.transportista)F(!0),k("Cambiar a modo driver"),I("Confirma que desea cambiar a modo driver?"),T("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),U.push(window.location.pathname+"?"+e.toString())}},children:[Object(N.jsx)(o.a,{size:26,className:"d-block mx-auto",style:{color:"#ffffff"}}),Object(N.jsx)("span",{style:{color:"#FFF",fontSize:14},children:"Driver"})]})]}),Object(N.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]})]})})}),Object(N.jsx)(c.a,{isOpen:L,onDidDismiss:function(){return F(!1)},header:""!==w?w:"Cerrar sesi\xf3n",message:""!==D?D:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-fabricante"===E?Object(g.h)(t,U,20):"cambiar-transportista"===E&&Object(g.h)(t,U,30)}}]}),!M&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{id:"footer",style:{backgroundColor:"#efefef"},children:[Object(N.jsx)("div",{className:"scroll-to-top",onClick:function(){e.content&&e.content.current.scrollToTop(100),e.container.current.scrollTop=0},style:{backgroundColor:"#efefef",color:"var(--gris-oscuro-abi)"},children:Object(N.jsxs)("div",{className:"d-flex flex-column  align-items-center pb-3 pt-3",children:[Object(N.jsx)(O.d,{}),Object(N.jsx)("span",{className:"ml-2",children:"Ir al inicio de la p\xe1gina"})]})}),Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(N.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(N.jsx)("div",{className:"footer p-0",children:Object(N.jsx)("div",{className:"top",children:Object(N.jsx)("div",{className:"container pt-4",children:Object(N.jsxs)("div",{className:"row pt-2",children:[Object(N.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"#",children:[Object(N.jsx)("span",{children:"Qui\xe9nes somos"}),Object(N.jsx)("img",{alt:"Qui\xe9nes somos",style:q,src:"assets/abi-logo-gray.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(N.jsx)("span",{children:"Condiciones de uso"}),Object(N.jsx)("img",{alt:"Condiciones de uso",style:q,src:"assets/icon/documento.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://app.abi.com.py/terminos/",children:[Object(N.jsx)("span",{children:"Pol\xedticas de privacidad"}),Object(N.jsx)("img",{alt:"Pol\xedticas de privacidad",style:q,src:"assets/icon/documento.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:v.m.PREGUNTAS_FRECUENTES,children:[Object(N.jsx)("span",{children:"Preguntas frecuentes"}),Object(N.jsx)("img",{alt:"Preguntas frecuentes",style:q,src:"assets/icon/info.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("a",{href:"https://wa.me/595981840840",target:"_blank",children:[Object(N.jsx)("span",{children:"Contactanos"}),Object(N.jsx)("img",{alt:"Contactanos",style:q,src:"assets/icon/atencion-cliente.png"})]})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:Object(N.jsx)("span",{children:"Comentarios y Sugerencias"})})})]}),Object(N.jsxs)("div",{className:"col-lg-4 col-xl-3 col-12",children:[Object(N.jsx)("p",{children:Object(N.jsx)("a",{onClick:function(){if(a.isLoggedIn&&a.transportista)F(!0),k("Cambiar a modo driver"),I("Confirma que desea cambiar a modo driver?"),T("cambiar-transportista");else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrot","1"),U.push(window.location.pathname+"?"+e.toString())}},children:"Drivers"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{onClick:function(){if(a.isLoggedIn&&a.fabricante)k("Cambiar a modo fabricante"),I("Confirma que desea cambiar a modo fabricante?"),T("cambiar-fabricante"),F(!0);else{m(!1);var e=new URLSearchParams(window.location.search);e.set("registrop","1"),U.push(window.location.pathname+"?"+e.toString())}},children:"Proveedores"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"Marcas adheridas"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"\xc1reas de cobertura"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"#",children:"Informaci\xf3n \xdatil"})}),Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"mailto:directorio@abi.com.py?subject=Quiero trabajar en ABi",children:"Trabaj\xe1 con nosotros"})})]}),Object(N.jsxs)("div",{className:"col-lg-4 col-xl-6 col-12 text-lg-right",children:[Object(N.jsx)("p",{children:Object(N.jsxs)("a",{target:"_blank",href:"https://wa.me/595981840840",children:[Object(N.jsx)(u.a,{style:{marginRight:5,marginBottom:3,fontSize:40}}),"(0981) 840-840"]})}),Object(N.jsxs)("p",{children:[Object(N.jsx)("a",{href:"https://www.facebook.com/ABiparaguay",target:"_blank",children:Object(N.jsx)(b.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(N.jsx)("a",{href:"https://twitter.com",target:"_blank",children:Object(N.jsx)(f.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})}),Object(N.jsx)("a",{href:"https://instagram.com/abiparaguay/",target:"_blank",children:Object(N.jsx)(h.a,{style:{marginRight:5,marginBottom:3,fontSize:40}})})]})]})]})})})}),Object(N.jsxs)("div",{className:"footer p-0",children:[Object(N.jsx)("div",{className:"d-flex justify-content-center",style:{backgroundColor:"#efefef"},children:Object(N.jsx)("div",{style:{height:1,width:"90%",backgroundColor:"var(--gris-oscuro-abi)"}})}),Object(N.jsx)("div",{className:"top pb-4 pb-lg-4",children:Object(N.jsx)("div",{className:"container ",children:Object(N.jsx)("div",{className:"row pt-3 justify-content-center",children:Object(N.jsxs)("div",{className:"",children:[Object(N.jsxs)("p",{className:"mb-0",children:["ABi. \xa9 ",y().format("YYYY")," TODOS LOS DERECHOS RESERVADOS"]}),Object(N.jsxs)("div",{id:"release-container",children:["v",_.RELEASE.split("@")[1]]})]})})})})]})]})})]})}));t.a=C},492:function(e,t,a){"use strict";var n=a(33),i=a(0),c=a.n(i),r=a(2),o=a(24),s=(a(549),a(40)),l=a(3),d=a(536),u=a.n(d),j=a(161),b=a(86),m=a(18),f=a(225),p=(a(286),a(123)),h=a(479),O=a(30),x=a(1514),g=a(1524),v=a(1543),_=a(500),N=a(535),y=a.n(N),C=a(503),w=a(475),k=a(101),S=a(593),A=a(230),D=a(574),I=a(8),P=a(493),R=a(57),E=a(87),T=a.n(E),z=a(9),B={first_name:"",last_name:"",fecha_nacimiento:"",nro_documento:"",email:"",nro_telefono:"",razon_social:"",ruc:"",contrasena:"",imagen_perfil:"",repetir_contrasena:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,email_oferta:!0,notificacion_oferta:!0},L={password:"",username:""},F={imagen_perfil:""},M=Object(j.a)((function(e){var t=Object(b.b)(),a=Object(R.e)(),i=t.loginStore,d=t.registroStore,j=t.adminStore,N=t.carritoStore,E=Object(l.useState)(!1),M=Object(o.a)(E,2),q=M[0],U=M[1],H=Object(l.useState)(B),W=Object(o.a)(H,2),V=W[0],Y=W[1],G=Object(l.useState)(B),J=Object(o.a)(G,2),Q=J[0],Z=J[1],K=Object(k.A)(),X=Object(k.J)(),$=(Object(k.B)(),Object(l.useState)(!1)),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(""),ie=Object(o.a)(ne,2),ce=ie[0],re=ie[1],oe=Object(l.useState)(0),se=Object(o.a)(oe,2),le=se[0],de=se[1],ue=Object(l.useState)(F),je=Object(o.a)(ue,2),be=je[0],me=je[1],fe=Object(l.useState)(L),pe=Object(o.a)(fe,2),he=pe[0],Oe=pe[1],xe=Object(l.useState)(L),ge=Object(o.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(l.useState)(0),ye=Object(o.a)(Ne,2),Ce=ye[0],we=ye[1],ke=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),Se=0,Ae=1,De=2,Ie=3,Pe=4,Re=5,Ee=Object(l.useState)(e.login?Se:Ae),Te=Object(o.a)(Ee,2),ze=Te[0],Be=Te[1],Le=Object(l.useState)(!1),Fe=Object(o.a)(Le,2),Me=Fe[0],qe=Fe[1],Ue=Object(l.useState)(!1),He=Object(o.a)(Ue,2),We=He[0],Ve=He[1],Ye=Object(l.useState)(""),Ge=Object(o.a)(Ye,2),Je=Ge[0],Qe=Ge[1],Ze=Object(l.useState)(""),Ke=Object(o.a)(Ze,2),Xe=Ke[0],$e=Ke[1],et=Object(l.useState)(""),tt=Object(o.a)(et,2),at=tt[0],nt=tt[1],it=Object(l.useState)(!1),ct=Object(o.a)(it,2),rt=ct[0],ot=ct[1],st=Object(l.useRef)(""),lt=Object(l.useRef)(!1),dt=Object(l.useState)(!1),ut=Object(o.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(l.useState)(null),ft=Object(o.a)(mt,2),pt=(ft[0],ft[1]),ht=Object(l.useState)(!1),Ot=Object(o.a)(ht,2),xt=Ot[0],gt=Ot[1],vt=Object(l.useState)(!1),_t=Object(o.a)(vt,2),Nt=(_t[0],_t[1]),yt=Object(l.useState)(!1),Ct=Object(o.a)(yt,2),wt=Ct[0],kt=Ct[1],St=Object(l.useState)(""),At=Object(o.a)(St,2),Dt=At[0],It=At[1],Pt=Object(l.useState)(0),Rt=Object(o.a)(Pt,2),Et=Rt[0],Tt=Rt[1],zt=Object(l.useRef)(0),Bt=Object(l.useRef)(null),Lt=Object(l.useRef)(),Ft=Object(l.useState)({lng:-57.63591,lat:-25.30066}),Mt=Object(o.a)(Ft,2),qt=(Mt[0],Mt[1]),Ut=Object(l.useState)(null),Ht=Object(o.a)(Ut,2),Wt=Ht[0],Vt=Ht[1],Yt=Object(l.useState)(null),Gt=Object(o.a)(Yt,2),Jt=Gt[0],Qt=Gt[1],Zt=Object(l.useState)(null),Kt=Object(o.a)(Zt,2),Xt=Kt[0],$t=Kt[1];Object(l.useEffect)((function(){xt&&(Bt.current=setInterval((function(){Tt(zt.current+1),zt.current=zt.current+1,zt.current>6&&clearInterval(Bt.current)}),100))}),[xt]),Object(l.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");Be(t)}),[t.locationSearch]),Object(l.useEffect)((function(){if(Ce>0){var e=setTimeout((function(){return we(Ce-1)}),1e3);return function(){return clearTimeout(e)}}}),[Ce]);Object(l.useEffect)((function(){"web"===O.Capacitor.getPlatform()&&S.a.init()}),[]),Object(l.useEffect)((function(){!0===e.login?Be(Se):Be(Ae)}),[e.login]),Object(l.useEffect)((function(){"web"!==O.Capacitor.getPlatform()&&("android"===O.Capacitor.getPlatform()?C.a.backgroundColorByHexString("#ffa101"):"ios"===O.Capacitor.getPlatform()&&(document.body.style.background="#ffa101"),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),i.isLoggedIn?d.reset():setTimeout((function(){d.setTipoFormulario(10),Z({contrasena:"",repetir_contrasena:"",imagen_perfil:"",calle_principal:d.calle_principal?d.calle_principal:"",calle_secundaria:d.calle_secundaria?d.calle_secundaria:"",ciudad:d.ciudad?d.ciudad:0,email:d.email?d.email:"",first_name:d.first_name?d.first_name:"",last_name:d.last_name?d.last_name:"",nombre_direccion:d.nombre_direccion?d.nombre_direccion:"",nro_documento:d.nro_documento?d.nro_documento:"",nro_telefono:Object(k.o)(d.nro_telefono),numero:d.numero?d.numero:"",razon_social:d.razon_social?d.razon_social:"",referencia:d.referencia?d.referencia:"",ruc:d.ruc?d.ruc:"",ubicacion:d.ubicacion?d.ubicacion:"",fecha_nacimiento:d.fecha_nacimiento?d.fecha_nacimiento:"",notificacion_oferta:!!d.notificacion_oferta&&d.notificacion_oferta,email_oferta:!!d.email_oferta&&d.email_oferta})})),na()}),[]),Object(l.useEffect)((function(){ze<0?e.setVisible(!1):ze===Ae?(Qe(""),$e("")):ze===De?(Qe("Datos Personales"),$e("Paso 1 de 3")):ze===Ie?(we(25),wt||(bt(!0),setTimeout(xa,500)),Qe("Verifique su n\xfamero"),$e("")):ze===Pe?(Qe("Marque su Ubicaci\xf3n"),$e("Paso 2 de 3")):ze===Re&&(Qe("Direcci\xf3n"),$e("Paso 3 de 3"))}),[ze]),Object(l.useEffect)((function(){t.hasLocationPermission&&ea().catch((function(e){console.log(e)}))}),[t.hasLocationPermission]);var ea=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 3:(t=e.sent)&&($t([t.coords.latitude,t.coords.longitude]),Vt(t.coords.latitude),Qt(t.coords.longitude),qt({lat:t.coords.latitude,lng:t.coords.longitude})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Geolocation.getCurrentPosition err",e.t0),String(e.t0).includes("location disabled")&&X("La ubicaci\xf3n est\xe1 desactivada.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ta=function(){var e=Object(r.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt(!0),wt&&kt(!1),_.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),bt(!0),pt(null),gt(!1),setTimeout((function(){lt.current=!0,Nt(lt.current)}),2e3),a=Object(k.p)(d.nro_telefono),t.isDebug&&console.log("verifyPhoneNumber",a),_.a.verifyPhoneNumber("+"+a,3e4).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isDebug&&console.log("FirebaseAuthentication.verifyPhoneNumber result",a),bt(!1),!wt){e.next=5;break}return pt(null),e.abrupt("return");case 5:st.current=a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),kt(!1),bt(!1),lt.current=!1,Nt(lt.current),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),aa=function(){bt(!0);var e=Object(k.p)(d.nro_telefono),t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){lt.current=!0,Nt(lt.current),bt(!1),st.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),bt(!1),kt(!1),X("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error");try{t.clear()}catch(a){console.log(a)}}))},na=function(){t.ciudades.length||(U(!0),t.actualizarDatosInicio(!1).then((function(){U(!1)})))},ia=function(e){de(e),100===e?(U(!1),setTimeout((function(){de(0),re("")}),500)):U(!0)},ca=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===O.Capacitor.getPlatform()){e.next=5;break}return e.next=3,h.a.readFile({path:t});case 3:n=e.sent,t="data:image/jpeg;base64,".concat(n.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(k.k)(r,a,ia);case 10:o=e.sent,ra("imagen_perfil",t),re(a),oa("imagen_perfil",o),i.isLoggedIn||d.setDatoRegistroStore(a,o);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra=function(e,t){var a=Object(n.a)({},be);a[e]=t,me(a)},oa=function(e,t){var a=Object(n.a)({},Q);a[e]=t,Z(a),i.isLoggedIn||"calle_principal"===e||"calle_secundaria"===e||d.setDatoRegistroStore(e,t)},sa=function(e,t){ae(!0),ke&&va(ze+1),Vt(e),Qt(t),qt([e,t]),i.isLoggedIn||d.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t))};Object(l.useEffect)((function(){Wt&&Jt&&t.environment.api.infoCalle(Wt,Jt).then((function(e){if("ok"===e.kind&&e.response.info){var a=e.response.info,i=Object(n.a)({},Q);a.calle&&(i.calle_principal={value:a.calle,label:a.calle}),a.ciudad_obj&&(i.ciudad=t.ciudades.find((function(e){return e.id===a.ciudad_obj.id}))),a.secondary&&(i.calle_secundaria={value:a.secondary,label:a.secondary}),Z(i)}})).catch()}),[Wt,Jt]);var la=function(){if(1===ze){if(!Q.email)return void X("Cargue su email para continuar","warning");if(!Q.contrasena)return void X("Cargue una contrase\xf1a para continuar","warning");if(!Q.repetir_contrasena)return void X("Confirme la contrase\xf1a ingresada para continuar","warning")}else if(2===ze){var e;if(!Q.first_name)return void X("Cargue su nombre para continuar","warning");if(!Q.last_name)return void X("Cargue su apellido para continuar","warning");if(!Q.fecha_nacimiento)return void X("Cargue su fecha de nacimiento para continuar","warning");var t=T()(Q.fecha_nacimiento,"DD/MM/YYYY HH:mm"),a=T()();if(!!!t.isValid()||t>a)return void X("Ingrese una fecha de nacimiento v\xe1lida para continuar","warning");if(12!==(null===d||void 0===d||null===(e=d.nro_telefono)||void 0===e?void 0:e.length))return void X("Ingrese un n\xfamero v\xe1lido para continuar","warning")}else if(3===ze){if(!wt)return void X("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning")}else if(5===ze)return Q.calle_principal&&Q.calle_secundaria?!!Q.numero||void X("Cargue su numero de casa para continuar"):void X("Cargue su calle principal");return!0},da=function(e,t){oa(e,t)},ua=function(e,t){!function(e,t){var a=Object(n.a)({},he);a[e]=t,Oe(a)}(e,t)};Object(l.useEffect)((function(){var e=null;return"web"!==O.Capacitor.getPlatform()&&(e=_.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&lt.current&&(gt(!0),setTimeout((function(){kt(!0),pt(null),X("N\xfamero verificado exitosamente"),lt.current=!1,Nt(lt.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var ja,ba=function(e){if(console.log("modalCodigoFirebaseCallback",e),!e)return pt(null),lt.current=!1,void Nt(lt.current);if(!st.current)return pt(null),lt.current=!1,Nt(lt.current),void X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(bt(!0),lt.current=!1,Nt(lt.current),"web"===O.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(st.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),va(ze+1)})).catch((function(e){-1!==e.message.toString().toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):(X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),console.log("Error firebase",e.message)),bt(!1),kt(!1)})):(bt(!1),kt(!1),X("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else _.a.signInWithVerificationId(st.current,e).then((function(e){bt(!1),kt(!0),X("N\xfamero verificado exitosamente"),va(ze+1)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?X("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"):X("Ocurri\xf3 un problema al verificar el n\xfamero","warning"),kt(!1),bt(!1)}))},ma=function(){S.a.signIn().then((function(e){t.environment.api.loginGoogle(e,e.authentication.idToken).then((function(e){pa(e)}))})).catch((function(e){console.log("GoogleAuth.signIn() error",e),e&&X("No se pudo iniciar sesi\xf3n con Google","warning")}))},fa=function(){var e=Object(r.a)(c.a.mark((function e(){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["public_profile","email"],e.next=3,A.a.login({permissions:a});case 3:(n=e.sent)&&n.accessToken?t.environment.api.loginFacebook(n.accessToken.token).then((function(e){pa(e)})):X("No se pudo iniciar sesi\xf3n con Facebook","warning");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pa=function(e){if(U(!1),"ok"===e.kind){if(Object(m.u)((function(){i.setUser(e.user),i.setApiToken(e.user.token),i.setModoUsoApp(10)})),e.user.transportista&&j.setTransportistaDetalle(e.user.transportista),"web"===O.Capacitor.getPlatform()){var t=window.dataLayer||[];!function(){t.push(arguments)}("event","login",{method:"Formulario",usuario_id:e.user.id})}else D.a.logEvent({name:"login",params:{usuario_id:e.user.id}}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));if(Oa(),X("Bienvenido "+e.user.first_name+"!","success"),"1"===new URLSearchParams(window.location.search).get("checkout"))if(i.perfil_completo){var n=new URLSearchParams(window.location.search);n.delete("login"),n.delete("registro"),n.delete("i"),n.delete("checkout"),Object(k.y)(i),a.push(window.location.pathname+"?"+n.toString())}else Object(k.y)(i),a.push("".concat(I.m.CLIENTE,"?checkout=1"));else i.fabricante||i.transportista?(Object(k.y)(i),ha()):setTimeout((function(){return document.location.href=I.m.ROOT}),500)}else"bad-data"===e.kind?("bad-data"===e.kind?(console.log("@errors",e.errors),_e(e.errors),e.errors.non_field_errors&&(X(e.errors.non_field_errors[0],"warning"),ua("contrasena",""))):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning"),e.errors.non_field_errors&&X(e.errors.non_field_errors[0],"warning")):X("Ocurri\xf3 un error al realizar el iniciar sesi\xf3n vuelva a intentar en unos momentos","warning")},ha=function(){var e=new URLSearchParams(window.location.search);e.set("smodo","1"),e.delete("login"),a.push(window.location.pathname+"?"+e.toString())},Oa=function(){var e=t.carritoStore;t.environment.api.carrito().then((function(a){"ok"===a.kind&&(0===a.data.productos.length&&e.productos.length>0?e.productos.map((function(e){t.environment.api.agregarEliminarProductoCarrito(e.id,null,e.cantidad)})):e.setProductosAPI(a.data))}))},xa=function(){("web"===O.Capacitor.getPlatform()?aa:ta)()},ga=function(){ke&&1===ze?e.setVisible(!1):va(ze-1)},va=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),a.push(window.location.pathname+"?"+t.toString())},_a=function(){var t={height:50,display:"flex",alignContent:"center",justifyContent:"flex-start",padding:10,backgroundColor:"#f7f7f7ff"},a={height:20,fontSize:"0.875rem",fontWeight:"bold"},n={height:20,fontSize:"0.875rem",fontWeight:"bolder"},i=Object(z.jsx)("div",{style:a,children:Object(z.jsx)(x.a,{size:10,color:"#000"})}),c=Object(z.jsx)("div",{style:a,onClick:function(){return e.setVisible(!1)},children:Object(z.jsx)("img",{alt:"Logo de ABi",style:{height:20},src:"assets/abi-logo-gray.png"})}),r=Object(z.jsx)("div",{style:2===ze?a:n,onClick:function(){return Be(2)},children:"Datos Personales"}),o=Object(z.jsx)("div",{style:1===ze?a:n,onClick:function(){return Be(1)},children:"Registro"}),s=Object(z.jsx)("div",{style:3===ze?a:n,onClick:function(){return Be(3)},children:"Verificaci\xf3n"}),l=Object(z.jsx)("div",{style:4===ze?a:n,onClick:function(){return Be(4)},children:"Ubicaci\xf3n"}),d=Object(z.jsx)("div",{style:5===ze?a:n,onClick:function(){return Be(5)},children:"Direcci\xf3n"});return 1===ze?Object(z.jsxs)("div",{style:t,children:[c,i,o]}):2===ze?Object(z.jsxs)("div",{style:t,children:[c,i,o,i,r]}):3===ze?Object(z.jsxs)("div",{style:t,children:[c,i,o,i,r,i,s]}):4===ze?Object(z.jsxs)("div",{style:t,children:[c,i,s,i,l]}):5===ze?Object(z.jsxs)("div",{style:t,children:[c,i,s,i,l,i,d]}):null};return ja=Object(z.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#fff",overflowY:"auto",overflowX:"hidden"},children:[Object(z.jsxs)("div",{className:"izquierda-container-registro-abi",style:{background:"#FFF"},children:[!ke&&ze>1&&Object(z.jsx)("div",{onClick:ga,style:{position:"absolute",top:10,left:10,zIndex:9999,cursor:"pointer"},children:Object(z.jsx)(g.a,{size:30,color:"#000"})}),ze===Se&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(z.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(z.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Iniciar sesi\xf3n?"})]}),Object(z.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(z.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:ma,children:[Object(z.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(z.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:fa,children:[Object(z.jsx)(y.a,{style:{marginRight:5,fontSize:25}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(z.jsx)("div",{className:"campo-registro-abi",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"nombre@email.com",tipo:"email",campo:"username",valor:he?he.username:"",error:ve&&ve.username,set_dato:ua,columnas:12,columnas_sm:12,extra_css:"flex-fill"})}),Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Contrase\xf1a",tipo:"password",campo:"password",valor:he?he.password:"",error:ve&&ve.password,set_dato:ua,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){U(!0),t.environment.api.login(he.username,he.password).then((function(e){pa(e)}))},children:"Iniciar sesi\xf3n"})}),Object(z.jsx)("div",{className:"btn-container-principal-login",style:{paddingTop:"0.5rem",paddingBottom:0},children:Object(z.jsx)("a",{href:I.m.RECUPERAR_CONTRASENA,children:Object(z.jsx)("h6",{className:"titulo-login-abi ",style:{fontWeight:"bolder",margin:"1rem 0"},children:"Olvid\xe9 mi contrase\xf1a"})})}),Object(z.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(z.jsx)("h6",{style:{fontWeight:"bolder",background:"#efefef"},className:"sub-titulo-login-abi",children:"\xbfNo tienes cuenta?"}),Object(z.jsx)("h5",{className:"titulo-login-abi cpointer",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("login"),e.delete("registro"),e.set("sregistro","1"),a.push(window.location.pathname+"?"+e.toString())},children:"Crear cuenta"})]})})]})}),ze===Ae&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"d-flex flex-column h-100",children:[Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:20},children:[Object(z.jsx)("h2",{className:"titulo-login-abi",children:"Bienvenido a ABi"}),Object(z.jsx)("h4",{className:"sub-titulo-login-abi",children:" \xbfC\xf3mo quer\xe9s Registrarte?"})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(z.jsxs)("button",{className:"btn-registro-abi btn-google-registro-abi",onClick:ma,children:[Object(z.jsx)("img",{src:"assets/icon/google.png",alt:"Logo de Google",style:{width:22,marginRight:5}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Google"})]}),Object(z.jsxs)("button",{className:"btn-registro-abi btn-facebook-registro-abi",onClick:fa,children:[Object(z.jsx)(y.a,{style:{marginRight:5,fontSize:25}}),Object(z.jsx)("span",{style:{fontSize:15},children:" Con Facebook"})]})]}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"sub-titulo-login-abi",children:"O bien"})}),Object(z.jsx)("div",{className:"titulo-linea-registro-abi",children:" "})]}),Object(z.jsx)("div",{children:Object(z.jsxs)("div",{className:"campos-container-registro-abi mx-auto",children:[Object(z.jsxs)("div",{className:"campo-registro-abi",children:[Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Email",tipo:"email",campo:"email",valor:Q?Q.email:"",error:V&&V.email,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"})," "]}),Object(z.jsxs)("div",{className:"campo-registro-abi ",children:[Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:Q?Q.contrasena:"",error:V&&V.contrasena,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"}),Object(z.jsx)("img",{alt:"Recomendaciones",onClick:function(){return ot(!0)},className:"icono-info-registro",src:"assets/icon/info.png",style:{marginLeft:"-30px",zIndex:99}})]}),Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:Q?Q.repetir_contrasena:"",error:V&&V.repetir_contrasena,set_dato:da,columnas:12,columnas_sm:12,extra_css:"flex-fill"})})]})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",disabled:q,onClick:function(){la()&&va(ze+1)},children:"Registrarme"})}),Object(z.jsx)("div",{className:"d-flex flex-column justify-content-end flex-grow-1",children:Object(z.jsxs)("div",{style:{display:"flex",width:"100%",height:87,flexDirection:"column",alignItems:"center",paddingTop:15,justifyContent:"flex-start",backgroundColor:"#efefef"},children:[Object(z.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(z.jsx)("h6",{style:{fontWeight:"bolder",backgroundColor:"#efefef"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(z.jsx)("div",{style:{backgroundColor:"#efefef"},children:Object(z.jsx)("a",{onClick:function(){Be(Se)},children:Object(z.jsx)("h5",{className:"titulo-login-abi ",children:"Iniciar Sesi\xf3n"})})})]})}),Object(z.jsx)(s.q,{isOpen:rt,cssClass:"modal-info-registro modal-info-contrasena",onDidDismiss:function(){return ot(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{children:Object(z.jsx)("span",{children:"Recomendaciones"})}),Object(z.jsx)("div",{onClick:function(){return ot(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsxs)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:[Object(z.jsxs)("p",{children:["-La contrase\xf1a debe tener como ",Object(z.jsx)("strong",{children:"m\xednimo 6 caracteres"}),"."]}),Object(z.jsx)("p",{children:"-Combin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(z.jsx)("p",{children:'-No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(z.jsxs)("p",{children:[Object(z.jsx)("strong",{children:"Ning\xfan miembro del Staff ABi solicitar\xe1 tu contrase\xf1a."}),"\xa1No la compartas con nadie!"]})]})})]})})]})}),ze===De&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(s.q,{isOpen:Me,cssClass:"modal-info-registro-short",onDidDismiss:function(){return qe(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{style:{fontSize:"0.9em"},children:Object(z.jsx)("span",{children:"Ofertas exclusivas al correo"})}),Object(z.jsx)("div",{onClick:function(){return qe(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)("div",{style:{textAlign:"initial",padding:15,fontSize:"1rem"},children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",children:"Desde ABi te enviaremos noticias sobre ofertas exclusivas en nuestras tiendas."})})})]})}),Object(z.jsx)(s.q,{isOpen:We,cssClass:"modal-info-registro-short",onDidDismiss:function(){return Ve(!1)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"heather-info-registro background-color-naranja-abi",children:[Object(z.jsx)("div",{children:Object(z.jsx)("span",{children:"Recibir notificaciones"})}),Object(z.jsx)("div",{onClick:function(){return Ve(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]}),Object(z.jsx)("div",{className:"sub-titulo-login-abi",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)("div",{style:{textAlign:"initial",padding:10,fontSize:"1rem"},children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",children:"Pod\xe9s recibir notificaciones con las novedades acerca de los productos que te gustan."})})})]})}),Object(z.jsx)("div",{style:{height:150,display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(z.jsx)(w.w,{titulo_modal:"Subir Foto de perfil",titulo_label:"imagen_perfil"===ce&&le>0?le+"%":"",titulo_boton:"Subir foto de perfil",helptext:"",img_path:"assets/id.png",on_select:ca,userdata:"imagen_perfil",preview:""!==be.imagen_perfil?be.imagen_perfil:"",source:0,color:"#ffa300",editor:!1,perfil:!0,extra_css_class:"foto-perfil-loader-small",preview_css_class:"preview-foto-loader-registro"})}),V.imagen_perfil&&Object(z.jsx)("div",{className:"text-danger",children:V.imagen_perfil}),Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(z.jsx)("div",{style:{flexGrow:1},children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:Q?Q.first_name:"",set_dato:da,columnas:12,columnas_sm:12,error:V&&V.first_name})}),Object(z.jsx)("div",{style:{flexGrow:1},children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:Q?Q.last_name:"",set_dato:da,columnas:12,columnas_sm:12,error:V&&V.last_name})})]}),Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",children:[Object(z.jsx)("div",{style:{flex:"1 1 50%"},children:Object(z.jsx)(w.c,{deshabilitado:!q&&!i.isLoggedIn||wt,titulo:"N\xfamero de celular",tipo:"telefono-simple",campo:"nro_telefono",valor:Q?Q.nro_telefono:"",set_dato:da,columnas:12,columnas_sm:12,verificar_firebase_autenticado:wt,verificar_firebase_reset:function(){kt(!1),"web"!==O.Capacitor.getPlatform()&&_.a.signOut()}})}),wt&&Object(z.jsx)("div",{style:{flex:"1 1 50%",paddingLeft:"4%",paddingRight:"4%"},children:Object(z.jsx)("button",{className:"background-color-naranja-abi",style:{borderRadius:3,height:38,width:"100%",color:"#fff"},title:"Cambiar n\xfamero de tel\xe9fono",onClick:function(){kt(!1),"web"!==O.Capacitor.getPlatform()&&_.a.signOut()},children:Object(z.jsx)("span",{children:"Cambiar"})})})]}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:Q?Q.fecha_nacimiento:"",error:V&&V.fecha_nacimiento,set_dato:da,columnas:12,columnas_sm:12})}),Object(z.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(z.jsx)(s.B,{className:"toggle-registro-abi",checked:Q.email_oferta,onIonChange:function(e){return oa("email_oferta",e.detail.checked)}}),Object(z.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(z.jsx)(s.o,{children:"Quiero recibir ofertas exclusivas a mi correo. "})}),Object(z.jsx)("img",{alt:"Informaci\xf3n",onClick:function(){return qe(!0)},className:"icono-info-registro",src:"assets/icon/info.png"})]}),Object(z.jsxs)("div",{className:"toggle-container-registro-abi mx-auto",children:[Object(z.jsx)(s.B,{className:"toggle-registro-abi",checked:Q.notificacion_oferta,onIonChange:function(e){return oa("notificacion_oferta",e.detail.checked)}}),Object(z.jsx)("div",{style:{width:300,display:"flex",justifyContent:"flex-start"},children:Object(z.jsx)(s.o,{children:"Quiero recibir notificaciones. "})}),Object(z.jsx)("img",{onClick:function(){return Ve(!0)},alt:"",className:"icono-info-registro",src:"assets/icon/info.png"})]})]}),Object(z.jsx)("div",{className:"centrado-texto-flex",children:Object(z.jsx)("div",{style:{width:"80%",textAlign:"center"},children:Object(z.jsxs)("h6",{className:"sub-titulo-login-abi",style:{marginTop:10},children:["Al continuar, aceptas las",Object(z.jsx)("a",{target:"_blank",href:"https://app.abi.com.py/terminos/",children:Object(z.jsx)("span",{className:"resaltado-registro-abi",children:" Condiciones de uso y T\xe9rminos de privacidad."})})]})})}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsxs)("button",{className:"btn-principal-registro-abi",disabled:q,onClick:function(){la()&&va(ze+1)},children:[q&&Object(z.jsx)(s.z,{name:"crescent"}),!q&&Object(z.jsx)("span",{children:"Continuar"})]})})]}),ze===Ie&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),wt&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",marginTop:"50%",marginBottom:"40%"},children:Object(z.jsx)("span",{className:"mx-auto",children:"Su n\xfamero ya fue verificado."})}),Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(e){Be(ze+1)},children:"Continuar"})]}),!jt&&!wt&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:56},className:"mx-auto",children:Object(z.jsx)("div",{style:{textAlign:"center"},children:Object(z.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",d.nro_telefono,". "]})})}),Object(z.jsxs)("div",{className:"text-center d-flex align-self-center mx-auto",style:{position:"relative",width:270,height:35,marginTop:42,marginBottom:"2rem"},children:[Et<1&&Object(z.jsx)(u.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return It(e)},onComplete:function(e){ba(e)}}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",children:"\u2022"}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:55},children:Et>=2?"\u2022":""}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:100},children:Et>=3?"\u2022":""}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:145},children:Et>=4?"\u2022":""}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:190},children:Et>=5?"\u2022":""}),Et>=1&&Object(z.jsx)("div",{className:"input-dot",style:{left:235},children:Et>=6?"\u2022":""})]}),Object(z.jsxs)("div",{style:{textAlign:"center"},children:[Object(z.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(z.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(z.jsxs)("a",{onClick:0===Ce?function(){return xa()}:function(){},children:[Object(z.jsx)("span",{className:"resaltado-registro-abi",children:" nuevo c\xf3digo"})," ",Ce>0&&Object(z.jsxs)("span",{children:["en ",Ce," seg."]})]})]})]}),Object(z.jsxs)("div",{style:{margin:"2.5rem"},children:[Object(z.jsx)("p",{className:"cpointer",onClick:function(){kt(!0),pt(null),lt.current=!1,Nt(lt.current)},children:"Omitir este paso"}),Object(z.jsx)("a",{href:"https://wa.me/595981840840",children:Object(z.jsx)("h5",{className:"resaltado-registro-abi",children:"Contactanos"})})]}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsx)("button",{className:"btn-principal-registro-abi",onClick:function(){ba(Dt)},children:"Continuar"})})]})]}),ze===Pe&&ke&&Object(z.jsx)(P.a,{ref:Lt,lat:Wt,lng:Jt,onAccept:sa}),(ze===Pe&&!ke||ze===Re&&ke)&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"centrado-texto-flex",children:Object(z.jsx)("div",{className:"campo-registro-abi ",children:Object(z.jsx)("h6",{className:"sub-titulo-login-abi",style:{textAlign:"center",marginTop:30,marginBottom:10,marginLeft:15},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"})})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:Q?Q.calle_principal:"",error:V&&V.calle_principal,set_dato:function(e,t){t&&(oa(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle principal",select_onchange:function(e){Object(k.z)(t,oa,Z,Q,"calle_principal",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:Q?Q.calle_secundaria:"",error:V&&V.calle_secundaria,set_dato:function(e,t){t&&(oa(e,t),d.setDatoRegistroStore(e,{label:t,value:t}))},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(k.z)(t,oa,Z,Q,"calle_secundaria",e)},opciones_select:function(e){return Object(k.g)(t,Xt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:Q?Q.numero:"",error:V&&V.numero,set_dato:da,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Referencia (Color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc)",tipo:"textarea",campo:"referencia",valor:Q?Q.referencia:"",error:V&&V.referencia,set_dato:da,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"campo-registro-abi mx-auto",children:Object(z.jsx)(w.c,{deshabilitado:!q,titulo:"Nombre (casa, oficina, etc)",tipo:"texto",campo:"nombre_direccion",valor:Q?Q.nombre_direccion:"",error:V&&V.nombre_direccion,set_dato:da,columnas:12,columnas_sm:12})}),Object(z.jsx)("div",{className:"centrado-texto-flex mx-auto",children:Object(z.jsx)("div",{className:"campo-registro-abi",style:{paddingLeft:"3%"},children:Object(z.jsx)("h6",{style:{color:"#000",fontWeight:"bolder"},children:"Eleg\xed un icono distintivo"})})}),Object(z.jsxs)("div",{className:"campo-registro-abi mx-auto",style:{width:"70%",marginTop:10,marginBottom:10},children:[Object(z.jsx)("div",{onClick:function(){return nt("casa")},className:"casa"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/casa.png",alt:"casa",className:"casa"===at?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return nt("empresa")},className:"empresa"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/empresa.png",alt:"empresa",height:32,className:"empresa"===at?"filter-invert-imagen":""})}),Object(z.jsx)("div",{onClick:function(){return nt("maletin")},className:"maletin"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/maletin.png",alt:"maletin",className:"maletin"===at?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return nt("corazon")},className:"corazon"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/corazon.png",alt:"corazon",className:"corazon"===at?"filter-invert-imagen":"",height:32})}),Object(z.jsx)("div",{onClick:function(){return nt("alfiler")},className:"alfiler"===at?"icono-direccion-seleccionado":"icono-direccion",children:Object(z.jsx)("img",{src:"assets/icon/alfiler.png",alt:"alfiler",className:"alfiler"===at?"filter-invert-imagen":"",height:32})})]}),Object(z.jsx)("div",{className:"btn-container-principal-login",children:Object(z.jsxs)("button",{className:te?"btn btn-info px-5 py-2":"px-5 py-2",disabled:!te,onClick:function(){if(wt){U(!0),Y(B);var e="";Wt&&Jt&&(e=Wt+","+Jt);var a=Q.calle_principal,o=Q.calle_secundaria,s=Object(n.a)(Object(n.a)({},Q),{},{ubicacion:e,calle_principal:a?a.value:"",calle_secundaria:o?o.value:"",icono_direccion:at});s.nro_telefono=Object(k.p)(s.nro_telefono),"object"===typeof s.ciudad&&(s.ciudad=s.ciudad.id),t.environment.api.clienteRegistro(s).then(function(){var e=Object(r.a)(c.a.mark((function e(a){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!1),K(a,"Cliente registrado satisfactoriamente","guardar"),"ok"!==a.kind){e.next=15;break}Object(m.u)((function(){i.setUser(a.user),i.setApiToken(a.user.token),i.setModoUsoApp(a.user.modo_uso_app),d.reset()})),n=0;case 5:if(!(n<N.productos.length)){e.next=12;break}return r=N.productos[n],e.next=9,t.environment.api.agregarEliminarProductoCarrito(r.id,null,r.cantidad,!1).then((function(e){"ok"!==e.kind&&console.log("No se pudo agregar al carrito")}));case 9:n++,e.next=5;break;case 12:"/carrito"===document.location.pathname?document.location.reload():document.location.href=I.m.ROOT,e.next=16;break;case 15:"bad-data"===a.kind&&(U(!1),Y(a.errors),"nombre_direccion"===(o=Object.keys(a.errors)[0])||Be("first_name"===o||"last_name"===o||"nro_documento"===o||"nro_telefono"===o?2:1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else X("El n\xfamero debe estar verificado para continuar","warning")},children:[q&&Object(z.jsx)(s.z,{name:"crescent"}),!q&&Object(z.jsx)("span",{children:"Finalizar"})]})})]})]}),ke||ze===Pe?null:Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"derecha-container-registro-abi background-color-naranja-abi",children:[Object(z.jsx)("div",{className:"banner-registro-cliente"}),!1!==e.closable&&Object(z.jsx)("div",{style:{position:"absolute",top:"13px",right:"13px",cursor:"pointer"},onClick:function(){return e.setVisible(!1)},children:Object(z.jsx)(v.a,{style:{width:26,marginRight:10,color:"#fff"}})})]})}),ke||ze!==Pe?null:Object(z.jsx)("div",{className:"derecha-container-registro-abi",style:{position:"relative"},children:Object(z.jsx)(P.a,{ref:Lt,lat:Wt,lng:Jt,onAccept:sa})})]}),Object(z.jsxs)(s.q,{isOpen:e.isOpen,backdropDismiss:!1,onDidDismiss:function(){return e.setVisible(!1)},cssClass:ke?"":"modal-registro-abi",children:[ke&&Object(z.jsx)(w.k,{color:"#ffb433ff",titulo:Je,sub_titulo:Xe,botonIzquierdo:!1!==e.closable?null:Object(z.jsx)(z.Fragment,{}),accion_boton_izquierdo:function(){return ga()}}),ke&&Object(z.jsx)(_a,{}),ja]})}));t.a=M},493:function(e,t,a){"use strict";var n=a(0),i=a.n(n),c=a(2),r=a(24),o=a(3),s=a.n(o),l=(a(485),a(506),a(507),a(508),a(478)),d=a(101),u=a(475),j=a(86),b=a(8),m=a(57),f=a(9),p=s.a.forwardRef((function(e,t){var a=Object(j.b)(),n=Object(m.e)(),p=Object(d.J)(),h=Object(o.useState)(!1),O=Object(r.a)(h,2),x=O[0],g=O[1],v=Object(o.useState)(e.lat),_=Object(r.a)(v,2),N=_[0],y=_[1],C=Object(o.useState)(e.lng),w=Object(r.a)(C,2),k=w[0],S=w[1],A=Object(o.useState)(14),D=Object(r.a)(A,2),I=D[0],P=D[1],R=Object(o.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),E=Object(r.a)(R,2),T=E[0],z=E[1],B=Object(o.useState)(e.onAccept?[e.onAccept]:null),L=Object(r.a)(B,2),F=L[0],M=L[1],q=Object(o.useState)(e.userdata?[e.userdata]:null),U=Object(r.a)(q,2),H=U[0],W=U[1],V=Object(o.useState)(e.onCancel?[e.onCancel]:null),Y=Object(r.a)(V,2),G=Y[0],J=Y[1],Q=e.color||"#303AB2",Z=e.Movil?e.Movil:window.innerWidth<=500||/Mobi/.test(navigator.userAgent),K=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.environment.locationService.checkGPSPermission();case 2:if(e.sent){e.next=8;break}return e.next=6,a.environment.locationService.askPermissionAndOrTurnOnGPS();case 6:t=e.sent,a.setHasLocationPermission(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s.a.useEffect((function(){K(),setTimeout((function(){g(!0)}),700)}),[]),s.a.useEffect((function(){e.lat&&(N||y(e.lat))}),[e.lat]),s.a.useEffect((function(){e.lng&&(k||S(e.lng))}),[e.lng]),Object(o.useImperativeHandle)(t,(function(){return{open:function(t,a,n){t&&M([t]),a&&J([a]),n&&W([n]),e.lat&&e.lng&&P(16),y(e.lat),S(e.lng)},close:function(){$()}}}));var X=function(e,t){y(e),S(t),z({lat:e,lng:t})},$=function(){g(!1),G&&G[0](H?H[0]:null)},ee=function(){F&&N&&k?F[0](N,k,H?H[0]:null):(p("Seleccione una ubicaci\xf3n para continuar","warning"),n.push(b.n.VEHICULO))};return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[Z?Object(f.jsx)("div",{style:{height:"100%",width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:N,lng:k,zoom:I,center:T,ubicacion:function(e,t){X(e,t)},full_screen:!0,color:Q})}):Object(f.jsx)("div",{style:{flexGrow:1,width:"100%"},children:x&&Object(f.jsx)(l.a,{lat:N,lng:k,zoom:I,center:T,ubicacion:X,full_screen:!0,color:Q})}),Z?Object(f.jsx)(u.h,{children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi my-2",onClick:ee,children:"Seleccionar"})}):Object(f.jsx)("div",{style:{position:"absolute",bottom:30,left:"50%",textAlign:"center",zIndex:9999,marginLeft:-94},children:Object(f.jsx)("button",{className:e.cssButtom?e.cssButtom:"btn-principal-registro-abi",onClick:ee,children:"Seleccionar"})})]})}));t.a=p},494:function(e,t,a){"use strict";var n=a(0),i=a.n(n),c=a(33),r=a(2),o=a(24),s=(a(552),a(30)),l=a(479),d=a(123),u=a(500),j=a(503),b=a(40),m=a(227),f=a(225),p=(a(286),a(18)),h=a(161),O=a(87),x=a.n(O),g=a(3),v=a(160),_=a(1524),N=a(1544),y=a(475),C=a(504),w=a(476),k=a(482),S=a(493),A=a(498),D=a(8),I=a(101),P=a(86),R=a(589),E=a.n(R),T=a(57),z=a(9),B={first_name:"",last_name:"",fecha_nacimiento:"",email:"",nro_documento:"",ruc:"",razon_social:"",nro_telefono:"",ciudades:[],contrasena:"",repetir_contrasena:"",imagen_perfil:"",registro_frente:"",registro_dorso:"",antecedentesj:"",antecedentesp:"",constancia_ruc:"",tipo_vehiculo:[],marca:"",modelo:"",ano:"",numero_chapa:"",color:"",kilometraje:"",numero_chassis:"",habilitacion_frente:"",habilitacion_dorso:"",poliza_seguro:"",registro_vencimiento:"",habilitacion_vencimiento:"",nombre_direccion:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0},L={imagen_perfil:""},F=Object(h.a)((function(e){var t=Object(P.b)(),a=t.loginStore,n=t.registroStore,h=Object(T.e)(),O=Object(g.useState)(!1),R=Object(o.a)(O,2),F=R[0],M=R[1],q=Object(g.useState)({}),U=Object(o.a)(q,2),H=U[0],W=U[1],V=Object(g.useState)(B),Y=Object(o.a)(V,2),G=Y[0],J=Y[1],Q=Object(g.useState)([]),Z=Object(o.a)(Q,2),K=Z[0],X=Z[1],$=Object(g.useState)(0),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(g.useRef)(0),ie=Object(g.useRef)(null),ce=Object(g.useState)(!0),re=Object(o.a)(ce,2),oe=re[0],se=(re[1],Object(g.useState)(!1)),le=Object(o.a)(se,2),de=le[0],ue=le[1],je=Object(g.useState)(null),be=Object(o.a)(je,2),me=be[0],fe=be[1],pe=(Object(I.A)(),Object(I.J)()),he=Object(g.useState)(!1),Oe=Object(o.a)(he,2),xe=Oe[0],ge=Oe[1],ve=Object(g.useState)(0),_e=Object(o.a)(ve,2),Ne=_e[0],ye=_e[1],Ce=Object(g.useState)(""),we=Object(o.a)(Ce,2),ke=we[0],Se=we[1],Ae=Object(g.useState)(!1),De=Object(o.a)(Ae,2),Ie=(De[0],De[1]),Pe=Object(g.useState)(!1),Re=Object(o.a)(Pe,2),Ee=(Re[0],Re[1]),Te=Object(g.useState)(""),ze=Object(o.a)(Te,2),Be=(ze[0],ze[1]),Le=Object(g.useState)(""),Fe=Object(o.a)(Le,2),Me=(Fe[0],Fe[1]),qe=Object(g.useState)(L),Ue=Object(o.a)(qe,2),He=Ue[0],We=Ue[1],Ve=Object(g.useState)(!1),Ye=Object(o.a)(Ve,2),Ge=Ye[0],Je=Ye[1],Qe=Object(g.useState)(!1),Ze=Object(o.a)(Qe,2),Ke=Ze[0],Xe=Ze[1],$e=Object(g.useState)(),et=Object(o.a)($e,2),tt=et[0],at=et[1],nt=Object(g.useState)(!1),it=Object(o.a)(nt,2),ct=it[0],rt=it[1],ot=Object(g.useState)("10"),st=Object(o.a)(ot,2),lt=st[0],dt=st[1],ut=Object(I.C)((function(){return h.replace(D.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario",!0,"#ff6f33","btn-outline-orange"),jt=Object(o.a)(ut,2),bt=(jt[0],jt[1]),mt=Object(g.useRef)(""),ft=Object(g.useRef)(!1),pt=Object(g.useState)(!1),ht=Object(o.a)(pt,2),Ot=ht[0],xt=ht[1],gt=Object(g.useState)(null),vt=Object(o.a)(gt,2),_t=vt[0],Nt=vt[1],yt=Object(g.useState)(!1),Ct=Object(o.a)(yt,2),wt=Ct[0],kt=Ct[1],St=Object(g.useState)(!1),At=Object(o.a)(St,2),Dt=At[0],It=At[1],Pt=Object(g.useState)(!1),Rt=Object(o.a)(Pt,2),Et=Rt[0],Tt=Rt[1],zt=Object(g.useRef)(),Bt=Object(g.useState)({lng:-57.63591,lat:-25.30066}),Lt=Object(o.a)(Bt,2),Ft=Lt[0],Mt=Lt[1],qt=Object(g.useState)(null),Ut=Object(o.a)(qt,2),Ht=Ut[0],Wt=Ut[1],Vt=Object(g.useState)(null),Yt=Object(o.a)(Vt,2),Gt=Yt[0],Jt=Yt[1],Qt=Object(g.useState)(null),Zt=Object(o.a)(Qt,2),Kt=Zt[0],Xt=Zt[1];Object(g.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||"0");ae(t)}),[t.locationSearch]);var $t=function(){var e=Object(r.a)(i.a.mark((function e(){var o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"web"!==s.Capacitor.getPlatform()&&("android"===s.Capacitor.getPlatform()?j.a.backgroundColorByHexString("#ff4b00"):"ios"===s.Capacitor.getPlatform()&&(document.body.style.background="#ff4b00"),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),a.isLoggedIn?(n.reset(),o=Object(c.a)({},B),J(Object(c.a)(Object(c.a)({},o),{},{first_name:a.first_name?a.first_name:"",last_name:a.last_name?a.last_name:"",fecha_nacimiento:a.fecha_nacimiento?x()(a.fecha_nacimiento).format("DD/MM/YYYY"):"",nro_documento:a.nro_documento?a.nro_documento:"",nro_telefono:Object(I.o)(a.nro_telefono),razon_social:a.razon_social?a.razon_social:"",ruc:a.ruc?a.ruc:"",email:a.email?a.email:""}))):setTimeout(Object(r.a)(i.a.mark((function e(){var a,c,r,o,s,l,d,u,j,b,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setTipoFormulario(30),a=t.ciudades.filter((function(e){return n.ciudades.includes(e.id)})),c=t.tiposVehiculos.filter((function(e){return n.tipo_vehiculo.includes(e.id)})),!n.imagen_perfil){e.next=8;break}return e.next=6,m.a.getFilefromDataUrl(n.imagen_perfil,"imagen_perfil");case 6:r=e.sent,ta("imagen_perfil",n.imagen_perfil);case 8:if(!n.antecedentesp){e.next=12;break}return e.next=11,m.a.getFilefromDataUrl(n.antecedentesp,"antecedentesp");case 11:o=e.sent;case 12:if(!n.antecedentesj){e.next=16;break}return e.next=15,m.a.getFilefromDataUrl(n.antecedentesj,"antecedentesj");case 15:s=e.sent;case 16:if(!n.habilitacion_dorso){e.next=20;break}return e.next=19,m.a.getFilefromDataUrl(n.habilitacion_dorso,"habilitacion_dorso");case 19:l=e.sent;case 20:if(!n.habilitacion_frente){e.next=24;break}return e.next=23,m.a.getFilefromDataUrl(n.habilitacion_frente,"habilitacion_frente");case 23:d=e.sent;case 24:if(!n.poliza_seguro){e.next=28;break}return e.next=27,m.a.getFilefromDataUrl(n.poliza_seguro,"poliza_seguro");case 27:u=e.sent;case 28:if(!n.registro_dorso){e.next=32;break}return e.next=31,m.a.getFilefromDataUrl(n.registro_dorso,"registro_dorso");case 31:j=e.sent;case 32:if(!n.registro_frente){e.next=36;break}return e.next=35,m.a.getFilefromDataUrl(n.registro_frente,"registro_frente");case 35:b=e.sent;case 36:if(!n.constancia_ruc){e.next=40;break}return e.next=39,m.a.getFilefromDataUrl(n.constancia_ruc,"constancia_ruc");case 39:f=e.sent;case 40:J({ano:n.ano?n.ano:"",antecedentesp:o,antecedentesj:s,ciudades:a,color:n.color?n.color:"",habilitacion_dorso:l,habilitacion_frente:d,habilitacion_vencimiento:n.habilitacion_vencimiento?n.habilitacion_vencimiento:"",imagen_perfil:r,kilometraje:n.kilometraje?n.kilometraje:"",marca:n.marca?n.marca:"",modelo:n.modelo?n.modelo:"",numero_chapa:n.numero_chapa?n.numero_chapa:"",numero_chassis:n.numero_chassis?n.numero_chassis:"",poliza_seguro:u,registro_dorso:j,registro_frente:b,constancia_ruc:f,registro_vencimiento:n.registro_vencimiento?n.registro_vencimiento:"",tipo_vehiculo:c,contrasena:"",repetir_contrasena:"",email:n.email?n.email:"",first_name:n.first_name?n.first_name:"",last_name:n.last_name?n.last_name:"",fecha_nacimiento:n.fecha_nacimiento?n.fecha_nacimiento:"",nro_documento:n.nro_documento?n.nro_documento:"",nro_telefono:Object(I.o)(n.nro_telefono),razon_social:n.razon_social?n.razon_social:"",ruc:n.ruc?n.ruc:"",calle_principal:n.calle_principal?n.calle_principal:"",calle_secundaria:n.calle_secundaria?n.calle_secundaria:"",ciudad:n.ciudad?n.ciudad:0,nombre_direccion:n.nombre_direccion?n.nombre_direccion:"",numero:n.numero?n.numero:"",referencia:n.referencia?n.referencia:"",ubicacion:n.ubicacion?n.ubicacion:""});case 41:case"end":return e.stop()}}),e)})))),l=window.innerWidth<=500,ge(l),aa(),na(),setTimeout((function(){return Je(!0)}),700);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){$t()}),[]),Object(g.useEffect)((function(){t.hasLocationPermission&&ea().catch((function(e){console.log(e),String(e).includes("location disabled")&&pe("La ubicaci\xf3n est\xe1 desactivada.")}))}),[t.hasLocationPermission]),Object(g.useEffect)((function(){te===oa.requisitos?at([{titulo:"Registro",callback:function(){sa(oa.requisitos)}}]):te===oa.datosPersonales?(Me("Datos Personales"),Be("Iniciar Sesi\xf3n - Paso 1 de 2"),at([{titulo:"Registro",callback:function(){sa(oa.requisitos)}},{titulo:"Datos personales",callback:function(){sa(oa.datosPersonales)}}])):te===oa.mapa?(Me("Direcci\xf3n"),Be(""),at([{titulo:"Registro",callback:function(){sa(oa.requisitos)}},{titulo:"Datos personales",callback:function(){sa(oa.datosPersonales)}},{titulo:"Direcci\xf3n legal",callback:function(){sa(oa.mapa)}}])):te===oa.direccionCampos?(Me("Direcci\xf3n"),Be(""),at([{titulo:"Registro",callback:function(){sa(oa.requisitos)}},{titulo:"Mapa",callback:function(){sa(oa.mapa)}},{titulo:"Direcci\xf3n legal",callback:function(){sa(oa.direccionCampos)}}])):te===oa.datosRodado&&(Me("Rodados"),Be("Paso 2 de 2"),at([{titulo:"Datos personales",callback:function(){sa(oa.datosPersonales)}},{titulo:"Rodados",callback:function(){sa(oa.datosRodado)}}]))}),[te]);var ea=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,Xt([t.coords.latitude,t.coords.longitude]),Wt(t.coords.latitude),Jt(t.coords.longitude),Mt({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ta=function(e,t){var a=Object(c.a)({},He);a[e]=t,We(a)},aa=function(){t.ciudades.length||(M(!0),t.actualizarDatosInicio(!1).then((function(){M(!1)})))},na=function(){t.environment.api.tiposVehiculos().then((function(e){"ok"===e.kind&&t.setTiposVehiculos(e.data.results)}))},ia=function(e,t){var a=Object(c.a)({},G);a[e]=t,J(a)},ca=function(){var e=Object(r.a)(i.a.mark((function e(t,a){var c,r,o,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===s.Capacitor.getPlatform()){e.next=5;break}return e.next=3,l.a.readFile({path:t});case 3:c=e.sent,t="data:image/jpeg;base64,".concat(c.data);case 5:return e.next=7,fetch(t).then((function(e){return e.blob()}));case 7:return r=e.sent,e.next=10,Object(I.k)(r,a,ra);case 10:return o=e.sent,ta(a,t),Se(a),e.next=15,m.a.getDataUrlFromFile(o);case 15:d=e.sent,ia(a,o),n.setDatoRegistroStore(a,d);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra=function(e){ye(e),100===e?(M(!1),setTimeout((function(){ye(0),Se("")}),500)):M(!0)},oa={requisitos:0,datosPersonales:1,mapa:2,direccionCampos:3,datosRodado:4},sa=function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),h.push(window.location.pathname+"?"+t.toString())},la=function(e){sa(e),ne.current=e,ie&&ie.current&&ie.current.scrollTop()},da=function(e,t){ia(e,t)},ua=function(e){if(["first_name","last_name"].includes(e)&&ia("razon_social",G.first_name+" "+G.last_name),"ruc"===e){var a=G.ruc.indexOf("-")>0?{ruc:G.ruc}:{documento:G.ruc};t.environment.api.consultarRuc(a).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),n.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),n.setDatoRegistroStore("razon_social",t.razon_social))}})).catch((function(){}))}};Object(g.useEffect)((function(){var e=null;return"web"!==s.Capacitor.getPlatform()&&(e=u.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&ft.current&&(kt(!0),setTimeout((function(){Tt(!0),Nt(null),pe("N\xfamero verificado exitosamente"),ft.current=!1,It(ft.current)}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var ja=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===G.nro_telefono.length){e.next=3;break}return pe("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:Et&&Tt(!1),u.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),xt(!0),Nt(null),kt(!1),setTimeout((function(){ft.current=!0,It(ft.current)}),2e3),t=Object(I.p)(G.nro_telefono),u.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(!1),!Et){e.next=4;break}return Nt(null),e.abrupt("return");case 4:mt.current=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),Nt(e),Tt(!1),xt(!1),ft.current=!1,It(ft.current),pe("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(){if(12===G.nro_telefono.length){var e=Object(I.p)(G.nro_telefono);xt(!0),Nt(null);var t=new f.a.auth.RecaptchaVerifier("recaptcha-container");(new f.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){xt(!1),ft.current=!0,It(ft.current),xt(!1),mt.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e),xt(!1),Nt(e.message),Tt(!1),pe("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else pe("Ingrese un n\xfamero v\xe1lido","warning")};Object(g.useEffect)((function(){a.isLoggedIn&&Tt(!0)}),[G]),Object(g.useEffect)((function(){oe&&Ie(!1)}),[oe]);var ma=function(e,t){Xe(!0),Wt(e),Jt(t),a.isLoggedIn||n.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),sa(oa.direccionCampos)};Object(g.useEffect)((function(){Ht&&Gt&&t.environment.api.infoCalle(Ht,Gt).then((function(e){if("ok"===e.kind&&e.response.info){var i=e.response.info,r=Object(c.a)({},G);i.calle&&(r.calle_principal={value:i.calle,label:i.calle}),i.ciudad_obj&&(r.ciudad=t.ciudades.find((function(e){return e.id===i.ciudad_obj.id}))),i.secondary&&(r.calle_secundaria={value:i.secondary,label:i.secondary}),a.isLoggedIn||(n.setDatoRegistroStore("calle_principal",r.calle_principal?r.calle_principal:null),n.setDatoRegistroStore("calle_secundaria",r.calle_secundaria?r.calle_secundaria:null),n.setDatoRegistroStore("ciudad",r.ciudad?r.ciudad.id:null)),J(r)}})).catch()}),[Ht,Gt]);return Object(z.jsxs)("div",{children:[Object(z.jsxs)(b.q,{isOpen:!0,id:"modal-registro-transportista",swipeToClose:!1,backdropDismiss:!1,children:[Object(z.jsx)(y.k,{color:"var(--naranja-transportista)",botonIzquierdo:Object(z.jsx)("span",{onClick:function(){if(te>0)sa(te-1);else{var e=new URLSearchParams(window.location.search);e.delete("registrot"),e.delete("i"),h.push(window.location.pathname+"?"+e.toString())}},children:Object(z.jsx)(_.a,{size:30,color:"#ffffff"})}),titulo:"Registro del conductor"}),bt,Object(z.jsx)(A.a,{links:tt||[]}),Object(z.jsxs)(E.a,{className:"",index:te,onChangeIndex:la,disabled:!0,children:[Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsxs)("div",{className:"p-4",style:{background:"#FFF"},children:[Object(z.jsx)("strong",{children:Object(z.jsx)("p",{className:"margen-texto-registro-transportista mt-2",children:"Requisitos para ser Driver ABi:"})}),Object(z.jsxs)("ol",{children:[Object(z.jsx)("li",{children:"Ser mayor de 18 a\xf1os."}),Object(z.jsx)("li",{children:"Contar con un rodado desde moto hasta un cami\xf3n. \xa1Con ABi no hay l\xedmites!"}),Object(z.jsx)("li",{children:"Habilitaci\xf3n al d\xeda."}),Object(z.jsx)("li",{children:"Registro de conducir."}),Object(z.jsx)("li",{children:"Certificado de antecedentes policiales."}),Object(z.jsx)("li",{children:"Certificado de antecedentes judiciales."}),Object(z.jsx)("li",{children:"Contar con factura legal."}),Object(z.jsx)("li",{children:"Tener un seguro. Si no ten\xe9s... \xa1Nosotros te ayudamos a tener uno!"})]}),Object(z.jsx)("p",{className:"p-4",children:"Registrate completando tus datos personales y el de tu rodado. \xa1Comenz\xe1 a conducir con nosotros!"}),Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:20,color:"var(--rojo-abi)"},children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("img",{src:"assets/icon/info-orange-transportista.png",className:"icono-registro-trasportista"}),Object(z.jsx)("a",{onClick:function(){return h.push("".concat(D.m.PREGUNTAS_FRECUENTES,"?c=Driver ABi"))},children:Object(z.jsx)("strong",{children:"Preguntas Frecuentes"})})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("img",{src:"assets/icon/atencion-cliente-red.png",className:"icono-registro-trasportista"}),Object(z.jsx)("a",{href:"https://wa.me/595981840840",children:Object(z.jsx)("strong",{style:{color:"var(--rojo-abi)"},children:"Contactanos"})})]}),Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return la(oa.datosPersonales)},children:[F&&Object(z.jsx)(b.z,{name:"crescent"}),!F&&Object(z.jsx)("span",{children:"Registrarme"})]})]})]}),!a.isLoggedIn&&Object(z.jsxs)(y.h,{className:"py-4 px-5",children:[Object(z.jsx)("div",{style:{},children:Object(z.jsx)("h6",{style:{fontWeight:"bolder"},className:"sub-titulo-login-abi",children:"\xa1Ya tengo cuenta ABi!"})}),Object(z.jsx)("div",{children:Object(z.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),e.delete("registrot"),h.push(window.location.pathname+"?"+e.toString())},children:Object(z.jsx)("h5",{style:{color:"var(--rojo-abi)",fontWeight:"bold"},children:"Iniciar Sesi\xf3n"})})})]})]}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsx)(w.a,{isOpen:ct,color:"var(--rojo-abi)",titulo:"Direcci\xf3n legal",cssClass:"info-direccion-transportista",close:function(){return rt(!1)},children:Object(z.jsx)("span",{children:"La direcci\xf3n legal es tu direcci\xf3n de residencia actual."})}),Object(z.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(z.jsx)(y.w,{color:"var(--rojo-abi)",titulo_modal:"Foto de Perfil",titulo_label:"Subir Foto de Perfil "+("imagen_perfil"===ke&&Ne>0?Ne+"%":""),helptext:Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"1. Mostra tu rostro completo y la parte superior de los hombros"}),Object(z.jsx)("p",{children:"2. No uses anteojos ni kepis/sombreros"}),Object(z.jsx)("p",{children:"3. Saca la foto en un lugar con buena iluminaci\xf3n"})]}),img_path:"assets/person.png",on_select:ca,userdata:"imagen_perfil",dontUseWebInput:!0,preview:""!==He.imagen_perfil?He.imagen_perfil:"",camera_direction:1,perfil:!0,class_boton_aceptar:"btn-outline-orange",infoBody:Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"Sub\xed una imagen de tu rostro, n\xedtida y actualizada en la que puedan reconocerte:"}),Object(z.jsxs)("ul",{children:[Object(z.jsx)("li",{children:"Fondo neutro"}),Object(z.jsx)("li",{children:"Formato JPG"}),Object(z.jsx)("li",{children:"Prohibido fotografiarse con lentes oscuros kepi y/o tapabobas"})]})]}),infoTitulo:"Foto de Perfil",modal_info_css_class:"requisitos-foto-perfil"}),H.imagen_perfil&&Object(z.jsx)("div",{className:"text-danger",children:H.imagen_perfil}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(y.c,{deshabilitado:!F&&!a.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"first_name",valor:G?G.first_name:"",error:H&&H.first_name,set_dato:da,campo_blur:!0,set_dato_blur:ua,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{deshabilitado:!F&&!a.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"last_name",valor:G?G.last_name:"",error:H&&H.last_name,set_dato:da,campo_blur:!0,set_dato_blur:ua,columnas:12,columnas_sm:12,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Nro. de c\xe9dula",tipo:"texto",campo:"nro_documento",valor:G?G.nro_documento:"",error:H&&H.nro_documento,set_dato:da,campo_blur:!0,set_dato_blur:function(e){"nro_documento"===e&&t.environment.api.consultarRuc({documento:G.nro_documento}).then((function(e){if("ok"===e.kind){var t=e.response.result;t&&(J(Object.assign({},G,{ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social})),n.setDatoRegistroStore("ruc","".concat(t.documento,"-").concat(t.dv)),n.setDatoRegistroStore("razon_social",t.razon_social))}else ia("ruc",G.nro_documento)})).catch((function(){ia("ruc",G.nro_documento)}))},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:G?G.fecha_nacimiento:"",error:H&&H.fecha_nacimiento,set_dato:da,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{deshabilitado:!F&&!Et,titulo:"Celular",tipo:"telefono",campo:"nro_telefono",valor:G?G.nro_telefono:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.nro_telefono,verificar_firebase_habilitado:!0,verificar_firebase_autenticado:Et,verificar_firebase_func:"web"===s.Capacitor.getPlatform()?ba:ja,verificar_firebase_error:_t||"",verificar_boton_clase:"btn-outline-orange",verificar_firebase_reset:function(){xt(!1),Nt(null),Tt(!1),"web"!==s.Capacitor.getPlatform()&&u.a.signOut()},set_dato_registro_store:!0}),!xe&&Object(z.jsx)("div",{className:"col-6 ml-auto d-flex justify-content-center",id:"recaptcha-container"}),xe&&Object(z.jsx)("div",{className:"col-12 col-lg-6 ml-auto d-flex justify-content-center mb-lg-3 mb-0",id:"recaptcha-container",children:Ot&&Object(z.jsx)(b.z,{style:{color:"#ff4c01"},name:"crescent"})})]}),!a.isLoggedIn&&Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"row ",children:Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:G?G.email:"",error:H&&H.email,set_dato:da,columnas:12,columnas_sm:12,set_dato_registro_store:!0})}),Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:G?G.contrasena:"",error:H&&H.contrasena,set_dato:da,columnas:12,columnas_sm:6,set_dato_registro_store:!0,infoBody:Object(z.jsx)("div",{children:Object(z.jsxs)("ul",{children:[Object(z.jsxs)("li",{children:["La contrase\xf1a debe tener como ",Object(z.jsx)("strong",{children:"m\xednimo 6 caracteres."})]}),Object(z.jsx)("li",{children:"Conbin\xe1 letras, n\xfameros y s\xedmbolos para mayor seguridad."}),Object(z.jsx)("li",{children:'No utilices contrase\xf1as como: "123456", tu fecha de nacimiento o nombre.'}),Object(z.jsxs)("li",{children:[Object(z.jsx)("strong",{children:"Ning\xfan miembro del Staff Abi solicitar\xe1 tu contrase\xf1a."})," \xa1No la compartas con nadie!"," "]})]})}),infoTitulo:"Contrase\xf1a segura",modal_info_css_class:"requisitos-foto-perfil",color:"var(--naranja-transportista)"}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:G?G.repetir_contrasena:"",error:H&&H.repetir_contrasena,set_dato:da,columnas:12,columnas_sm:6,extra_css:"mb-3",set_dato_registro_store:!0})]})]}),Object(z.jsxs)("div",{className:"row ml-1",children:[Object(z.jsx)("div",{children:Object(z.jsx)("strong",{children:"Tipo de Driver: "})}),Object(z.jsx)("div",{className:"checkbox mx-1",children:Object(z.jsx)(b.f,{checked:"10"===lt,"aria-label":"Particular",onClick:function(){dt("10")},color:"secondary",disabled:"10"===lt})}),Object(z.jsx)("p",{className:"mx-1",children:"Particular"}),Object(z.jsx)("div",{className:"checkbox mx-1",children:Object(z.jsx)(b.f,{"aria-label":"Empresa",checked:"20"===lt,onClick:function(){dt("20")},color:"secondary",disabled:"20"===lt})}),Object(z.jsx)("p",{className:"mx-1",children:"Empresa"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("button",{className:"btn btn-outline-orange btn-font-sm",onClick:function(){la(oa.mapa)},children:"Direcci\xf3n legal"}),Object(z.jsx)("img",{onClick:function(){return rt(!0)},className:"icono-registro-trasportista",src:"assets/icon/info.png"})]}),Object(z.jsx)(k.b,{titulo_label:"Registro de conducir",titulo_modal:"Registro de conducir",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu registro de conducir al d\xeda.",infoTitulo:"Registro de conducir",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:ca,imageItems:[{preview:n.getPreview("registro_frente")?n.getPreview("registro_frente"):"assets/id.png",titulo:"Registro de conducir (frente)",userDataLabel:"registro_frente"},{preview:n.getPreview("registro_dorso")?n.getPreview("registro_dorso"):"assets/id.png",titulo:"Registro de conducir (dorso)",userDataLabel:"registro_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.registro_frente&&Object(z.jsxs)("div",{className:"text-danger",children:["Registro frente: ",H.registro_frente]}),H.registro_dorso&&Object(z.jsxs)("div",{className:"text-danger",children:["Registro dorso: ",H.registro_dorso]}),Object(z.jsx)("div",{className:"row",children:Object(z.jsx)(y.c,{titulo:"Fecha de vencimiento del registro",tipo:"fecha",campo:"registro_vencimiento",valor:G?G.registro_vencimiento:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.registro_vencimiento,set_dato_registro_store:!0})}),Object(z.jsxs)("div",{className:"",children:[Object(z.jsx)(y.B,{titulo:"Ciudades de cobertura",titulo_label:"Ciudades de cobertura",listado_elementos:t.ciudades,listado_elementos_seleccionados:G&&G.ciudades?G.ciudades:[],datos_filtrados:function(e){X(e),a.isLoggedIn||n.setDatoRegistroStore("ciudades",e)},multiple:!0,llave_label_opcion:"nombre",class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.ciudades&&Object(z.jsx)("div",{className:"text-danger",children:H.ciudades})]})]})]}),Object(z.jsx)(y.h,{className:"py-4 px-5",children:Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){return la(oa.datosRodado)},children:[F&&Object(z.jsx)(b.z,{name:"crescent"}),!F&&Object(z.jsx)("span",{children:"Continuar"})]})})]}),Object(z.jsx)("div",{className:"paso-registro-transportista-container",style:{position:"relative"},children:te===oa.mapa&&Object(z.jsx)(S.a,{cssButtom:"btn-pricipal-registro-transportista px-5 py-2",ref:zt,lat:Ht,lng:Gt,onAccept:ma,Movil:xe})}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Ge&&Object(z.jsx)("div",{onClick:function(){return la(oa.mapa)},style:{height:120,width:"100%",cursor:"pointer",overflow:"hidden"},children:Ke&&Object(z.jsx)(y.z,{lat:Ht,lng:Gt,zoom:Ht?16:14,center:Ft,bloquear_interaccion:!0,onClick:function(){return Xe(!1)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(z.jsxs)("div",{style:{background:"#FFF"},children:[Object(z.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n"}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[H.ubicacion&&Object(z.jsx)("div",{className:"text-danger mt-2 mx-3",children:"Seleccione su ubicaci\xf3n"}),Object(z.jsx)("div",{className:"col-12",children:Object(z.jsx)("div",{className:"row my-2",children:!Ge&&Object(z.jsx)("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{height:300,width:"100%"},children:Object(z.jsx)(b.z,{name:"crescent",className:"loadingSpinner"})})})}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:G?G.calle_principal:"",error:H&&H.calle_principal,set_dato:function(e,t){t&&ia(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(I.z)(t,ia,J,G,"calle_principal",e)},opciones_select:function(e){return Object(I.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:G?G.calle_secundaria:"",error:H&&H.calle_secundaria,set_dato:function(e,t){t&&ia(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(I.z)(t,ia,J,G,"calle_secundaria",e)},opciones_select:function(e){return Object(I.g)(t,Kt,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"N\xfamero de casa",tipo:"texto",campo:"numero",valor:G?G.numero:"",error:H&&H.numero,set_dato:da,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{deshabilitado:!F,titulo:"Referencias (color del port\xf3n, numeraci\xf3n visible, despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:G?G.referencia:"",error:H&&H.referencia,set_dato:da,columnas:12,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"campo-registro-transportista select-modal container-fluid",children:[Object(z.jsx)(y.B,{titulo:"Ciudad",placeholder:"Ciudad",titulo_label:"",listado_elementos:t.ciudades,listado_elementos_seleccionados:G.ciudad,datos_filtrados:function(e){ia("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),0!=H.ciudad&&Object(z.jsx)("div",{className:"text-danger",children:H.ciudad})]})]}),Object(z.jsx)(y.h,{className:"py-4 px-5",children:Object(z.jsx)("button",{className:"btn-pricipal-registro-transportista px-5 py-2 mx-2 my-2",onClick:function(){la(oa.datosPersonales),Xe(!1)},children:"Continuar"})})]}),Object(z.jsxs)("div",{className:"paso-registro-transportista-container",children:[Object(z.jsxs)("div",{className:"container-fluid",style:{background:"#FFF"},children:[Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center",height:100,padding:10},children:Object(z.jsx)("img",{alt:"Driver",src:"assets/icon/driver_gray_soft.png"})}),Object(z.jsxs)("div",{className:"row campo-registro-transportista select-modal",children:[Object(z.jsxs)("div",{className:"col-lg-6 col-12",children:[Object(z.jsx)(y.B,{titulo:"Tipo de Rodado",titulo_label:"",placeholder:"Tipo de Rodado",listado_elementos:t.tiposVehiculos,listado_elementos_seleccionados:G&&G.tipo_vehiculo?G.tipo_vehiculo:[],datos_filtrados:function(e){fe(e),a.isLoggedIn||n.setDatoRegistroStore("tipo_vehiculo",e)},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0,class_boton_aceptar:"btn-outline-orange",checkbox_style:"checkbox-custom-orange"}),H.tipo_vehiculo&&Object(z.jsx)("div",{className:"text-danger",children:H.tipo_vehiculo})]}),Object(z.jsx)(y.c,{titulo:"Marca",tipo:"texto",campo:"marca",valor:G?G.marca:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.marca,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"Modelo",tipo:"texto",campo:"modelo",valor:G?G.modelo:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.modelo,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"A\xf1o",tipo:"texto",campo:"ano",valor:G?G.ano:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.ano,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"Color",tipo:"texto",campo:"color",valor:G?G.color:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.color,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"Kilometraje",tipo:"numero",campo:"kilometraje",valor:G?G.kilometraje:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.kilometraje,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"Chapa AAAA 123",tipo:"texto",campo:"numero_chapa",valor:G?G.numero_chapa:"",set_dato:da,columnas:6,columnas_sm:6,error:H&&H.numero_chapa,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"N\xfamero de Chasis",tipo:"texto",campo:"numero_chassis",valor:G?G.numero_chassis:"",set_dato:da,columnas:12,columnas_sm:6,error:H&&H.numero_chassis,set_dato_registro_store:!0}),Object(z.jsx)(y.c,{titulo:"Fecha de vencimiento de la habilitaci\xf3n",tipo:"fecha",campo:"habilitacion_vencimiento",valor:G?G.habilitacion_vencimiento:"",set_dato:da,columnas:12,columnas_sm:12,error:H&&H.habilitacion_vencimiento,set_dato_registro_store:!0})]}),Object(z.jsxs)("div",{className:"campo-registro-transportista",children:[Object(z.jsx)(k.b,{titulo_label:"Subir foto de la habilitaci\xf3n",titulo_modal:"Subir foto de la habilitaci\xf3n",helptext:"",infoBody:"Sub\xed una foto del frente y dorso de tu habilitacion al d\xeda.",infoTitulo:"Foto de habilitaci\xf3n",modalInfoCssClass:"info-modal-2lines",img_path:"assets/id.png",on_select:ca,imageItems:[{preview:n.getPreview("habilitacion_frente")?n.getPreview("habilitacion_frente"):"assets/id.png",titulo:"Habilitacion de rodado (frente)",userDataLabel:"habilitacion_frente"},{preview:n.getPreview("habilitacion_dorso")?n.getPreview("habilitacion_dorso"):"assets/id.png",titulo:"Habilitacion de rodado (dorso)",userDataLabel:"habilitacion_dorso"}],perfil:!1,color:"#ff6f33",class_boton_aceptar:"btn-outline-orange"}),H.habilitacion_frente&&Object(z.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n frente: ",H.habilitacion_frente]}),H.habilitacion_dorso&&Object(z.jsxs)("div",{className:"text-danger",children:["Habilitaci\xf3n dorso: ",H.habilitacion_dorso]})]}),Object(z.jsxs)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"#000",fontWeight:"bolder"},children:["Al finalizar, acepto las"," ",Object(z.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(z.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(z.jsx)("strong",{children:"Condiciones de Uso"})})})," ","y"," ",Object(z.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:Object(z.jsx)("span",{style:{color:"var(--rojo-abi)"},children:Object(z.jsx)("strong",{children:"T\xe9rminos de privacidad."})})})]}),Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(z.jsx)("p",{className:"texto-info-registro-transportista px-1",style:{textAlign:"center",color:"var(--gris-oscuro-abi)"},children:"Al finalizar, declaro la autenticidad de los datos proporcionados."})})]}),Object(z.jsx)(y.h,{className:"py-4 px-5",children:Object(z.jsxs)("button",{className:"btn-pricipal-registro-transportista px-5 py-2",onClick:function(){if(oe)if(Et){M(!0),W({});var e="";Ht&&Gt&&(e=Ht+","+Gt);var i=G.calle_principal,r=G.calle_secundaria,o=Object(c.a)(Object(c.a)({},G),{},{ciudades:K,ubicacion:e,nro_telefono:Object(I.p)(G.nro_telefono),calle_principal:i?i.value:"",calle_secundaria:r?r.value:"",tipo_vehiculo:me?me[0]:0,tipo:lt});"object"===typeof o.ciudad&&(o.ciudad=o.ciudad.id),t.environment.api.transportistaRegistro(o).then((function(e){if(M(!1),"ok"===e.kind)Object(p.u)((function(){a.setUser(e.user),a.setApiToken(e.user.token),a.setModoUsoApp(e.user.modo_uso_app),n.reset()})),ue(!0),pe("Registro realizado exitosamente");else if("bad-data"===e.kind){W(e.errors);var t=Object.keys(e.errors)[0];null!==t&&pe(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning"),["first_name","last_name","email","nro_telefono","ciudades","contrasena","repetir_contrasena","nro_documento","fecha_nacimiento","imagen_perfil"].includes(t)||["registro_frente","registro_dorso","antecedentesj","antecedentesp","fecha_emision_antecedentes_judiciales","fecha_emision_antecedentes_policiales","registro_vencimiento"].includes(t)||["ruc","razon_social","constancia_ruc"].includes(t)?la(oa.datosPersonales):["tipo_vehiculo","marca","modelo","ano","color","kilometraje","numero_chapa","numero_chassis","habilitacion_vencimiento","habilitacion_frente","habilitacion_dorso"].includes(t)?la(oa.datosRodado):["nombre_direccion","calle_principal","calle_secundaria","numero","referencia","ubicacion","ciudad"].includes(t)?la(oa.direccionCampos):la(oa.datosPersonales)}else pe("Ocurri\xf3 un error al conectar al servidor, vuelva a intentar en unos momentos","error")}))}else if(Ee(!0),G.nro_telefono&&12===G.nro_telefono.length){var l="web"===s.Capacitor.getPlatform()?ba:ja;la(1),l(),pe("Verifique su n\xfamero para continuar","warning")}else la(1),pe("Cargue su n\xfamero de celular y toque en el bot\xf3n verificar para continuar","warning");else Ie(!0)},children:[F&&Object(z.jsx)(b.z,{name:"crescent"}),!F&&Object(z.jsx)("span",{children:"Finalizar"})]})})]})]})]}),Object(z.jsx)(b.q,{isOpen:de,swipeToClose:!1,backdropDismiss:!1,cssClass:"modal-transparent-full",children:Object(z.jsxs)(v.a.Dialog,{centered:!0,children:[Object(z.jsx)(v.a.Header,{children:Object(z.jsx)(v.a.Title,{style:{color:"#ff6f33"},children:"Registro finalizado"})}),Object(z.jsxs)(v.a.Body,{children:[Object(z.jsx)("div",{className:"text-center",children:Object(z.jsx)(N.a,{color:"#1DBF73",size:52,style:{marginBottom:10}})}),Object(z.jsx)("p",{children:"Gracias por registrarte en ABi! Actualmente nuestro equipo se encuentra verificando los datos ingresados y se pondr\xe1 en contacto contigo para realizar la verificaci\xf3n de la cuenta."})]}),Object(z.jsx)(v.a.Footer,{children:Object(z.jsxs)("button",{className:"btn btn-outline-orange my-2",onClick:function(){ue(!1),"web"===s.Capacitor.getPlatform()?document.location.href=D.p.INICIO:document.location.href=D.m.ROOT},children:[F&&Object(z.jsx)(b.z,{name:"crescent"}),!F&&Object(z.jsx)("span",{children:"Continuar"})]})})]})}),Object(z.jsx)(C.a,{ref:zt,lat:Ht,lng:Gt,onAccept:ma,color:"var(--naranja-transportista)"}),Dt&&Object(z.jsx)(y.s,{visible:!0,animate:wt,callback:function(e){if(console.log("modalCodigoFirebaseCallback",e),"-1"===e)return Tt(!0),Nt(null),ft.current=!1,void It(ft.current);if(!e)return Nt(null),ft.current=!1,void It(ft.current);if(!mt.current)return Nt(null),ft.current=!1,It(ft.current),void pe("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(xt(!0),ft.current=!1,It(ft.current),"web"===s.Capacitor.getPlatform()){var t=f.a.auth.PhoneAuthProvider.credential(mt.current,e);void 0!==t?f.a.auth().signInWithCredential(t).then((function(e){xt(!1),Tt(!0),Nt(null),pe("N\xfamero verificado exitosamente")})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(pe("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,It(ft.current)):Nt(e.message),xt(!1),Tt(!1)})):(xt(!1),Tt(!1),pe("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else u.a.signInWithVerificationId(mt.current,e).then((function(e){xt(!1),Tt(!0),Nt(null),pe("N\xfamero verificado exitosamente"),It(ft.current)})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")?(pe("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ft.current=!0,It(ft.current)):Nt(e),Tt(!1),xt(!1)}))},close:function(){ft.current=!1,It(ft.current)},color:"var(--naranja-transportista)",class_boton_aceptar:"btn-principal-transportista px-5 py-2"})]})}));t.a=F},495:function(e,t,a){"use strict";var n=a(24),i=(a(554),a(40)),c=a(161),r=a(3),o=a(1543),s=a(57),l=a(8),d=a(101),u=a(86),j=a(9),b=Object(c.a)((function(e){var t=Object(u.b)(),a=t.loginStore,c=Object(s.e)(),b=Object(r.useState)(!1),m=Object(n.a)(b,2),f=m[0],p=m[1],h=Object(r.useState)(""),O=Object(n.a)(h,2),x=O[0],g=O[1],v=Object(r.useState)(""),_=Object(n.a)(v,2),N=_[0],y=_[1],C=Object(r.useState)(""),w=Object(n.a)(C,2),k=w[0],S=w[1];return Object(j.jsxs)(i.q,{isOpen:!0,id:"modal-selector-modo",swipeToClose:!1,backdropDismiss:!1,children:[Object(j.jsx)(i.a,{isOpen:f,onDidDismiss:function(){return p(!1)},header:""!==x?x:"Cerrar sesi\xf3n",message:""!==N?N:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===k?Object(d.h)(t,c,10):"cambiar-transportista"===k?Object(d.h)(t,c,30):"cambiar-fabricante"===k?Object(d.h)(t,c,20):c.replace(l.m.LOGOUT)}}]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("smodo"),e.delete("i"),c.push(window.location.pathname+"?"+e.toString())},children:Object(j.jsx)(o.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(j.jsxs)("div",{className:"titulo-container",children:[Object(j.jsx)("div",{className:"titulo",children:"MODO DE USUARIO"}),Object(j.jsx)("div",{className:"subtitulo",children:"\xbfC\xf3mo quer\xe9s ver ABi?"})]}),Object(j.jsxs)("div",{className:"row modos",children:[Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){p(!0),g("Cambiar a modo compras"),y("Confirma que desea cambiar a modo compras?"),S("cambiar-usuario")},children:Object(j.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){a.isLoggedIn&&a.fabricante?(p(!0),g("Cambiar a modo proveedor"),y("Confirma que desea cambiar a modo proveedor?"),S("cambiar-fabricante")):c.push(l.o.HOME)},children:Object(j.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(j.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.transportista)p(!0),g("Cambiar a modo driver"),y("Confirma que desea cambiar a modo driver?"),S("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),c.push(window.location.pathname+"?"+e.toString())}},children:Object(j.jsx)("img",{alt:"Modo driver",src:"assets/registro-driver.jpg"})})]})]})]})}));t.a=b},496:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));a(33);var n=a(24),i=(a(538),a(30)),c=a(40),r=a(531),o=a.n(r),s=a(524),l=a.n(s),d=a(161),u=a(3),j=a.n(u),b=a(1525),m=a(1526),f=a(1021),p=a(1513),h=a(1524),O=a(57),x=a(58),g=a(8),v=a(101),_=a(86),N=(a(539),a(1514)),y=a(571),C=a(505),w=a(197),k=a(9),S=Object(d.a)((function(e){var t=Object(O.e)(),a=Object(_.b)(),i=Object(v.J)(),r=a.loginStore,o=Object(u.useState)(!1),s=Object(n.a)(o,2),l=s[0],d=s[1],j=Object(u.useState)(!1),b=Object(n.a)(j,2),m=b[0],f=b[1],h=Object(u.useState)(!1),x=Object(n.a)(h,2),S=x[0],D=x[1],I=Object(u.useState)(!1),P=Object(n.a)(I,2),R=P[0],E=P[1],T=e.isOpen,z=e.setShowModal;return Object(k.jsxs)(c.q,{isOpen:T,cssClass:"modal-side-menu-estilo",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return z(!1)},children:[Object(k.jsx)(c.a,{isOpen:R,onDidDismiss:function(){return E(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){return z(!1),void t.push(g.m.LOGOUT)}}]}),Object(k.jsx)("div",{className:"d-flex flex-column h-100 overflow-auto",children:Object(k.jsxs)("div",{className:"row w-100 mx-0 pb-5",style:{overflowX:"hidden"},children:[Object(k.jsxs)("div",{style:{display:"flex",width:"100%",background:"var(--naranja-abi)",paddingTop:20,height:128},children:[Object(k.jsxs)("p",{className:"mb-0 d-flex align-items-center",style:{color:"white",fontWeight:"bolder",marginLeft:10},children:[Object(k.jsx)("a",{children:Object(k.jsx)("div",{className:"centrado-flex",style:{height:60,width:60,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},onClick:r.isLoggedIn?e.verPerfil:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())},children:Object(k.jsx)("img",{src:r.imagen_perfil?r.imagen_perfil:"assets/icon/person-line.png",className:"imagen-perfil "+(r.imagen_perfil?"imagen-perfil-side-menu":"contorno-person-side-menu")})})}),!r.isLoggedIn&&Object(k.jsx)("a",{style:{fontWeight:"bolder",marginLeft:10},onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),z(!1),t.push(window.location.pathname+"?"+e.toString())},children:"Iniciar sesi\xf3n"}),r.isLoggedIn&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"d-flex flex-column",style:{marginLeft:10},onClick:function(){t.push(g.m.CLIENTE),z(!1)},children:[Object(k.jsxs)("strong",{style:{lineHeight:1},children:["\xa1Hola,"," ",Object(k.jsxs)("span",{children:[r.first_name," ",r.last_name]}),"!"]}),Object(k.jsxs)("span",{style:{fontSize:12},children:["Id#",r.id]})]})})]}),Object(k.jsx)("hr",{className:"mt-3 mb-1",style:{borderColor:"white"}})]}),Object(k.jsxs)("div",{style:{color:"var(--gris-oscuro-abi)",width:"99%"},children:[Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsx)("a",{onClick:function(){t.push(g.m.ROOT),z(!1)},style:{fontWeight:"bolder",marginLeft:10},children:"Inicio"})}),Object(k.jsx)("div",{style:{marginLeft:10,marginTop:"1rem"},children:Object(k.jsxs)("a",{onClick:function(){D(!S)},children:[Object(k.jsx)("span",{style:{fontWeight:S?"bold":"bolder"},children:"Categor\xedas"}),S?Object(k.jsx)(p.a,{}):Object(k.jsx)(N.a,{})]})}),S&&Object(k.jsx)(A,{setShowModal:z}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",children:Object(k.jsxs)("a",{onClick:function(){f(!m)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:m?"bold":"bolder"},children:"Mis Compras"}),m?Object(k.jsx)(p.a,{}):Object(k.jsx)(N.a,{}),m&&Object(k.jsxs)("div",{className:"drop-side-menu",children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{onClick:function(){return t.push(g.m.PEDIDOS)},children:[Object(k.jsx)("img",{src:"assets/icon/historial.png",height:20,width:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Mis pedidos"})]})}),Object(k.jsxs)("a",{onClick:function(){if(r.isLoggedIn)t.push(g.m.FAVORITOS);else{i("Inicie sesi\xf3n para ver sus pedidos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),t.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)(y.c,{size:20}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){t.push("/carrito")},children:[Object(k.jsx)(y.f,{size:20,style:{fontWeight:"lighter"}}),Object(k.jsx)("span",{style:{marginLeft:10},children:"Carrito"})]})]})]})}),Object(k.jsxs)("div",{className:"col-12 mt-3 px-0",children:[Object(k.jsxs)("a",{onClick:function(){d(!l)},style:{marginLeft:10},children:[Object(k.jsx)("span",{style:{fontWeight:l?"bold":"bolder"},children:"Ayuda"}),l?Object(k.jsx)(p.a,{}):Object(k.jsx)(N.a,{})]}),l&&Object(k.jsxs)("div",{className:"drop-side-menu",style:{height:250},children:[Object(k.jsxs)("a",{href:g.m.PREGUNTAS_FRECUENTES,style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Preguntas frecuentes",height:20,style:{marginRight:5},src:"assets/icon/info.png"}),Object(k.jsx)("span",{children:"Preguntas frecuentes"})]}),Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"Comentarios y Sugerencias",height:20,style:{marginRight:5},src:"assets/icon/comentarios.png"}),Object(k.jsx)("span",{children:"Comentarios y Sugerencias"})]}),Object(k.jsxs)("a",{onClick:function(){t.push(g.m.ROOT)},children:[Object(k.jsx)("img",{alt:"Pol\xedticas de privacidad",height:20,src:"assets/icon/documento.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Pol\xedticas de privacidad"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)(C.a,{size:20,style:{marginRight:5}}),Object(k.jsx)("span",{children:"Reportar un error"})]}),Object(k.jsxs)("a",{href:"https://wa.me/595981840840",style:{color:"var(--gris-oscuro-abi)"},children:[Object(k.jsx)("img",{alt:"Atenci\xf3n al cliente",height:20,src:"assets/icon/atencion-cliente.png",style:{marginRight:5}}),Object(k.jsx)("span",{children:"Atenci\xf3n al cliente"})]})]}),Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},children:Object(k.jsxs)("a",{children:[Object(k.jsx)("img",{alt:"T\xe9rminos y Condiciones",height:20,src:"assets/icon/documento.png"}),Object(k.jsx)("span",{children:"T\xe9rminos y Condiciones"})]})}),r.isLoggedIn&&Object(k.jsx)("div",{className:"col-12 mt-3 px-0",style:{marginLeft:10,fontWeight:"bolder"},onClick:function(){return E(!0)},children:Object(k.jsx)("span",{children:"Cerrar sesi\xf3n"})}),Object(k.jsxs)("div",{id:"release-container",children:["v",w.RELEASE.split("@")[1]]})]})]})]})})]})})),A=Object(d.a)((function(e){var t=Object(O.e)(),a=Object(_.b)().arbol,n=e.setShowModal,i=function e(a){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(a.id,a.nombre)),n(!1)},className:"ml-3",children:[a.icono&&Object(k.jsx)("img",{alt:a.nombre,src:a.icono,height:20,style:{marginRight:10}}),a.nombre]},a.id),!!a.hijos&&a.hijos.length>0&&a.hijos.map((function(t){return e(t)}))]})};return Object(k.jsx)("div",{className:"drop-side-menu",style:{height:300},children:a.map((function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:function(){t.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,e.nombre)),n(!1)},className:"ml-1",children:[e.icono&&Object(k.jsx)("img",{alt:e.nombre,src:e.icono,height:20,style:{marginRight:10}}),e.nombre]},e.id),!!e.hijos&&e.hijos.length>0&&e.hijos.map((function(e){return i(e)}))]})}))})})),D=a(483),I=a(477),P=Object(d.a)((function(e){var t=Object(_.b)(),a=t.loginStore,r=t.carritoStore,s=t.favoritoStore,d=Object(u.useState)(!1),N=Object(n.a)(d,2),y=N[0],C=N[1],w=Object(u.useState)(!1),A=Object(n.a)(w,2),P=A[0],R=A[1],E=Object(u.useState)(!1),T=Object(n.a)(E,2),z=T[0],B=T[1],L=Object(O.e)(),F=/Mobi/.test(navigator.userAgent),M=Object(u.useState)(),q=Object(n.a)(M,2),U=q[0],H=q[1],W=Object(v.J)(),V=Object(v.B)(),Y=Object(u.useState)({}),G=Object(n.a)(Y,2),J=(G[0],G[1],Object(u.useState)(!1)),Q=Object(n.a)(J,2),Z=Q[0],K=Q[1],X=Object(u.useState)(""),$=Object(n.a)(X,2),ee=$[0],te=$[1];Object(u.useEffect)((function(){H(ae())}),[U]);var ae=function(){var e=a.direcciones.find((function(e){return e.default}));return void 0===e?a.direcciones[0]:e},ne=function(e){L.push(g.m.CATEGORIA_LISTADO_PRODUCTOS(e.id,Object(v.m)(e.nombre)))};j.a.useEffect((function(){var e=new URLSearchParams(window.location.search);e.get("s")&&te(e.get("s")||"")}),[]);var ie=function(){C(!1),a.administrador?L.push(g.m.ADMIN):20===a.modo_uso_app?L.push(g.o.PERFIL):10===a.modo_uso_app?L.push(g.m.CLIENTE):L.push(g.p.INICIO)},ce=function(e){13===e.keyCode&&re(e.target.value.trim())},re=function(e){L.push("".concat(g.m.BUSCAR).concat(e?"?s="+encodeURIComponent(e):""))};return Object(k.jsxs)("div",{style:{height:F?136:"auto"},children:[Object(k.jsx)(D.a,{visible:P,setDireccionPredeterminada:function(e){H(e)},onDismiss:function(e){return R(e)}}),Object(k.jsxs)(c.q,{isOpen:Z,cssClass:"modal-contacto",swipeToClose:!0,backdropDismiss:!0,onDidDismiss:function(){return K(!1)},children:[Object(k.jsx)(c.j,{children:Object(k.jsxs)(c.C,{children:[Object(k.jsx)(c.A,{slot:"start",children:"Contacto"}),Object(k.jsx)(c.e,{slot:"end",onClick:function(){return K(!1)},children:Object(k.jsx)(b.a,{color:"#000",className:"mr-2"})})]})}),Object(k.jsx)("div",{className:"h-100 mt-4",children:Object(k.jsxs)("div",{className:"d-flex flex-column align-items-left justify-content-center h-75 mx-4 mt-2",children:[Object(k.jsxs)("a",{className:"mb-4 d-flex align-items-center justify-content-start btn btn-primary",href:"tel:+595981840840",children:[Object(k.jsx)(m.a,{size:18,className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Llamar"})]}),Object(k.jsxs)("a",{className:"mb-3 d-flex align-items-center justify-content-start btn btn-primary",target:"_blank",href:"https://wa.me/595981840840",children:[Object(k.jsx)(l.a,{style:{fontSize:20},className:"text-white"}),Object(k.jsx)("span",{style:{fontSize:16},className:"text-white ml-2",children:"Contactar por whatsapp"})]})]})})]}),Object(k.jsx)(c.a,{isOpen:z,onDidDismiss:function(){return B(!1)},header:"Cerrar sesi\xf3n",message:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){C(!1),"web"!==i.Capacitor.getPlatform()?(C(!1),L.push(g.m.LOGOUT)):(C(!1),W("Sesi\xf3n finalizada","info"),V(),document.location.href="/")}}]}),!F&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header",style:{position:"fixed",zIndex:999,width:"100%",backgroundColor:"#FFF"},children:[Object(k.jsx)("div",{className:"background-color-naranja-abi",style:{display:"flex",justifyContent:"center"},children:Object(k.jsxs)("div",{className:"container-lg top-cliente",children:[Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.transportista)Object(v.h)(t,L,30);else{var e=new URLSearchParams(window.location.search);e.set("registrot","1"),L.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsx)("span",{className:"icn-driver",children:I.a.driver}),Object(k.jsx)("span",{className:"texto-header",style:{marginLeft:"1px!important"},children:"Driver"})]}),Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn&&a.fabricante)Object(v.h)(t,L,20);else if(F){var e=new URLSearchParams(window.location.search);e.set("registrop","1"),L.push(window.location.pathname+"?"+e.toString())}else L.push(g.o.HOME)},children:[Object(k.jsx)("span",{className:"icn-proveedor",children:I.a.proveedor}),Object(k.jsx)("span",{className:"texto-header",children:"Proveedor"})]})]}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(k.jsx)("a",{children:Object(k.jsxs)("div",{className:"boton-header-cliente",onClick:Object(x.m)(g.m.PEDIDOS,L),children:[Object(k.jsx)("span",{className:"icn-mis-pedidos",children:I.a.mis_pedidos}),Object(k.jsx)("span",{className:"texto-header",children:"Mis Pedidos"})]})}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){if(a.isLoggedIn)L.push(g.m.FAVORITOS);else{W("Inicie sesi\xf3n para ver sus favoritos.");var e=new URLSearchParams(window.location.search);e.set("login","1"),L.push(window.location.pathname+"?"+e.toString())}},children:[Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:I.a.favorito}),Object(k.jsx)("span",{className:s.cantidadFavoritos<10?"cantidad-favoritos-min-top background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top background-color-naranja-abi fuente-azul-abi",children:s.cantidadFavoritos?s.cantidadFavoritos:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Favoritos "})]}),Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){L.push("/carrito")},children:[Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:I.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top background-color-naranja-abi ":"cantidad-items-carrito-max-top background-color-naranja-abi ",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]}),Object(k.jsx)("span",{className:"texto-header",children:"Carrito"})]}),a.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("a",{onClick:ie,className:"boton-header-cliente",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Object(k.jsxs)("div",{className:"nombre-usuario-header",children:[a.first_name," ",a.last_name]}),Object(k.jsxs)("div",{style:{fontWeight:"bold",fontSize:12},children:["id#",a.id]})]}),Object(k.jsx)("a",{className:"centrado-flex",onClick:ie,style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Imagen de perfil",className:"imagen-perfil",src:a.imagen_perfil?a.imagen_perfil:"assets/icon/person-line.png",width:a.imagen_perfil?50:30,height:a.imagen_perfil?50:30,style:a.imagen_perfil?{}:{position:"relative",bottom:-5}})})]}),!a.isLoggedIn&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},children:[Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("login","1"),L.push(window.location.pathname+"?"+e.toString())},style:{fontSize:15,fontWeight:"bold"},children:Object(k.jsx)("span",{className:"texto-header",children:"Iniciar Sesi\xf3n"})}),Object(k.jsx)("a",{onClick:function(){var e=new URLSearchParams(window.location.search);e.set("sregistro","1"),L.push(window.location.pathname+"?"+e.toString())},style:{fontSize:12},children:Object(k.jsx)("span",{className:"texto-header",children:"Crear cuenta"})})]}),Object(k.jsx)("div",{className:"centrado-flex",style:{height:50,width:50,backgroundColor:"#fff",borderRadius:"100%",overflow:"hidden"},children:Object(k.jsx)("img",{alt:"Usuario",src:"assets/icon/person-line.png",width:30,height:30,style:{position:"relative",bottom:-5}})})]})]})]})}),Object(k.jsx)("div",{className:"container-lg",style:{background:"#FFF"},children:Object(k.jsxs)("div",{className:"mid-header-container",style:{height:110},children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(k.jsx)("a",{title:"Ir al inicio",href:g.m.ROOT,onClick:function(e){e.preventDefault(),L.push(g.m.ROOT)},children:Object(k.jsx)("img",{src:"assets/abi-v.svg",alt:"Logo de ABi",style:{width:70,height:70}})})}),Object(k.jsx)("div",{style:{flex:2,justifyContent:"flex-end",display:"flex",alignItems:"center"},children:Object(k.jsxs)("div",{className:"input-group",style:{marginRight:20},children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,onChange:function(e){te(e.target.value)},onKeyDown:ce}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("a",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20})})})]})}),Object(k.jsx)("div",{style:{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:!!a.isLoggedIn&&!!(null===U||void 0===U?void 0:U.nombre)&&Object(k.jsx)("a",{children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:20},onClick:function(){R(!0)},children:[Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bold",height:25},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:g.d[U.icono]?g.d[U.icono]:"assets/icon/ubicacion-gray.png",style:{width:30,height:30,marginRight:3}}),Object(k.jsx)("span",{className:"color-fuente-naranja-abi",style:{fontWeight:"bolder",height:22},children:null===U||void 0===U?void 0:U.nombre})]})]})})})]})}),Object(k.jsx)("div",{style:{backgroundColor:"#e0dbe2"},children:Object(k.jsx)("div",{className:"top container-lg mid-header-container",children:Object(k.jsx)("div",{className:"categorias-header",children:Object(k.jsx)("ul",{id:"mainmenu",className:"menu",children:Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{className:"toggle-principal-categoria-header",onClick:function(){return L.push(g.m.CATEGORIAS)},children:["Categor\xedas ",Object(k.jsx)(p.a,{size:16})]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.arbol.map((function e(t){return t.hijos.length?Object(k.jsxs)("li",{className:"dropdown",children:[Object(k.jsxs)("a",{onClick:function(){return ne(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]}),Object(k.jsx)("ul",{className:"submenu",children:Object(k.jsx)("li",{className:"dropdown",children:t.hijos.map(e)})})]}):Object(k.jsx)("li",{className:"dropdown",children:Object(k.jsxs)("a",{onClick:function(){return ne(t)},children:[t.icono&&Object(k.jsx)("img",{src:t.icono,alt:t.nombre,className:"icon-categoria"}),t.nombre]})})}))})})]})})})})})]}),Object(k.jsx)("div",{style:{height:206}})]}),F&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"header w-100",style:{position:"fixed",zIndex:999},children:[Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsx)("div",{onClick:function(){return C(!0)},className:"centrado-flex",children:Object(k.jsx)(o.a,{style:{fontSize:30}})}),a.isLoggedIn&&!!(null===U||void 0===U?void 0:U.nombre)&&Object(k.jsxs)("div",{className:"bloque-direccion",style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:10},onClick:function(){R(!0)},children:[Object(k.jsx)("span",{style:{fontWeight:"bold",height:25,color:"#fff"},children:"Enviar a"}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("img",{alt:"Direcci\xf3n",src:"assets/icon/ubicacion-gray.png",className:"filter-invert-imagen",style:{width:F?20:30,height:F?20:30,marginRight:3}}),Object(k.jsx)("span",{className:"texto-direccion",style:{fontWeight:"bolder",height:22,color:"#fff"},children:U.nombre})]})]})]}),Object(k.jsx)("div",{className:"logo-no-direccion-header-movil",children:Object(k.jsx)("a",{className:"boton-header-cliente logo-abi-fabricante",onClick:function(){return L.push(g.m.ROOT)},children:I.a.abi})}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:window.innerWidth/2-42},children:[Object(k.jsxs)("a",{className:"boton-header-cliente",onClick:function(){return L.push(g.m.FAVORITOS)},children:[Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:" "}),Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-favoritos",children:I.a.favorito}),Object(k.jsx)("span",{className:s.cantidadFavoritos<10?"cantidad-favoritos-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-favoritos-max-top-movil background-color-naranja-abi fuente-azul-abi",children:s.cantidadFavoritos?s.cantidadFavoritos:null})]})]}),Object(k.jsx)("a",{className:"boton-header-cliente",onClick:function(){L.push("/carrito")},children:Object(k.jsxs)("div",{id:"icon-carrito",style:{position:"relative"},children:[Object(k.jsx)("span",{className:"icn-carrito",children:I.a.carrito}),Object(k.jsx)("span",{className:r.cantidadProductosCarrito<10?"cantidad-items-carrito-min-top-movil background-color-naranja-abi fuente-azul-abi":"cantidad-items-carrito-max-top-movil background-color-naranja-abi fuente-azul-abi",children:r.cantidadProductosCarrito?r.cantidadProductosCarrito:null})]})})]})]}),Object(k.jsxs)("div",{className:"top-cliente-movil background-color-naranja-abi",children:[Object(k.jsx)("div",{onClick:function(){return L.goBack()},children:Object(k.jsx)(h.a,{})}),Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("input",{type:"search",className:"form-control",placeholder:"Qu\xe9 est\xe1s buscando?",value:ee,style:{},onChange:function(e){te(e.target.value)},onClick:function(){te("")},onKeyDown:ce}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{className:"btn btn-outline-secondary",style:{height:38,backgroundColor:"#fff"},type:"button",onClick:function(){return re(ee)},children:Object(k.jsx)(f.a,{size:20,style:{color:"#4e4e4eff",marginBottom:2}})})})]})]})]}),Object(k.jsx)(S,{isOpen:y,setShowModal:function(e){C(e)},verPerfil:ie})]}),Object(k.jsx)("div",{className:"btn-whatsapp",children:Object(k.jsx)("a",{href:"https://wa.me/595981840840/?text=",target:"_blank",children:Object(k.jsx)("img",{src:"assets/btn_whatsapp.png",alt:""})})})]})}));t.b=P},498:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(551),a(3);var n=a(1514),i=a(57),c=a(8),r=a(477),o=a(9),s=function(e){var t=Object(i.e)(),a=e.links?e.links:[],s=!!e.Movil&&e.Movil,l=function(e){return e<a.length-1?Object(o.jsx)(n.a,{size:s?20:15}):null},d=Object(o.jsx)("a",{className:"link-sub-header",children:Object(o.jsxs)("div",{className:"",onClick:function(){return t.push(c.m.ROOT)},children:[r.a.abi,Object(o.jsx)(n.a,{size:s?20:15})]})});return Object(o.jsx)("div",{className:"margen-subheader sub-header-container",children:Object(o.jsxs)("div",{className:"d-flex align-items-center ".concat(s||e.noContainer?"px-3":"container-lg"),children:[d,!!e.links&&e.links.map((function(e,n){return Object(o.jsxs)("a",{onClick:function(){e.ruta&&t.push(e.ruta),e.callback&&e.callback()},style:n===a.length-1?{display:"flex",alignItems:"center",fontWeight:"bold",color:"var(--gris-oscuro-abi)"}:{display:"flex",alignItems:"center",fontWeight:"bolder",color:"var(--gris-oscuro-abi)"},children:[Object(o.jsx)("div",{className:"link-sub-header text-subheader-cliente ",children:e.titulo}),l(n)]},n)}))]})})}},501:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(3);var n=a(161),i=a(40),c=a(9),r=Object(n.a)((function(e){var t=e.visible,a=e.max_height||"100vh";return t&&Object(c.jsx)("div",{className:"LoaderAdmin-wrapper",style:{display:"flex",height:a,overflowY:"scroll"},children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)("div",{className:"d-flex justify-content-center loader",children:Object(c.jsx)(i.z,{name:"crescent",className:"loadingSpinner"})})})})}));t.b=r},502:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(40),i=a(161),c=(a(3),a(1525)),r=a(57),o=(a(513),a(512)),s=a(9),l=(a(144).WSS_BASE_URL,Object(i.a)((function(e){var t=Object(r.e)(),a=Object(r.f)().search;return Object(s.jsx)(n.q,{isOpen:e.visible,id:"modal-chat",onDidDismiss:function(){e.setVisible(!1);var n=new URLSearchParams(a);n.delete("chat"),n.delete("pedido"),t.push(window.location.pathname+"?"+n)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-chat",children:Object(s.jsx)(o.a,{botonExtra:Object(s.jsx)("a",{onClick:function(){return e.setVisible(!1)},className:"ml-2",children:Object(s.jsx)(c.a,{color:"white",size:30})}),pedido:e.pedido,containerStyle:{flex:1}})})})));t.b=l},504:function(e,t,a){"use strict";var n=a(24),i=a(3),c=a.n(i),r=a(40),o=(a(485),a(506),a(507),a(508),a(478)),s=a(9),l=c.a.forwardRef((function(e,t){var a=Object(i.useState)(!1),c=Object(n.a)(a,2),l=c[0],d=c[1],u=Object(i.useState)(!1),j=Object(n.a)(u,2),b=j[0],m=j[1],f=Object(i.useState)(e.lat),p=Object(n.a)(f,2),h=p[0],O=p[1],x=Object(i.useState)(e.lng),g=Object(n.a)(x,2),v=g[0],_=g[1],N=Object(i.useState)(14),y=Object(n.a)(N,2),C=y[0],w=y[1],k=Object(i.useState)({lng:e.lat||-57.63591,lat:e.lng||-25.30066}),S=Object(n.a)(k,2),A=S[0],D=S[1],I=Object(i.useState)(e.onAccept?[e.onAccept]:null),P=Object(n.a)(I,2),R=P[0],E=P[1],T=Object(i.useState)(e.userdata?[e.userdata]:null),z=Object(n.a)(T,2),B=z[0],L=z[1],F=Object(i.useState)(e.onCancel?[e.onCancel]:null),M=Object(n.a)(F,2),q=M[0],U=M[1],H=e.color||"#303AB2";Object(i.useImperativeHandle)(t,(function(){return{open:function(t,a,n){t&&E([t]),a&&U([a]),n&&L([n]),e.lat&&e.lng&&w(16),O(e.lat),_(e.lng),d(!0)},close:function(){W()}}}));var W=function(){m(!1),d(!1),q&&q[0](B?B[0]:null)};return Object(s.jsxs)(r.q,{isOpen:l,onDidDismiss:W,onDidPresent:function(){setTimeout((function(){m(!0)}),0)},children:[Object(s.jsx)(r.g,{children:b&&Object(s.jsx)(o.a,{lat:h,lng:v,zoom:C,center:A,ubicacion:function(e,t){O(e),_(t),D({lat:e,lng:t})},full_screen:!0,color:H})}),Object(s.jsx)(r.i,{children:Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("button",{className:"btn btn-secondary btn-block py-2",style:{borderRadius:0},onClick:W,children:"Cancelar"}),Object(s.jsx)("button",{className:"btn btn-primary btn-block py-2 mt-0",style:{borderRadius:0,backgroundColor:H,borderColor:H},onClick:function(){d(!1),m(!1),R&&h&&v&&R[0](h,v,B?B[0]:null)},children:"Confirmar"})]})})]})}));t.a=l},509:function(e,t,a){"use strict";a.d(t,"a",(function(){return oe}));var n=a(24),i=a(30),c=a(40),r=a(3),o=a.n(r),s=a(57),l=a(475),d=a(197),u=a(8),j=a(101),b=a(86),m=a(486),f=a(487),p=a(488),h=a(489),O=a(490),x=a(491),g=a(496),v=a(492),_=a(26),N=a(0),y=a.n(N),C=a(2),w=a(33),k=(a(550),a(479)),S=a(123),A=a(500),D=a(503),I=a(227),P=a(225),R=(a(286),a(18)),E=a(161),T=a(1524),z=a(1543),B=a(480),L=a.n(B),F=a(536),M=a.n(F),q=a(493),U=a(477),H=a(498),W=a(9),V=a(198),Y={nombre_empresa:"",razon_social:"",resena_empresa:"",ruc:"",nro_telefono_empresa:"",imagen_perfil:"",rubros:[],tipo_proveedor:0,nombre:"",apellido:"",fecha_nacimiento:"",email:"",contrasena:"",repetir_contrasena:"",nombre_punto_retiro:"",calle_principal:"",calle_secundaria:"",numero:"",referencia:"",ubicacion:"",ciudad:0,dias_apertura:[],hora_apertura:"",hora_cierre:""},G={imagen_perfil:""},J=0,Q=1,Z=2,K=3,X=4,$=5,ee=Object(E.a)((function(e){var t=e.movil,a=e.HeightDiv,i=e.loading,c=e.datos,o=e.setDato,s=e.setDatos,d=(e.guardar,e.errors),u=Object(b.b)(),m=u.loginStore,f=u.registroStore,p=Object(r.useState)(!e.noMostrarMapa),h=Object(n.a)(p,2),O=h[0],x=h[1],g=Object(j.J)(),v=Object(r.useRef)(),_=Object(r.useState)({lng:-57.63591,lat:-25.30066}),N=Object(n.a)(_,2),k=N[0],A=N[1],D=Object(r.useState)(null),I=Object(n.a)(D,2),P=I[0],R=I[1],E=Object(r.useState)(null),T=Object(n.a)(E,2),z=T[0],B=T[1],L=Object(r.useState)(null),F=Object(n.a)(L,2),M=F[0],U=F[1],H=Object(r.useState)(!1),V=Object(n.a)(H,2),Y=V[0],G=V[1];Object(r.useEffect)((function(){setTimeout((function(){return G(!0)}),700)}),[]),Object(r.useEffect)((function(){P&&z&&u.environment.api.infoCalle(P,z).then((function(e){if("ok"===e.kind&&e.response.info){var t=e.response.info,a=Object(w.a)({},c);t.calle&&(a.calle_principal={value:t.calle,label:t.calle}),t.ciudad_obj&&(a.ciudad=u.ciudades.find((function(e){return e.id===t.ciudad_obj.id}))),t.secondary&&(a.calle_secundaria={value:t.secondary,label:t.secondary}),m.isLoggedIn||(f.setDatoRegistroStore("calle_principal",a.calle_principal),f.setDatoRegistroStore("calle_secundaria",a.calle_secundaria),a.ciudad&&f.setDatoRegistroStore("ciudad",a.ciudad.id)),s(a)}})).catch()}),[P,z]),Object(r.useEffect)((function(){u.hasLocationPermission&&(Y?J().catch((function(e){console.log(e),String(e).includes("location disabled")&&g("La ubicaci\xf3n est\xe1 desactivada.")})):setTimeout((function(){J().catch((function(e){console.log(e)}))}),700))}),[u.hasLocationPermission]);var J=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getCurrentPosition({enableHighAccuracy:!0,timeout:15e3,maximumAge:36e5});case 2:t=e.sent,U([t.coords.latitude,t.coords.longitude]),R(t.coords.latitude),B(t.coords.longitude),A({lat:t.coords.latitude,lng:t.coords.longitude});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"paso-registro-container paso-direccion",style:Object.assign({},{height:a}),children:[O&&Object(W.jsx)(q.a,{cssButtom:"btn btn-primary px-5 py-1 my-3",ref:v,lat:P,lng:z,onAccept:function(e,t){R(e),B(t),A({lat:e,lng:t}),m.isLoggedIn||f.setDatoRegistroStore("ubicacion","".concat(e,",").concat(t)),o("ubicacion",e+", "+t),x(!1)},Movil:!0}),!O&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"px-md-2",style:{overflowX:"hidden"},children:t&&Y&&Object(W.jsx)(l.z,{lat:P,lng:z,zoom:P?16:14,center:k,bloquear_interaccion:!0,onClick:function(){return x(!0)},style:{width:"100%",height:120},noSolicitarPermiso:!0})}),Object(W.jsx)("p",{className:"pt-4 px-2",style:{textAlign:"center"},children:"A\xf1ad\xed m\xe1s informaci\xf3n para mejorar la precisi\xf3n de tu ubicaci\xf3n."}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"px-5 container-sm",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!i,titulo:"Nombre de la tienda",tipo:"texto",campo:"nombre_punto_retiro",valor:c?c.nombre_punto_retiro:"",error:d&&d.nombre_punto_retiro,set_dato:o,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!i,titulo:"Calle principal",tipo:"select2async",campo:"calle_principal",valor:c?c.calle_principal:"",error:d&&d.calle_principal,set_dato:function(e,t){t&&o(e,t)},select_placeholder:"Calle principal",select_onchange:function(e){Object(j.z)(u,o,s,c,"calle_principal",e)},opciones_select:function(e){return Object(j.g)(u,M,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!i,titulo:"Calle secundaria",tipo:"select2async",campo:"calle_secundaria",valor:c?c.calle_secundaria:"",error:d&&d.calle_secundaria,set_dato:function(e,t){t&&o(e,t)},select_placeholder:"Calle secundaria",select_onchange:function(e){Object(j.z)(u,o,s,c,"calle_secundaria",e)},opciones_select:function(e){return Object(j.g)(u,M,e)},select_no_options_text:"No se encuentran sugerencias",columnas:12,columnas_sm:12,set_dato_registro_store:!0,prepare_dato_registro_store:function(e){return e?{value:e,label:e}:null}}),Object(W.jsx)(l.c,{deshabilitado:!i,titulo:"N\xfamero de local",tipo:"texto",campo:"numero",valor:c?c.numero:"",error:d&&d.numero,set_dato:o,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsxs)("div",{className:"col-12 col-md-6 input-ciudad",style:{position:"relative"},children:[Object(W.jsx)(l.B,{titulo:"Ciudad",titulo_label:"",listado_elementos:u.ciudades,listado_elementos_seleccionados:c.ciudad,datos_filtrados:function(e){o("ciudad",e[0])},multiple:!1,llave_label_opcion:"nombre",auto_aceptar:!0}),!c.ciudad&&Object(W.jsx)("span",{style:{position:"absolute",left:"25px",top:"10px"},children:"Ciudad"}),!!d.ciudad&&Object(W.jsx)("div",{className:"text-danger",children:d.ciudad})]}),Object(W.jsx)(l.c,{deshabilitado:!i,titulo:"Referencias (Color del port\xf3n, Numeraci\xf3n visible, Despensa en la esquina, etc.)",tipo:"textarea",campo:"referencia",valor:c?c.referencia:"",error:d&&d.referencia,set_dato:o,columnas:12,set_dato_registro_store:!0})]})}),Object(W.jsx)(l.h,{className:"py-5 mt-1",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:e.callback,children:"Continuar"})})]})]})]})})),te=Object(E.a)((function(e){var t=Object(b.b)(),a=t.loginStore,o=t.registroStore,d=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),m=Object(r.useState)(!1),f=Object(n.a)(m,2),p=f[0],h=f[1],O=Object(r.useState)({}),x=Object(n.a)(O,2),g=x[0],v=x[1],N=Object(r.useState)(Y),S=Object(n.a)(N,2),E=S[0],B=S[1],F=Object(r.useState)(!1),q=Object(n.a)(F,2),te=q[0],ae=q[1],ne=d?J:Q,ie=Object(r.useState)(ne),ce=Object(n.a)(ie,2),re=ce[0],oe=ce[1],se=Object(r.useRef)(ne),le=Object(s.e)(),de=Object(j.J)(),ue=Object(r.useState)(!1),je=Object(n.a)(ue,2),be=je[0],me=je[1],fe=Object(r.useState)(!1),pe=Object(n.a)(fe,2),he=pe[0],Oe=pe[1],xe=Object(r.useState)(!1),ge=Object(n.a)(xe,2),ve=ge[0],_e=ge[1],Ne=Object(j.J)(),ye=Object(r.useRef)(null),Ce=Object(r.useState)([]),we=Object(n.a)(Ce,2),ke=we[0],Se=we[1],Ae=Object(r.useState)(!0),De=Object(n.a)(Ae,2),Ie=De[0],Pe=De[1],Re=Object(r.useState)(0),Ee=Object(n.a)(Re,2),Te=Ee[0],ze=Ee[1],Be=Object(r.useState)(0),Le=Object(n.a)(Be,2),Fe=Le[0],Me=Le[1],qe=Object(r.useState)(""),Ue=Object(n.a)(qe,2),He=Ue[0],We=Ue[1],Ve=Object(j.C)((function(){return le.replace(u.m.ROOT)}),null,"Salir del registro","Al salir del registro se perder\xe1n todos los datos cargados en el formulario"),Ye=Object(n.a)(Ve,2),Ge=(Ye[0],Ye[1],Object(r.useState)("")),Je=Object(n.a)(Ge,2),Qe=Je[0],Ze=(Je[1],Object(r.useState)("")),Ke=Object(n.a)(Ze,2),Xe=Ke[0],$e=Ke[1],et=Object(r.useState)(G),tt=Object(n.a)(et,2),at=tt[0],nt=tt[1],it=Object(r.useRef)(""),ct=Object(r.useRef)(!1),rt=Object(r.useState)(!1),ot=Object(n.a)(rt,2),st=ot[0],lt=ot[1],dt=Object(r.useState)(!1),ut=Object(n.a)(dt,2),jt=ut[0],bt=ut[1],mt=Object(r.useState)(!1),ft=Object(n.a)(mt,2),pt=ft[0],ht=ft[1],Ot=Object(r.useState)(""),xt=Object(n.a)(Ot,2),gt=xt[0],vt=xt[1],_t=Object(r.useState)(0),Nt=Object(n.a)(_t,2),yt=Nt[0],Ct=Nt[1];Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("i")||ne+"");oe(t)}),[t.locationSearch]),Object(r.useEffect)((function(){ze(d?window.innerWidth<=500?window.innerHeight-150:800:"100%")}),[d]),Object(r.useEffect)((function(){re===$&&Ct(25)}),[re]),Object(r.useEffect)((function(){if(yt>0){var e=setTimeout((function(){return Ct(yt-1)}),1e3);return function(){return clearTimeout(e)}}}),[yt]);var wt=Object(r.useState)(0),kt=Object(n.a)(wt,2),St=kt[0],At=kt[1],Dt=Object(r.useRef)(0),It=Object(r.useRef)(null);Object(r.useEffect)((function(){jt&&(It.current=setInterval((function(){At(Dt.current+1),Dt.current=Dt.current+1,Dt.current>6&&clearInterval(It.current)}),100))}),[jt]);Object(r.useEffect)((function(){!function(){if("web"!==i.Capacitor.getPlatform()&&("android"===i.Capacitor.getPlatform()?D.a.backgroundColorByHexString("#2f39b2"):"ios"===i.Capacitor.getPlatform()&&(document.body.style.background="#2f39b2"),A.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)}))),a.isLoggedIn){o.reset();var e=Object(w.a)({},Y);B(Object(w.a)(Object(w.a)({},e),{},{nombre:a.first_name?a.first_name:"",apellido:a.last_name?a.last_name:"",fecha_nacimiento:a.fecha_nacimiento?V(a.fecha_nacimiento).format("DD/MM/YYYY"):"",email:a.email?a.email:""}))}else setTimeout(Object(C.a)(y.a.mark((function e(){var a,n,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setTipoFormulario(20),a=t.rubros.filter((function(e){return o.rubros.includes(e.id)})),!o.imagen_perfil){e.next=7;break}return e.next=5,I.a.getFilefromDataUrl(o.imagen_perfil,"imagen_perfil");case 5:n=e.sent,Ft("imagen_perfil",o.imagen_perfil);case 7:i=o.fecha_nacimiento,c=o.nro_telefono,V(i).isValid()||(i=""),"09__-___-___"===c&&(c=""),B({tipo_proveedor:o.tipo_proveedor?o.tipo_proveedor:0,nombre:o.first_name?o.first_name:"",apellido:o.last_name?o.last_name:"",fecha_nacimiento:i||"",imagen_perfil:n,email:o.email?o.email:"",nombre_punto_retiro:o.nombre_punto_retiro?o.nombre_punto_retiro:"",calle_principal:o.calle_principal?o.calle_principal:"",calle_secundaria:o.calle_secundaria?o.calle_secundaria:"",referencia:o.referencia?o.referencia:"",ubicacion:o.ubicacion?o.ubicacion:"",ciudad:o.ciudad?o.ciudad:0,numero:o.numero?o.numero:"",dias_apertura:o.dias_apertura?o.dias_apertura:[],hora_apertura:o.hora_apertura?o.hora_apertura:"07:00",hora_cierre:o.hora_cierre?o.hora_cierre:"20:00",nombre_empresa:o.nombre_empresa?o.nombre_empresa:"",nro_telefono_empresa:o.nro_telefono_empresa?o.nro_telefono_empresa:"",razon_social:o.razon_social_empresa?o.razon_social_empresa.trim():"",ruc:o.ruc_empresa?o.ruc_empresa:"",resena_empresa:o.resena_empresa?o.resena_empresa:"",rubros:a,contrasena:"",repetir_contrasena:""});case 12:case"end":return e.stop()}}),e)}))),500);setTimeout((function(){return ae(!0)}),700),Pt()}()}),[]);var Pt=function(){t.ciudades.length||(h(!0),t.actualizarDatosInicio(!1).then((function(){h(!1)})))},Rt=function(){v(Y),me(!0);var e=E.calle_principal,n=E.calle_secundaria,i=Object(w.a)(Object(w.a)({},E),{},{calle_principal:e?e.value:"",calle_secundaria:n?n.value:"",nro_telefono_empresa:Object(j.p)(E.nro_telefono_empresa)});"object"===typeof i.ciudad&&(i.ciudad=i.ciudad.id),t.environment.api.fabricanteRegistro(i).then((function(e){if(h(!1),me(!1),"ok"===e.kind)Object(R.u)((function(){a.setUser(e.user),a.setApiToken(e.user.token),a.setModoUsoApp(e.user.modo_uso_app),o.reset()})),de("Proveedor registrado satisfactoriamente","success"),le.push(u.o.REGISTRO_SUCCESS);else if("bad-data"===e.kind){v(e.errors),Pe(!0);var t=Object.keys(e.errors).length?Object.keys(e.errors)[0]:null;"nombre_empresa"===t||"razon_social"===t||"ruc"===t||"nro_telefono_empresa"===t||"resena_empresa"===t||"nombre"===t||"apellido"===t||"nro_documento"===t||"email"===t||"contrasena"===t||"repetir_contrasena"===t?zt(Q):"imagen_perfil"===t||"rubros"===t||"tipo_proveedor"===t?zt(Z):"dias_apertura"===t||"hora_apertura"===t||"hora_cierre"===t?zt(X):"nombre_punto_retiro"===t||"calle_principal"===t||"calle_secundaria"===t||"numero"===t||"referencia"===t||"ubicacion"===t||"ciudad"===t?(zt(K),Pe(!1)):null!==t&&de(Object.keys(e.errors)[0]+": "+e.errors[Object.keys(e.errors)[0]],"warning")}}))},Et=function(e,t){var a=Object(w.a)({},E);a[e]=t,B(a),o.setDatoRegistroStore(e,t)},Tt=function(e){Et("tipo_proveedor",e[0]),o.setDatoRegistroStore("tipo_proveedor",e[0])},zt=function(e){!function(e){var t=new URLSearchParams(window.location.search);t.set("i",e+""),oe(e),le.push(window.location.pathname+"?"+t.toString())}(e),se.current=e,oe(e),ye&&ye.current&&ye.current.scrollTop()},Bt=function(e,t){Et(e,t)},Lt=function(){var e=Object(C.a)(y.a.mark((function e(t,n){var c,r,s,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("imgSelected",t),"web"===i.Capacitor.getPlatform()){e.next=6;break}return e.next=4,k.a.readFile({path:t});case 4:c=e.sent,t="data:image/jpeg;base64,".concat(c.data);case 6:return e.next=8,fetch(t).then((function(e){return e.blob()}));case 8:return r=e.sent,e.next=11,Object(j.k)(r,n,Mt);case 11:return s=e.sent,Ft("imagen_perfil",t),We(n),Et(n,s),e.next=17,I.a.getDataUrlFromFile(s);case 17:l=e.sent,a.isLoggedIn||o.setDatoRegistroStore(n,l);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ft=function(e,t){var a=Object(w.a)({},at);a[e]=t,nt(a)},Mt=function(e){Me(e),100===e?(h(!1),setTimeout((function(){Me(0),We("")}),500)):h(!0)};Object(r.useEffect)((function(){var e=null;return"web"!==i.Capacitor.getPlatform()&&(e=A.a.onAuthStateChanged().subscribe((function(e){console.log("FirebaseAuthentication.onAuthStateChanged",e),e&&ct.current&&(bt(!0),setTimeout((function(){ht(!0),Ne("N\xfamero verificado exitosamente"),ct.current=!1,Rt()}),1e3))}))),function(){e&&e.unsubscribe()}}),[]);var qt=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12===E.nro_telefono_empresa.length){e.next=3;break}return Ne("Ingrese un n\xfamero v\xe1lido","warning"),e.abrupt("return");case 3:o.setDatoRegistroStore("nro_telefono_empresa",E.nro_telefono_empresa),pt&&ht(!1),A.a.signOut().catch((function(e){return console.log("error en FirebaseAuthentication.signOut:"+e)})),lt(!0),bt(!1),setTimeout((function(){ct.current=!0}),2e3),t=Object(j.p)(E.nro_telefono_empresa),A.a.verifyPhoneNumber("+"+t,3e4).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lt(!1),!pt){e.next=3;break}return e.abrupt("return");case 3:it.current=t,ct.current=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("verifyPhoneNumber error",e),ht(!1),lt(!1),ct.current=!1,Ne("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(){("web"===i.Capacitor.getPlatform()?Ht:qt)()},Ht=function(){if(12===E.nro_telefono_empresa.length){o.setDatoRegistroStore("nro_telefono_empresa",E.nro_telefono_empresa),lt(!0);var e=Object(j.p)(E.nro_telefono_empresa),t=new P.a.auth.RecaptchaVerifier("recaptcha-container");(new P.a.auth.PhoneAuthProvider).verifyPhoneNumber("+"+e,t).then((function(e){ct.current=!0,lt(!1),it.current=e,t.clear()})).catch((function(e){console.log("verifyPhoneNumber error",e,e.message),lt(!1),ht(!1),Ne("Ocurri\xf3 un error al solicitar la verificaci\xf3n","error"),t.clear()}))}else Ne("Ingrese un n\xfamero v\xe1lido","warning")},Wt=function(e){if(console.log("modalCodigoFirebaseCallback",e),e){if(!it.current)return ct.current=!1,void Ne("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error");if(lt(!0),ct.current=!1,"web"===i.Capacitor.getPlatform()){var t=P.a.auth.PhoneAuthProvider.credential(it.current,e);void 0!==t?P.a.auth().signInWithCredential(t).then((function(e){lt(!1),ht(!0),Ne("N\xfamero verificado exitosamente"),Rt()})).catch((function(e){-1!==e.message.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&Ne("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),lt(!1),ht(!1)})):(lt(!1),ht(!1),Ne("Ocurri\xf3 un error al verificar su n\xfamero de tel\xe9fono, vuelva a intentarlo","error"))}else A.a.signInWithVerificationId(it.current,e).then((function(e){lt(!1),ht(!0),Ne("N\xfamero verificado exitosamente"),Rt()})).catch((function(e){console.log("error",e),-1!==e.toLowerCase().indexOf("the sms verification code used to create the phone auth credential is invalid")&&(Ne("El c\xf3digo de verificaci\xf3n ingresado es incorrecto","warning"),ct.current=!0),ht(!1),lt(!1)}))}else ct.current=!1};Object(r.useEffect)((function(){te||setTimeout((function(){return ae(!0)}),300)}),[te]),Object(r.useEffect)((function(){re===J?($e("\xa1Registra tu tienda!"),Se([{titulo:"Registro"}])):re===Q?($e("Datos de la tienda"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"}])):re===K?($e("Direcci\xf3n del local"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Direcci\xf3n del local"}])):re===X?($e("Horario de atenci\xf3n"),Se([{titulo:"Registro"},{titulo:"Datos de la tienda"},{titulo:"Horario de atenci\xf3n"}])):re===$&&($e("Verificaci\xf3n"),Se([{titulo:"Registro"},{titulo:"Verificaci\xf3n"}]),pt||(lt(!0),setTimeout(Ut,500)))}),[re]);var Vt=Object(W.jsxs)("div",{className:"paso-registro-container",style:{height:Te,overflowY:"auto"},children:[Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"\xa1Registr\xe1 tu tienda!"})]}),Object(W.jsxs)("div",{className:"container-lg",style:{padding:"10px 15px"},children:[Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"RUC",tipo:"texto",campo:"ruc",valor:E?E.ruc:"",error:g&&g.ruc,set_dato:Bt,campo_blur:!0,set_dato_blur:function(e){if("ruc"===e){var a=E.ruc.indexOf("-")>0?{ruc:E.ruc}:{documento:E.ruc};t.environment.api.consultarRuc(a).then((function(e){if("ok"===e.kind){var t=e.response.result;if(t){var a={ruc:"".concat(t.documento,"-").concat(t.dv),razon_social:t.razon_social};B(Object.assign({},E,a))}}})).catch((function(){}))}},columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"Raz\xf3n social",tipo:"texto",campo:"razon_social",valor:E?E.razon_social:"",error:g&&g.razon_social,set_dato:Bt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"Nombre de la Empresa",tipo:"texto",campo:"nombre_empresa",valor:E?E.nombre_empresa:"",error:g&&g.nombre_empresa,set_dato:Bt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"nombre@email.com",tipo:"email",campo:"email",valor:E?E.email:"",error:g&&g.email,set_dato:Bt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p&&!pt,titulo:"09xx123456",tipo:"telefono-simple",campo:"nro_telefono_empresa",valor:E?E.nro_telefono_empresa:"",set_dato:Bt,columnas:12,columnas_sm:12,error:g&&g.nro_telefono_empresa,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p&&!a.isLoggedIn,titulo:"Nombre",tipo:"texto",campo:"nombre",valor:E?E.nombre:"",error:g&&g.nombre,set_dato:Bt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p&&!a.isLoggedIn,titulo:"Apellido",tipo:"texto",campo:"apellido",valor:E?E.apellido:"",error:g&&g.apellido,set_dato:Bt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"Fecha de nacimiento",tipo:"fecha",campo:"fecha_nacimiento",valor:E?E.fecha_nacimiento:"",error:g&&g.fecha_nacimiento,set_dato:Bt,columnas:12,columnas_sm:12,set_dato_registro_store:!0}),!a.isLoggedIn&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"Contrase\xf1a",tipo:"password",campo:"contrasena",valor:E?E.contrasena:"",error:g&&g.contrasena,set_dato:Bt,columnas:12,columnas_sm:6,set_dato_registro_store:!0}),Object(W.jsx)(l.c,{deshabilitado:!p,titulo:"Repetir contrase\xf1a",tipo:"password",campo:"repetir_contrasena",valor:E?E.repetir_contrasena:"",error:g&&g.repetir_contrasena,set_dato:Bt,columnas:12,columnas_sm:6,set_dato_registro_store:!0})]})]}),Object(W.jsx)("div",{className:"text-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){!function(){var e={};return(!E.ruc||!E.ruc.trim()||E.ruc.length<5)&&(e.ruc="Ingrese un RUC v\xe1lido"),(!E.razon_social||!E.razon_social.trim()||E.razon_social.length<5)&&(e.razon_social="Ingrese una raz\xf3n social v\xe1lida"),(!E.nombre_empresa||!E.nombre_empresa.trim()||E.nombre_empresa.length<4)&&(e.nombre_empresa="Ingrese un nombre de empresa v\xe1lido"),E.email&&E.email.trim()&&!1!==/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email)||(e.email="Ingrese un correo v\xe1lido"),E.nro_telefono_empresa&&!1!==/^[0-9\-]{12}$/.test(E.nro_telefono_empresa)||(e.nro_telefono_empresa="Ingrese un n\xfamero v\xe1lido"),E.nombre&&E.nombre.trim()||(e.nombre="Ingrese su nombre"),E.apellido&&E.apellido.trim()||(e.apellido="Ingrese su apellido"),E.fecha_nacimiento&&V(E.fecha_nacimiento,"DD/MM/YYYY").isValid()||(e.fecha_nacimiento="Ingrese una fecha de nacimiento v\xe1lida"),a.isLoggedIn||((!E.contrasena||E.contrasena.length<6)&&(e.contrasena="Ingrese una contrase\xf1a de por lo menos 6 d\xedgitos"),E.repetir_contrasena!==E.contrasena&&(e.repetir_contrasena="La contrase\xf1a no coincide con la anterior")),v(e),Object.keys(e).length<1}()?de("Corrija los errores para continuar","warning"):zt(Z)},children:"Registrarme"})})]}),Object(W.jsx)(l.h,{movil:!0,children:!a.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("registrop"),e.delete("i"),e.set("login","1"),le.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]}),Yt=Object(W.jsxs)("div",{className:"paso-registro-container container-lg paso-datos-usuario",style:Object.assign({},{height:Te}),children:[Object(W.jsx)("div",{children:Object(W.jsx)(l.w,{titulo_modal:"Sub\xed tu logotipo",titulo_label:"Sub\xed tu logotipo "+("imagen_perfil"===He&&Fe>0?Fe+"%":""),helptext:"",img_path:"assets/id.png",on_select:Lt,userdata:"imagen_perfil",preview:""!==at.imagen_perfil?at.imagen_perfil:"",source:0,editor:!1,perfil:!0,infoTitulo:"Logotipo",infoBody:"Sub\xed el logo de tu empresa en formato jpg o png.",modal_info_css_class:"",titulo_boton:" "})}),Object(W.jsxs)("div",{className:"row",children:[Object(W.jsxs)("div",{className:"col-12 col-md-6",children:[Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return zt(K)},children:"Direcci\xf3n del local"}),Object(W.jsx)("span",{className:"direccion-icon-info ml-2 cpointer",onClick:function(){return Oe(!0)},children:U.a.info})]}),Object(W.jsx)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 text-md-right",children:Object(W.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return zt(X)},children:"Horario de atenci\xf3n"})}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Rubros:"})}),Object(W.jsx)(l.B,{titulo:"Rubros",titulo_label:"",listado_elementos:t.rubros,listado_elementos_seleccionados:E.rubros?E.rubros:[],datos_filtrados:function(e){Et("rubros",e),o.setDatoRegistroStore("rubros",e)},multiple:!0,llave_label_opcion:"nombre"}),!!g.rubros&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.rubros})]}),Object(W.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center mt-3 input-rubro",children:[Object(W.jsx)("div",{className:"mr-2",children:Object(W.jsx)("strong",{children:"Tipo de Proveedor:"})}),Object(W.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"0.5rem"},children:[Object(W.jsx)(c.f,{onClick:function(e){Tt([20])},checked:20===E.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Empresa"})})]}),Object(W.jsxs)("div",{className:"d-flex align-items-center ml-2 ml-md-0",style:{gap:"0.5rem"},children:[Object(W.jsx)(c.f,{onClick:function(){return Tt([10])},checked:10===E.tipo_proveedor}),Object(W.jsx)("div",{children:Object(W.jsx)("span",{children:"Emprendedor"})})]})]})]}),!!g.tipo_proveedor&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.tipo_proveedor}),Object(W.jsxs)("div",{className:"d-flex flex-column pt-3 mt-2",children:[Object(W.jsxs)("p",{className:"text-center",children:["Al continuar, acepta las"," ",Object(W.jsx)("a",{href:"https://app.abi.com.py/terminos/",target:"_blank",children:"Condiciones de Uso"}),"."]}),Object(W.jsx)("button",{className:"btn btn-primary align-self-center py-1 px-5",onClick:function(){if(function(){var e={};return(!E.rubros||E.rubros.length<1)&&(e.rubros="Seleccione el rubro de la empresa"),E.tipo_proveedor||(e.tipo_proveedor="Seleccione su tipo de proveedor"),v(e),Object.keys(e).length<1}()){if(!Jt(!1))return de("Complete la direcci\xf3n del local","warning"),void zt(K);if(E.imagen_perfil)return E.dias_apertura&&0!=E.dias_apertura.length&&E.hora_apertura&&E.hora_cierre?void(pt?Rt():zt($)):(de("Complete el horario de atenci\xf3n","warning"),void zt(X));de("Ingrese un logotipo","warning")}else de("Corrija los errores para continuar","warning")},disabled:be,children:"Continuar"})]})]}),Gt=Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsxs)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{textAlign:"center",background:"#f9f9f9",flexGrow:1},children:[Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Apertura"}),Object(W.jsx)("div",{className:"row justify-content-center form-control-container",children:Object(W.jsxs)("div",{className:"col-10 col-md-4 py-2 input-hora",children:[Object(W.jsx)(L.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Et("hora_apertura",e.target.value)},value:E.hora_apertura}),"Hs."]})}),!!g.hora_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_apertura})]}),Object(W.jsxs)("div",{className:"py-3",children:[Object(W.jsx)("div",{className:"subtitulo",children:"Cierre"}),Object(W.jsx)("div",{className:"row justify-content-center py-2",children:Object(W.jsxs)("div",{className:"col-10 col-md-6 form-control-container input-hora",children:[Object(W.jsx)(L.a,{placeholder:"",className:"form-control registro",mask:"99:99",onChange:function(e){return Et("hora_cierre",e.target.value)},value:E.hora_cierre}),"Hs."]})}),!!g.hora_cierre&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.hora_cierre})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"subtitulo",children:"D\xedas de atenci\xf3n"}),Object(W.jsxs)("div",{className:"",children:[Object(W.jsx)("div",{className:"py-3",children:u.a.map((function(e,t){var a=E.dias_apertura.findIndex((function(t){return t===e.id}));return Object(W.jsx)("a",{onClick:function(){var t=Object(_.a)(E.dias_apertura);-1!==a?t.splice(a,1):t.push(e.id),Et("dias_apertura",Object(_.a)(t))},className:"dia-apertura ".concat(t>0?"ml-3":""),style:-1!==a?{color:"var(--azul-fabricante)"}:{},children:Object(W.jsx)("strong",{children:e.dia[0]})},e.id)}))}),!!g.dias_apertura&&Object(W.jsx)("div",{className:"text-danger mt-2",children:g.dias_apertura})]})]})]}),Object(W.jsx)(l.h,{className:"py-3 mt-1 footer-hora",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return zt(Z)},children:"Guardar"})})]}),Jt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return E.nombre_punto_retiro&&E.nombre_punto_retiro.trim()||(t.nombre_punto_retiro="Ingrese el nombre del punto de retiro"),E.numero&&E.numero.trim()||(t.numero="Ingrese el n\xfamero de casa"),E.ciudad||(t.ciudad="Ingrese la ciudad"),E.calle_principal||(t.calle_principal="Ingrese la calle principal"),E.calle_secundaria||(t.calle_secundaria="Ingrese la calle secundaria"),E.referencia&&E.referencia.trim()||(t.referencia="Ingrese las referencias"),e&&v(t),Object.keys(t).length<1},Qt=function(){Jt()?zt(Z):de("Corrija los errores para continuar","warning")};return Object(W.jsxs)(c.q,{isOpen:!0,cssClass:"modal-registro-fabricante",swipeToClose:!1,backdropDismiss:!1,children:[d&&Object(W.jsx)(l.k,{titulo:Xe,sub_titulo:Qe,accion_boton_centro:function(){},botonIzquierdo:Object(W.jsx)("a",{onClick:function(){return le.goBack()},children:Object(W.jsx)(T.a,{color:"white"})})}),d&&Object(W.jsx)(H.a,{links:ke}),Object(W.jsx)(l.q,{isOpen:he,color:"var(--azul-fabricante)",titulo:"Direcci\xf3n legal",close:function(){return Oe(!1)},children:Object(W.jsx)("span",{children:"Es la direcci\xf3n de tu tienda, de la cual los drivers podr\xe1n retirar los produtos comprados en ABi."})}),Object(W.jsx)(l.q,{isOpen:ve,close:function(){return _e(!1)},titulo:"Sede de la tienda",color:"var(--azul-fabricante)",children:Object(W.jsxs)("a",{href:"https://www.google.com/maps/d/viewer?mid=1xA92pESqpaKXUViqQxrOBWtaIMTYuJVu&usp=sharing",target:"_blank",children:[Object(W.jsx)("p",{children:"Comprob\xe1 que tu tienda tenga sede dentro del radio de alcance de ABi."}),Object(W.jsx)("img",{src:"assets/cobertura-proveedor.svg",style:{width:"100%"}}),Object(W.jsxs)("p",{style:{textAlign:"center",color:"var(--azul-fabricante)",textDecoration:"underline",fontWeight:"bolder"},children:[" ","\xc1rea de cobertura"]})]})}),Object(W.jsxs)("div",{id:"contenido-registro",children:[re>0&&Object(W.jsx)("div",{className:"btn-atras",onClick:function(){return le.goBack()},children:Object(W.jsx)(T.a,{color:"var(--gris-oscuro-abi)",size:30})}),Object(W.jsx)("div",{className:"page-wrapper",id:"pasos-registro",style:{display:"flex",flex:1},children:Object(W.jsxs)("div",{className:"pasos-registro-container",children:[re===Q&&Vt,re===$&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsxs)("div",{className:"",style:{flex:1,display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[Object(W.jsx)("div",{children:Object(W.jsx)("div",{className:"col-6  d-flex justify-content-center mb-3 ",style:{position:"relative",top:210,left:90},id:"recaptcha-container"})}),pt&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:Object(W.jsx)("span",{children:"Su n\xfamero ya fue verificado."})})}),!st&&!pt&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{style:{width:"80%",height:100,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:Object(W.jsx)("div",{style:{textAlign:"center"},children:Object(W.jsxs)("span",{children:["Se ha enviado c\xf3digo de verificaci\xf3n al n\xfamero ",o.nro_telefono_empresa,"."," "]})})}),Object(W.jsxs)("div",{className:"text-center d-flex align-self-center",style:{position:"relative",width:270,height:35},children:[St<1&&Object(W.jsx)(M.a,{length:6,focus:!0,style:{padding:"0"},inputStyle:{borderBottomColor:"#555555",border:0,borderBottomWidth:1,borderBottomStyle:"solid",width:25,height:35,fontSize:22,marginLeft:10,marginRight:10,fontWeight:"bolder"},inputFocusStyle:{borderBottomColor:"#303AB2"},type:"numeric",inputMode:"numeric",onChange:function(e){return vt(e)},onComplete:function(e){Wt(e)}}),St>=1&&Object(W.jsx)("div",{className:"input-dot",children:"\u2022"}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:55},children:St>=2?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:100},children:St>=3?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:145},children:St>=4?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:190},children:St>=5?"\u2022":""}),St>=1&&Object(W.jsx)("div",{className:"input-dot",style:{left:235},children:St>=6?"\u2022":""})]}),Object(W.jsxs)("div",{style:{textAlign:"center"},children:[Object(W.jsx)("p",{className:"cpointer text-center",onClick:function(){ht(!0),ct.current=!1,Rt()},children:"Omitir este paso"}),Object(W.jsx)("h5",{className:"sub-titulo-login-abi",children:"\xbfNo recibiste el c\xf3digo?"}),Object(W.jsxs)("h5",{className:"sub-titulo-login-abi",children:["Solicit\xe1 un",Object(W.jsxs)("a",{onClick:0===yt?function(){return Ut()}:function(){},children:[Object(W.jsx)("span",{color:"var(--azul-fabricante)",children:" nuevo c\xf3digo"})," ",yt>0&&Object(W.jsxs)("span",{children:["en ",yt," seg."]})]})]})]}),Object(W.jsx)("div",{children:Object(W.jsx)("a",{href:"https://wa.me/595981840840",children:Object(W.jsx)("h5",{color:"var(--azul-fabricante)",children:"Contactanos"})})})]})]}),Object(W.jsxs)("div",{className:"",children:[!pt&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){Wt(gt)},disabled:be,children:"Continuar"})}),pt&&Object(W.jsx)(l.h,{className:"py-5",children:Object(W.jsx)("button",{className:"btn btn-primary py-1 px-5",onClick:function(){return Rt()},disabled:be,children:"Continuar"})})]})]}),(re===Z||!d&&re===K||!d&&re===X)&&Yt,d&&re===K&&Object(W.jsx)(ee,{HeightDiv:Te,datos:E,errors:g,guardar:function(){return Rt()},loading:p,movil:d,setDato:function(e,t){return Et(e,t)},setDatos:function(e){return B(e)},callback:Qt,noMostrarMapa:!Ie}),d&&re===X&&Gt,d&&re===J&&Object(W.jsxs)("div",{className:"paso-registro-container d-flex justify-content-between flex-column",style:Object.assign({},{height:Te}),children:[Object(W.jsx)("div",{className:"container-sm horario-atencion-container d-flex justify-content-center flex-column",style:{flex:1,gap:"3rem"},children:Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-between",style:{flex:1},children:[Object(W.jsxs)("div",{className:"mt-4 container-sm",children:[Object(W.jsx)("p",{children:"Registr\xe1 tu tienda en simples pasos y empez\xe1 a crecer con nosotros."}),Object(W.jsx)("p",{children:Object(W.jsx)("strong",{children:"Requisitos para ser Proveedor ABi:"})}),Object(W.jsxs)("ol",{children:[Object(W.jsx)("li",{children:"Tener mayor\xeda de edad legal."}),Object(W.jsxs)("li",{children:["Tu tienda debe tener sede dentro de Asunci\xf3n y el departamento central."," ",Object(W.jsx)("img",{src:"assets/icon/info.png",style:{height:"1.5rem",width:"1.5rem"},onClick:function(){return _e(!0)}})]}),Object(W.jsx)("li",{children:" Contar con Factura legal."}),Object(W.jsx)("li",{children:" Poseer un n\xfamero de tel\xe9fono y un correo electr\xf3nico."}),Object(W.jsx)("li",{children:"Ser titular de una cuenta bancaria, cooperativa o una billetera digital para que puedas recibir los pagos v\xeda Internet."})]})]}),Object(W.jsxs)("div",{className:"btn-preguntas",onClick:function(){return le.push("".concat(u.m.PREGUNTAS_FRECUENTES,"?c=Proveedor ABi"))},children:[U.a.info," Preguntas frecuentes"]}),Object(W.jsxs)("a",{className:"btn-contacto",href:"https://wa.me/595981840840",target:"_blank",children:[U.a.atencion_cliente," Contactanos"]}),Object(W.jsx)("div",{className:"d-flex justify-content-center",children:Object(W.jsx)("button",{className:"btn btn-primary py-2 px-5 my-3",onClick:function(){return zt(d?Q:Z)},children:"Registrarme"})})]})}),Object(W.jsx)(l.h,{movil:!0,children:!a.isLoggedIn&&Object(W.jsxs)("div",{style:{textAlign:"center",fontSize:"1rem"},children:[Object(W.jsx)("span",{style:{fontSize:"1rem"},children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("br",{}),Object(W.jsx)("a",{children:Object(W.jsx)("strong",{style:{fontSize:"1rem",color:"var(--azul-fabricante)"},children:"Iniciar Sesi\xf3n"})})]})})]})]})}),!d&&Object(W.jsxs)("div",{className:"derecha-container-registro-abi",style:{borderLeft:"var(--gris-claro) solid 0.2rem"},children:[re!==X&&re!==K&&Object(W.jsxs)("div",{className:"d-flex flex-column justify-content-center h-100",children:[Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#b4d1e3"},children:Object(W.jsx)("div",{className:"pr-4 pt-4",style:{display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)("a",{onClick:function(){return le.push(u.m.ROOT)},children:Object(W.jsx)(z.a,{color:"white"})})})}),Object(W.jsx)("div",{className:"banner-fabricante"}),Object(W.jsx)("div",{style:{flex:1,backgroundColor:"#d7dfe9"}})]}),re===X&&Gt,re===K&&Object(W.jsx)(ee,{HeightDiv:Te,datos:E,errors:g,guardar:function(){return Rt()},loading:p,movil:d,setDato:function(e,t){return Et(e,t)},setDatos:function(e){return B(e)},callback:Qt,noMostrarMapa:!Ie})]})]})]})})),ae=te,ne=a(494),ie=(a(553),Object(E.a)((function(e){var t=Object(b.b)(),a=t.loginStore,i=Object(s.e)(),o=Object(r.useState)(!1),l=Object(n.a)(o,2),d=l[0],m=l[1],f=Object(r.useState)(""),p=Object(n.a)(f,2),h=p[0],O=p[1],x=Object(r.useState)(""),g=Object(n.a)(x,2),v=g[0],_=g[1],N=Object(r.useState)(""),y=Object(n.a)(N,2),C=y[0],w=y[1];Object(j.J)();return Object(W.jsxs)(c.q,{isOpen:!0,id:"modal-selector-registro",swipeToClose:!1,backdropDismiss:!1,children:[Object(W.jsx)(c.a,{isOpen:d,onDidDismiss:function(){return m(!1)},header:""!==h?h:"Cerrar sesi\xf3n",message:""!==v?v:"Confirma que desea cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:function(){"cambiar-usuario"===C?Object(j.h)(t,i,10):"cambiar-transportista"===C?Object(j.h)(t,i,30):"cambiar-fabricante"===C?Object(j.h)(t,i,20):i.replace(u.m.LOGOUT)}}]}),Object(W.jsx)("div",{className:"btn-cerrar",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.delete("i"),i.push(window.location.pathname+"?"+e.toString())},children:Object(W.jsx)(z.a,{color:"var(--gris-oscuro-abi)",size:35})}),Object(W.jsxs)("div",{className:"titulo-container",children:[Object(W.jsx)("div",{className:"titulo",children:"Bienvenido a ABi"}),Object(W.jsx)("div",{className:"subtitulo",children:"Eleg\xed el tipo de cuenta que quer\xe9s crear"})]}),Object(W.jsxs)("div",{className:"row modos",children:[Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn)m(!0),O("Cambiar a modo compras"),_("Confirma que desea cambiar a modo compras?"),w("cambiar-usuario");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registro","1"),i.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-cliente.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.fabricante)m(!0),O("Cambiar a modo proveedor"),_("Confirma que desea cambiar a modo proveedor?"),w("cambiar-fabricante");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrop","1"),i.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo proveedor",src:"assets/registro-proveedor.jpg"})}),Object(W.jsx)("a",{className:"mb-3 col-12 col-md-4",onClick:function(){if(a.isLoggedIn&&a.transportista)m(!0),O("Cambiar a modo driver"),_("Confirma que desea cambiar a modo driver?"),w("cambiar-transportista");else{var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("registrot","1"),i.push(window.location.pathname+"?"+e.toString())}},children:Object(W.jsx)("img",{alt:"Modo tienda",src:"assets/registro-driver.jpg"})})]}),Object(W.jsxs)("div",{className:"mfooter",children:[Object(W.jsx)("div",{children:"\xa1Ya tengo cuenta ABi!"}),Object(W.jsx)("div",{className:"login-btn",onClick:function(){var e=new URLSearchParams(window.location.search);e.delete("sregistro"),e.set("login","1"),i.push(window.location.pathname+"?"+e.toString())},children:"Iniciar Sesi\xf3n"})]})]})}))),ce=a(495),re=a(497),oe=o.a.forwardRef((function(e,t){var a=Object(b.b)(),o=Object(s.e)(),_=a.loginStore,N=Object(r.useState)(null),y=Object(n.a)(N,2),C=y[0],w=y[1],k=Object(r.useState)(!1),S=Object(n.a)(k,2),A=S[0],D=S[1],I=Object(r.useState)(!1),P=Object(n.a)(I,2),R=P[0],E=P[1],T=Object(r.useState)(!1),z=Object(n.a)(T,2),B=z[0],L=z[1],F=Object(r.useState)(!1),M=Object(n.a)(F,2),q=M[0],U=M[1],H=Object(r.useState)(!1),V=Object(n.a)(H,2),Y=V[0],G=V[1],J=Object(r.useState)(!1),Q=Object(n.a)(J,2),Z=Q[0],K=Q[1],X=Object(r.useRef)(null),$=Object(r.useRef)(null),ee=Object(r.useRef)(!0),te="web"!==i.Capacitor.getPlatform(),oe=e.header||Object(W.jsx)(g.b,{obtener_datos:e.obtener_datos}),se=e.footer||te?null:Object(W.jsx)(x.a,{content:X,container:$}),le=e.pageStyles||{display:"flex"},de=window.innerWidth<=500||/Mobi/.test(navigator.userAgent),ue=Object(s.f)();if(Object(c.N)((function(){ee.current=!0})),Object(c.M)((function(){ee.current=!1})),Object(r.useEffect)((function(){a.updateCurrentPath(ue)}),[ue]),Object(r.useEffect)((function(){var t=e.metaTags;t&&t.forEach((function(e){return function(e){var t=document.querySelector("meta[name='".concat(e.name,"']"));t&&t.remove();var a=document.createElement("meta");a.name=e.name,a.content=e.content,document.getElementsByTagName("head")[0].appendChild(a)}(e)}))}),[e.metaTags]),Object(r.useEffect)((function(){if(ee.current){a.setEsMovil(de);var e=new URLSearchParams(window.location.search),t="1"===e.get("registro"),n="1"===e.get("login"),i=t?"registro":n?"login":null;i?(null===C&&e.get("i")&&(e.delete("i"),o.push(window.location.pathname+"?"+e.toString())),D(!0),w(i)):C&&!i&&w(null);var c="1"===e.get("registrot");E(c);var r="1"===e.get("registrop");L(r);var s="1"===e.get("sregistro"),l="1"===e.get("smodo");U(s),G(l)}}),[window.location.search]),Object(r.useEffect)((function(){var t=a.minBuild>d.BUILD;(de||"web"!==i.Capacitor.getPlatform())&&K(t),e.login_required&&!_.isLoggedIn?w("login"):void 0!==e.solo_admin&&e.solo_admin&&(_.administrador||(alert("No posee permisos para acceder a la p\xe1gina"),document.location.href="/"))}),[]),Object(r.useEffect)((function(){20===_.modo_uso_app&&_.fabricante_id&&Object(j.f)(a)}),[]),Object(r.useImperativeHandle)(t,(function(){return{scrollTop:function(){X.current&&$.current&&(X.current.scrollToTop(100),$.current.scrollTop=0)}}})),void 0!==e.solo_cliente&&e.solo_cliente){if(_.isLoggedIn&&30===_.modo_uso_app)return de?Object(W.jsx)(s.a,{to:{pathname:u.n.HOME}}):Object(W.jsx)(s.a,{to:{pathname:u.p.INICIO}});if(_.isLoggedIn&&20===_.modo_uso_app)return Object(W.jsx)(s.a,{to:{pathname:u.o.PEDIDOS_PENDIENTES}})}if(void 0!==e.admin&&e.admin)return Object(W.jsxs)(c.r,{style:le,children:[Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)("div",{"data-theme":"light","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed","data-boxed-layout":"full",className:"full",style:{height:"100%"},id:e.id?e.id+" main-wrapper":"main-wrapper",children:[Object(W.jsx)(m.a,{}),e.children,Object(W.jsx)(f.a,{})]})]});var je=!de&&e.fabricante;return e.fabricante&&(oe=Object(W.jsx)(h.a,{})),Object(W.jsxs)(c.r,{style:le,children:[e.fabricante&&Object(W.jsx)(p.a,{}),a.isDebug&&Object(W.jsx)("div",{className:"debug-box",children:"DBG"}),null!==C&&Object(W.jsx)(v.a,{isOpen:!0,setVisible:function(e){var t=new URLSearchParams(window.location.search);t.delete("login"),t.delete("registro"),t.delete("i"),o.push(window.location.pathname+"?"+t.toString())},login:"login"===C,closable:A}),Z&&Object(W.jsx)(l.C,{}),q&&Object(W.jsx)(ie,{}),R&&Object(W.jsx)(ne.a,{}),B&&Object(W.jsx)(ae,{}),Y&&Object(W.jsx)(ce.a,{}),Object(W.jsx)(re.a,{titulo:e.titulo}),Object(W.jsxs)(c.g,{scrollEvents:!0,ref:function(e){return X.current=e},children:[oe,je&&Object(W.jsx)("div",{className:"container-fluid",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsx)(O.a,{}),Object(W.jsx)("div",{id:e.id,ref:$,className:"col-12 col-md-9 col-lg-9 col-xl-10",children:e.children})]})}),!je&&Object(W.jsx)("div",{id:e.id,ref:$,children:e.children}),se]})]})}));t.b=oe},511:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(24),i=a(3),c=a.n(i),r=a(521),o=a(519),s=a(572),l=a.n(s),d=a(9),u=a(526),j=a(522),b=c.a.forwardRef((function(e,t){var a=Object(i.useState)(!1),s=Object(n.a)(a,2),b=s[0],m=s[1],f=e.facingMode||"user";Object(i.useImperativeHandle)(t,(function(){return{toggle:function(){m(!b)},open:function(){m(!0)},close:function(){m(!1)}}}));var p=new o.Uppy({allowMultipleUploads:!1,locale:j,restrictions:{allowedFileTypes:["image/*"],maxNumberOfFiles:1}});return p.use(l.a,{videoConstraints:{facingMode:f}}).use(u,{id:"ImageEditor",quality:.8,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0}}),p.on("complete",(function(t){var a=t.successful[0],n=p.getFile(a.id);e.file(n.data),e.file_preview(n.preview)})),c.a.useEffect((function(){return function(){return p.close()}}),[]),Object(d.jsx)(r.b,{id:e.id_input,uppy:p,closeModalOnClickOutside:!0,open:b,onRequestClose:function(){m(!b),p.reset()},plugins:["Webcam","ImageEditor"],metaFields:[{id:"name",name:"Nombre",placeholder:"Nombre del archivo"}]})}));t.b=b},512:function(e,t,a){"use strict";var n=a(26),i=a(24),c=a(40),r=a(161),o=a(3),s=a(8),l=a(101),d=a(86),u=a(0),j=a.n(u),b=a(2),m=a(145),f=a(30),p=a(579),h=a.n(p),O=a(580),x=a.n(O),g=a(581),v=a.n(g),_=a(582),N=a.n(_),y=a(583),C=a.n(y),w=a(578),k=a.n(w),S=a(475),A=(a(543),a(9)),D=a(198),I=new Audio("assets/chat.mp3"),P=Object(r.a)((function(e,t){var a=t.router,r=Object(d.b)(),u=r.loginStore,p=(r.transportistaStore,r.chatStore),O=Object(o.useState)(!1),g=Object(i.a)(O,2),_=g[0],y=g[1],w=Object(o.useState)(!1),P=Object(i.a)(w,2),R=P[0],E=P[1],T=Object(o.useState)(null),z=Object(i.a)(T,2),B=z[0],L=z[1],F=Object(o.useState)(!1),M=Object(i.a)(F,2),q=M[0],U=(M[1],Object(o.useRef)(null)),H=Object(o.useState)(),W=Object(i.a)(H,2),V=W[0],Y=W[1],G=Object(o.useState)(0),J=Object(i.a)(G,2),Q=(J[0],J[1]),Z=Object(o.useState)(""),K=Object(i.a)(Z,2),X=(K[0],K[1]),$=Object(o.useRef)(null),ee=null;Object(o.useEffect)((function(){e.mensajes&&(Y(Object(n.a)(e.mensajes)),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),1e3))}),[e.mensajes]);var te=function(e){Q(e),100===e&&setTimeout((function(){Q(0),X("")}),500)},ae=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,i,c,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Camera,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return a=e.sent,e.next=9,fetch(a);case 9:return n=e.sent,e.next=12,n.blob();case 12:return i=e.sent,e.next=15,Object(l.k)(i,"imagen",te);case 15:return c=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(c)}));case 18:return r=e.sent,e.next=21,ne(r);case 21:return e.sent,e.next=24,{fecha:D().toISOString(),texto:"",usuario:u.id,media:r};case 24:return o=e.sent,e.next=27,se(o);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){e="data:image/jpeg;base64,".concat(e)},ie=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,i,c,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getPhoto({quality:90,allowEditing:!1,source:m.d.Photos,resultType:m.c.DataUrl});case 3:return t=e.sent,e.next=6,t.dataUrl;case 6:return a=e.sent,e.next=9,fetch(a);case 9:return n=e.sent,e.next=12,n.blob();case 12:return i=e.sent,e.next=15,Object(l.k)(i,"imagen",te);case 15:return c=e.sent,e.next=18,new Promise((function(e){var t=new FileReader;t.onload=function(){e(t.result)},t.readAsDataURL(c)}));case 18:return r=e.sent,e.next=21,ne(r);case 21:return e.sent,e.next=24,{fecha:D().toISOString(),texto:"",usuario:u.id,media:r};case 24:return o=e.sent,e.next=27,se(o);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!1),B){e.next=3;break}return e.abrupt("return");case 3:t={fecha:D().toISOString(),texto:"location;".concat(B.lat,";").concat(B.lng),usuario:u.id},se(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){return u.modo_uso_app===s.e.transportista?Object(A.jsx)("div",{className:"predeterminados-container-trasportista",children:p.mensajesPredeterminadosDriver.map((function(e,t){return Object(A.jsx)("div",{className:"mensaje-predeterminado-container",children:Object(A.jsx)("div",{className:"mensaje-predeterminado-trasportista",onClick:function(){return je(e.mensaje)},children:e.mensaje})},t)}))}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{id:"cliente-predeterminados-container",children:p.getMensajesPredeterminadoCliente().map((function(e){return Object(A.jsx)("div",{className:"mensaje-predeterminado-cliente",onClick:function(){return je(e.mensaje)},children:e.mensaje},e.id)}))}),Object(A.jsxs)("div",{id:"respuesta-container",children:[Object(A.jsx)("div",{className:"adjunto",onClick:function(){return y(!_)},children:Object(A.jsx)(h.a,{})}),Object(A.jsxs)("div",{id:"menu-adjuntar",className:_?"active":"",children:[Object(A.jsx)("div",{id:"adjuntar-imagen",onClick:ie,children:Object(A.jsx)(x.a,{fontSize:"medium"})}),"web"!==f.Capacitor.getPlatform()&&Object(A.jsx)("div",{id:"adjuntar-foto",onClick:ae,children:Object(A.jsx)(v.a,{fontSize:"medium"})}),Object(A.jsx)("div",{id:"adjuntar-ubicacion",onClick:function(){y(!1),E(!0)},children:Object(A.jsx)(N.a,{fontSize:"medium"})})]}),Object(A.jsx)("input",{ref:U,type:"text",className:"input-texto",placeholder:"Escriba su mensaje",onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(A.jsx)("div",{className:"enviar",onClick:ue,children:Object(A.jsx)(C.a,{style:{color:"#96CE4E",marginLeft:3}})})]})]})},oe=k()(e.wsUrl,{onOpen:function(){return console.log("opened")},onMessage:function(e){JSON.parse(e.data).usuario!==u.id&&I.play(),setTimeout((function(){var e;return null===(e=$.current)||void 0===e?void 0:e.scrollToBottom(100)}),300)},shouldReconnect:function(e){return!0}}),se=(oe.sendMessage,oe.sendJsonMessage),le=oe.lastMessage,de=(oe.lastJsonMessage,oe.readyState);oe.getWebSocket;Object(o.useEffect)((function(){if(le&&le.data)try{var e=V?Object(n.a)(V):[],t=JSON.parse(le.data),a={texto:t.texto,fecha:t.fecha,usuario:t.usuario,media:t.media,tipo:t.tipo};e.push(a),Y(e)}catch(i){console.log("err",i)}}),[le]),Object(o.useEffect)((function(){console.log("readyState",de)}),[de]);var ue=function(){var e=U.current.value;if(e&&e.trim()){var t={fecha:D().toISOString(),texto:e,usuario:u.id};se(t),setTimeout((function(){return U.current.focus()}),500)}},je=function(e){var t={fecha:D().toISOString(),texto:e,usuario:u.id};se(t)},be=function(e){if(!e)return null;var t=function(e){var t=D(ee),a=D(e.fecha);return null!==(ee=e.fecha)&&D(t).isBefore(a,"day")?Object(A.jsx)("div",{className:"corte-fecha",children:a.format("DD/MM/YYYY")},e.id):null}(e),a="texto",n=e.texto?e.texto:"",i=null;if(n.match(/^location;[-0-9\.]+;[-0-9\.]+$/gm)){a="ubicacion";var c=n.split(";")[1],r=n.split(";")[2];n=Object(A.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(c,",").concat(r),target:"_blank",children:Object(A.jsx)(S.z,{lat:c,lng:r,bloquear_interaccion:!0,center:{lat:c,lng:r},zoom:15,style:{height:100,width:"100%",borderRadius:10}})})}return e.media&&(i=Object(A.jsx)("a",{href:e.media,children:Object(A.jsx)("img",{src:e.media,alt:"imagen",style:{width:230,height:"auto",borderRadius:10}})})),t||Object(A.jsxs)("div",{className:"mensaje ".concat(a)+(e.usuario===u.id?" propio":""),children:[i,n,Object(A.jsx)("span",{className:"hora",children:D(e.fecha).format("HH:mm")}),Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 14.6",children:Object(A.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(A.jsx)("g",{id:"Capa_1","data-name":"Capa 1",children:Object(A.jsx)("polyline",{className:"cls-1",points:"16.26 0.15 0.54 14.39 23.64 14.39"})})})})]},"msg"+e.fecha)};return Object(A.jsxs)("div",{className:"chat-container",children:[Object(A.jsxs)(c.q,{isOpen:R,id:"modal-ubicacion",onDidDismiss:function(){return E(!1)},swipeToClose:!0,backdropDismiss:!0,cssClass:"modal-ubicacion",presentingElement:a||void 0,children:[Object(A.jsx)(c.j,{translucent:!0,children:Object(A.jsxs)(c.C,{children:[Object(A.jsx)(c.A,{children:"Enviar ubicaci\xf3n"}),Object(A.jsx)(c.d,{onClick:function(){return E(!1)},slot:"end",children:"Cancelar"})]})}),Object(A.jsxs)(c.g,{fullscreen:!0,children:[Object(A.jsx)(S.z,{lat:r.latitud||-25.30066,lng:r.longitud||-57.63591,zoom:14,full_screen:!0,ubicacion:function(e,t){L({lat:e,lng:t})}}),Object(A.jsx)(c.d,{onClick:function(){return ce()},id:"enviar-ubicacion",children:"Enviar"})]})]}),Object(A.jsx)("div",{className:"scroll-container",style:{flex:1},children:Object(A.jsx)(c.g,{id:"mensajes-container",scrollEvents:!0,ref:function(e){return $.current=e},children:Object(A.jsxs)("div",{className:"py-3",children:[q&&Object(A.jsx)(c.z,{name:"crescent",id:"chat-loading-spinner"}),!q&&!!V&&V.length>0&&Object(A.jsx)("div",{id:"mensajes",children:V.map((function(e,t){return be(e)}))})]})})}),!e.finalizado&&Object(A.jsx)(re,{})]})})),R=P,E=(a(513),a(1528)),T=(a(544),Object(r.a)((function(e){var t=Object(d.b)().loginStore,a=(e.botonIzquierdo||E.a,e.accionBotonIzquierdo,e.botonDerecho||Object(A.jsx)("div",{style:{width:46}})),n=e.color||"#303AB2",c=e.titulo||"",r=e.sub_titulo||"",s=(e.mostrarBarra,Object(o.useState)(!1)),l=Object(i.a)(s,2),u=l[0],j=l[1];30===t.modo_uso_app?!!t.transportista&&t.transportista.aprobado:20!==t.modo_uso_app||!!t.fabricante&&t.fabricante.aprobado;return Object(A.jsxs)("div",{className:"w-100",style:{backgroundColor:n},children:[Object(A.jsxs)("div",{className:"d-flex justify-content-between pt-3 px-3",children:[e.imagenPerfil,Object(A.jsx)("div",{className:"col-6",children:Object(A.jsxs)("div",{className:"text-center",children:[Object(A.jsx)("div",{className:"text-white mt-3",children:Object(A.jsx)("strong",{className:"nombre-titulo",children:c})}),Object(A.jsx)("div",{className:"text-white mb-3 d-flex justify-content-center align-items-start",children:Object(A.jsx)("small",{children:r})})]})}),Object(A.jsx)("div",{className:"",children:a})]}),Object(A.jsx)("div",{className:"boton-menu",onClick:function(){return j(!u)},children:Object(A.jsx)(E.a,{size:30,color:"#ffffff"})})]})}))),z=a(144).WSS_BASE_URL,B=Object(r.a)((function(e){var t=Object(o.useState)(),a=Object(i.a)(t,2),r=a[0],u=a[1],j=Object(o.useState)(""),b=Object(i.a)(j,2),m=b[0],f=b[1],p=Object(o.useState)(!0),h=Object(i.a)(p,2),O=h[0],x=h[1],g=Object(o.useState)(""),v=Object(i.a)(g,2),_=v[0],N=v[1],y=Object(o.useState)(""),C=Object(i.a)(y,2),w=(C[0],C[1]),k=Object(o.useState)("assets/person.png"),S=Object(i.a)(k,2),D=S[0],I=S[1],P=Object(d.b)(),E=Object(o.useState)(),B=Object(i.a)(E,2),L=B[0],F=B[1],M=P.loginStore,q=P.transportistaStore,U=Object(o.useState)([]),H=Object(i.a)(U,2),W=H[0],V=H[1],Y=Object(o.useState)(""),G=Object(i.a)(Y,2),J=G[0],Q=G[1],Z=Object(o.useState)(),K=Object(i.a)(Z,2),X=K[0],$=K[1],ee=Object(l.J)();Object(o.useEffect)((function(){var t;e.pedido?u(e.pedido):(t=e.idPedido,x(!0),P.environment.api.getPedido(t).then((function(e){"ok"===e.kind&&u(e.pedido)})))}),[]),Object(o.useEffect)((function(){$(q.itinerarioActivo)}),[q.itinerarioActivo]),Object(o.useEffect)((function(){var e,t,a;if(r){var n=M.fabricante&&M.fabricante.id,i=(null===(e=q.hojaRutaActiva)||void 0===e||null===(t=e.pedido)||void 0===t?void 0:t.id)===r.id,c=!!r.fabricante_id&&n===r.fabricante_id||!!(null===(a=r.fabricante)||void 0===a?void 0:a.id)&&n===r.fabricante.id,o=r.usuario.id===M.id;if(i?Q("#ff6f33"):c?Q("#303AB2"):o?Q("#ff6f33"):ee("Ocurri\xf3 un error al configurar el chat. C\xf3digo: 100","warning"),N("Id#"+r.id),i&&X){var l,d;if(X.tipo===s.u.ENTREGA)return te(r.id,s.t.CLIENTE_DRIVER,0),f((null===(l=r.usuario)||void 0===l?void 0:l.first_name)+" "+(null===(d=r.usuario)||void 0===d?void 0:d.last_name)),I(r.usuario.imagen_perfil?r.usuario.imagen_perfil:D),F("".concat(z,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(M.token)),void w(X.telefono_itinerario?X.telefono_itinerario:null);if(X.tipo===s.u.RETIRO&&X.fabricante&&X.fabricante_id)return te(r.id,s.t.FABRICANTE_DRIVER,X.fabricante_id),I(X.fabricante_imagen_perfil?X.fabricante_imagen_perfil:D),f(X.fabricante),w(X.telefono_itinerario?X.telefono_itinerario:null),void F("".concat(z,"/chat/fabricante-driver/").concat(X.fabricante_id,"/").concat(r.id,"/?token=").concat(M.token))}else{var u,j,b,m,p,h,O,g,v,_;if(c&&M.fabricante_id)return te(r.id,s.t.FABRICANTE_DRIVER,M.fabricante_id),f((null===(u=r.transportista)||void 0===u?void 0:u.usuario.first_name)+" "+(null===(j=r.transportista)||void 0===j?void 0:j.usuario.last_name)),I((null===(b=r.transportista)||void 0===b?void 0:b.usuario.imagen_perfil)?null===(m=r.transportista)||void 0===m?void 0:m.usuario.imagen_perfil:D),w(null===(p=r.transportista)||void 0===p?void 0:p.usuario.nro_telefono),void F("".concat(z,"/chat/fabricante-driver/").concat(M.fabricante_id,"/").concat(r.id,"/?token=").concat(M.token));if(o)return te(r.id,s.t.CLIENTE_DRIVER,0),f((null===(h=r.transportista)||void 0===h?void 0:h.usuario.first_name)+" "+(null===(O=r.transportista)||void 0===O?void 0:O.usuario.last_name)),I((null===(g=r.transportista)||void 0===g?void 0:g.usuario.imagen_perfil)?null===(v=r.transportista)||void 0===v?void 0:v.usuario.imagen_perfil:D),w(null===(_=r.transportista)||void 0===_?void 0:_.usuario.nro_telefono),void F("".concat(z,"/chat/cliente-driver/").concat(r.id,"/?token=").concat(M.token));ee("Ocurri\xf3 un error al configurar el chat","warning")}x(!1)}}),[r,X]);var te=function(e,t,a){x(!0),P.environment.api.getMensajesChat(e,t,a).then((function(e){if("ok"==e.kind){x(!1);var t=Object(n.a)(e.data);V(t)}}))};return Object(A.jsxs)("div",{className:e.className?"d-flex flex-column "+e.className:"d-flex flex-column",style:e.containerStyle?e.containerStyle:{},children:[!e.ocultarHeader&&Object(A.jsx)(T,{titulo:m,sub_titulo:_,mostrarBarra:!1,color:e.color?e.color:J,imagenPerfil:Object(A.jsx)("div",{className:"foto-perfil-container-chat-modal",children:Object(A.jsx)("img",{id:"foto-perfil-modal",alt:"",src:D})}),botonDerecho:Object(A.jsx)("div",{children:e.botonExtra?e.botonExtra:null})}),(O||!L)&&Object(A.jsx)("div",{className:"d-flex flex-grow-1 align-self-stretch justify-content-center align-items-center",children:Object(A.jsx)(c.z,{})}),!O&&L&&Object(A.jsx)(R,{wsUrl:L,mensajes:W,finalizado:(null===r||void 0===r?void 0:r.estado)===s.h.entregado||(null===r||void 0===r?void 0:r.estado)===s.h.incidente})]})}));t.a=B},513:function(e,t,a){},514:function(e,t,a){},523:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={ISO:"YYYY-MM-DDTHH:mm:ssZ",DATE:"DD/MM/YYYY",TIME:"HH:mm:ss",HOURMINUTE:"HH:mm",DATEHOURMINUTE:"DD/MM/YYYY HH:mm",DATETIME:"DD/MM/YYYY HH:mm:ss",HDATEMONTH:"D [de] MMMM",HDATE:"D [de] MMMM [del] YYYY",HDATETIME:"D [de] MMMM [del] YYYY [a las] HH:mm"}},525:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));a(3);var n=a(590),i=(a(559),a(9)),c=function(e){return Object(i.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(n.a,{size:20}),Object(i.jsx)("span",{children:"Iniciar"})]})})})},r=function(e){return Object(i.jsx)("div",{className:"custom-icon-abi iniciar-oportunidad-icon",children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(n.a,{size:20}),Object(i.jsx)("span",{children:"Ver"}),Object(i.jsx)("span",{children:"Mapa"})]})})})}},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},557:function(e,t,a){},558:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){}}]);
//# sourceMappingURL=113.a459a85c.chunk.js.map