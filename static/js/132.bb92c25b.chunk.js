(this["webpackJsonpabi-frontend"]=this["webpackJsonpabi-frontend"]||[]).push([[132],{1424:function(e){e.exports=JSON.parse('{"appId":"py.com.softec.abi","appName":"ABi","bundledWebRuntime":true,"npmClient":"npm","linuxAndroidStudioPath":"/opt/studio.sh","webDir":"build","plugins":{"SplashScreen":{"launchShowDuration":0,"launchAutoHide":true,"backgroundColor":"#ffffff"},"PushNotifications":{"presentationOptions":["badge","sound","alert"]},"GoogleAuth":{"scopes":["profile","email"],"serverClientId":"982900441673-kn9tu0ic3q9lh8c2cu8n7fqjv6o3h46i.apps.googleusercontent.com","forceCodeForRefreshToken":true}},"cordova":{}}')},1715:function(e,t,n){"use strict";n.r(t),n.d(t,"GoogleAuthWeb",(function(){return g}));var r=n(0),a=n.n(r),i=n(2),u=n(4),o=n(5),s=n(11),c=n(12),p=n(30),l=n(1424),g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.call(this)}return Object(o.a)(n,[{key:"webConfigured",get:function(){return"undefined"!==typeof document&&document.getElementsByName("google-signin-client_id").length>0}},{key:"loadScript",value:function(){var e="gapi";if(!(null===document||void 0===document?void 0:document.getElementById(e))){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.async=!0,n.id=e,n.onload=this.platformJsLoaded,n.src="https://apis.google.com/js/platform.js",t.appendChild(n)}}},{key:"init",value:function(){var e=this;this.webConfigured&&(this.gapiLoaded=new Promise((function(t){window.gapiResolve=t,e.loadScript()})),this.addUserChangeListener())}},{key:"platformJsLoaded",value:function(){gapi.load("auth2",(function(){var e={client_id:document.getElementsByName("google-signin-client_id")[0].content};null!=l.plugins.GoogleAuth&&null!=l.plugins.GoogleAuth.scopes&&(e.scope=l.plugins.GoogleAuth.scopes.join(" ")),gapi.auth2.init(e),window.gapiResolve()}))}},{key:"signIn",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(a.a.mark((function e(n,r){var i,u,o,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,u=!1;try{u=null!=l.plugins.GoogleAuth.serverClientId}catch(a){}if(!u){e.next=10;break}return e.next=6,gapi.auth2.getAuthInstance().grantOfflineAccess();case 6:o=e.sent,i=o.code,e.next=12;break;case 10:return e.next=12,gapi.auth2.getAuthInstance().signIn();case 12:if(s=gapi.auth2.getAuthInstance().currentUser.get(),!u){e.next=16;break}return e.next=16,s.reloadAuthResponse();case 16:(c=t.getUserFrom(s)).serverAuthCode=i,n(c),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),r(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance().currentUser.get().reloadAuthResponse();case 2:return t=e.sent,e.abrupt("return",{accessToken:t.access_token,idToken:t.id_token});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gapi.auth2.getAuthInstance().signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addUserChangeListener",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gapiLoaded;case 2:gapi.auth2.getAuthInstance().currentUser.listen((function(e){t.notifyListeners("userChange",e.isSignedIn()?t.getUserFrom(e):null)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserFrom",value:function(e){var t={},n=e.getBasicProfile();t.email=n.getEmail(),t.familyName=n.getFamilyName(),t.givenName=n.getGivenName(),t.id=n.getId(),t.imageUrl=n.getImageUrl(),t.name=n.getName();var r=e.getAuthResponse(!0);return t.authentication={accessToken:r.access_token,idToken:r.id_token},t}}]),n}(p.WebPlugin)}}]);
//# sourceMappingURL=132.bb92c25b.chunk.js.map